var MS=Object.defineProperty;var OS=(r,t,n)=>t in r?MS(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var u0=(r,t,n)=>OS(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Fp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Af={exports:{}},_a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function DS(){if(c0)return _a;c0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:r,type:s,key:c,ref:l!==void 0?l:null,props:o}}return _a.Fragment=t,_a.jsx=n,_a.jsxs=n,_a}var h0;function LS(){return h0||(h0=1,Af.exports=DS()),Af.exports}var Ce=LS(),Mf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function IS(){if(f0)return yt;f0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function T(b,P,U){this.props=b,this.context=P,this.refs=R,this.updater=U||x}T.prototype.isReactComponent={},T.prototype.setState=function(b,P){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,P,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function C(){}C.prototype=T.prototype;function O(b,P,U){this.props=b,this.context=P,this.refs=R,this.updater=U||x}var L=O.prototype=new C;L.constructor=O,S(L,T.prototype),L.isPureReactComponent=!0;var A=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function k(b,P,U,Q,nt,ut){return U=ut.ref,{$$typeof:r,type:b,key:P,ref:U!==void 0?U:null,props:ut}}function B(b,P){return k(b.type,P,void 0,void 0,void 0,b.props)}function V(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function J(b){var P={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(U){return P[U]})}var it=/\/+/g;function $(b,P){return typeof b=="object"&&b!==null&&b.key!=null?J(""+b.key):P.toString(36)}function tt(){}function rt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(tt,tt):(b.status="pending",b.then(function(P){b.status==="pending"&&(b.status="fulfilled",b.value=P)},function(P){b.status==="pending"&&(b.status="rejected",b.reason=P)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function ot(b,P,U,Q,nt){var ut=typeof b;(ut==="undefined"||ut==="boolean")&&(b=null);var lt=!1;if(b===null)lt=!0;else switch(ut){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(b.$$typeof){case r:case t:lt=!0;break;case m:return lt=b._init,ot(lt(b._payload),P,U,Q,nt)}}if(lt)return nt=nt(b),lt=Q===""?"."+$(b,0):Q,A(nt)?(U="",lt!=null&&(U=lt.replace(it,"$&/")+"/"),ot(nt,P,U,"",function(se){return se})):nt!=null&&(V(nt)&&(nt=B(nt,U+(nt.key==null||b&&b.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+lt)),P.push(nt)),1;lt=0;var Nt=Q===""?".":Q+":";if(A(b))for(var Ct=0;Ct<b.length;Ct++)Q=b[Ct],ut=Nt+$(Q,Ct),lt+=ot(Q,P,U,ut,nt);else if(Ct=E(b),typeof Ct=="function")for(b=Ct.call(b),Ct=0;!(Q=b.next()).done;)Q=Q.value,ut=Nt+$(Q,Ct++),lt+=ot(Q,P,U,ut,nt);else if(ut==="object"){if(typeof b.then=="function")return ot(rt(b),P,U,Q,nt);throw P=String(b),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return lt}function N(b,P,U){if(b==null)return b;var Q=[],nt=0;return ot(b,Q,"","",function(ut){return P.call(U,ut,nt++)}),Q}function K(b){if(b._status===-1){var P=b._result;P=P(),P.then(function(U){(b._status===0||b._status===-1)&&(b._status=1,b._result=U)},function(U){(b._status===0||b._status===-1)&&(b._status=2,b._result=U)}),b._status===-1&&(b._status=0,b._result=P)}if(b._status===1)return b._result.default;throw b._result}var W=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function et(){}return yt.Children={map:N,forEach:function(b,P,U){N(b,function(){P.apply(this,arguments)},U)},count:function(b){var P=0;return N(b,function(){P++}),P},toArray:function(b){return N(b,function(P){return P})||[]},only:function(b){if(!V(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},yt.Component=T,yt.Fragment=n,yt.Profiler=l,yt.PureComponent=O,yt.StrictMode=s,yt.Suspense=d,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,yt.__COMPILER_RUNTIME={__proto__:null,c:function(b){return M.H.useMemoCache(b)}},yt.cache=function(b){return function(){return b.apply(null,arguments)}},yt.cloneElement=function(b,P,U){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Q=S({},b.props),nt=b.key,ut=void 0;if(P!=null)for(lt in P.ref!==void 0&&(ut=void 0),P.key!==void 0&&(nt=""+P.key),P)!F.call(P,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&P.ref===void 0||(Q[lt]=P[lt]);var lt=arguments.length-2;if(lt===1)Q.children=U;else if(1<lt){for(var Nt=Array(lt),Ct=0;Ct<lt;Ct++)Nt[Ct]=arguments[Ct+2];Q.children=Nt}return k(b.type,nt,void 0,void 0,ut,Q)},yt.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:o,_context:b},b},yt.createElement=function(b,P,U){var Q,nt={},ut=null;if(P!=null)for(Q in P.key!==void 0&&(ut=""+P.key),P)F.call(P,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(nt[Q]=P[Q]);var lt=arguments.length-2;if(lt===1)nt.children=U;else if(1<lt){for(var Nt=Array(lt),Ct=0;Ct<lt;Ct++)Nt[Ct]=arguments[Ct+2];nt.children=Nt}if(b&&b.defaultProps)for(Q in lt=b.defaultProps,lt)nt[Q]===void 0&&(nt[Q]=lt[Q]);return k(b,ut,void 0,void 0,null,nt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(b){return{$$typeof:h,render:b}},yt.isValidElement=V,yt.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:K}},yt.memo=function(b,P){return{$$typeof:_,type:b,compare:P===void 0?null:P}},yt.startTransition=function(b){var P=M.T,U={};M.T=U;try{var Q=b(),nt=M.S;nt!==null&&nt(U,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(et,W)}catch(ut){W(ut)}finally{M.T=P}},yt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},yt.use=function(b){return M.H.use(b)},yt.useActionState=function(b,P,U){return M.H.useActionState(b,P,U)},yt.useCallback=function(b,P){return M.H.useCallback(b,P)},yt.useContext=function(b){return M.H.useContext(b)},yt.useDebugValue=function(){},yt.useDeferredValue=function(b,P){return M.H.useDeferredValue(b,P)},yt.useEffect=function(b,P,U){var Q=M.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(b,P)},yt.useId=function(){return M.H.useId()},yt.useImperativeHandle=function(b,P,U){return M.H.useImperativeHandle(b,P,U)},yt.useInsertionEffect=function(b,P){return M.H.useInsertionEffect(b,P)},yt.useLayoutEffect=function(b,P){return M.H.useLayoutEffect(b,P)},yt.useMemo=function(b,P){return M.H.useMemo(b,P)},yt.useOptimistic=function(b,P){return M.H.useOptimistic(b,P)},yt.useReducer=function(b,P,U){return M.H.useReducer(b,P,U)},yt.useRef=function(b){return M.H.useRef(b)},yt.useState=function(b){return M.H.useState(b)},yt.useSyncExternalStore=function(b,P,U){return M.H.useSyncExternalStore(b,P,U)},yt.useTransition=function(){return M.H.useTransition()},yt.version="19.1.0",yt}var d0;function Hu(){return d0||(d0=1,Mf.exports=IS()),Mf.exports}var jt=Hu();const NS=Fp(jt);var Of={exports:{}},ma={},Df={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function zS(){return g0||(g0=1,function(r){function t(N,K){var W=N.length;N.push(K);t:for(;0<W;){var et=W-1>>>1,b=N[et];if(0<l(b,K))N[et]=K,N[W]=b,W=et;else break t}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var K=N[0],W=N.pop();if(W!==K){N[0]=W;t:for(var et=0,b=N.length,P=b>>>1;et<P;){var U=2*(et+1)-1,Q=N[U],nt=U+1,ut=N[nt];if(0>l(Q,W))nt<b&&0>l(ut,Q)?(N[et]=ut,N[nt]=W,et=nt):(N[et]=Q,N[U]=W,et=U);else if(nt<b&&0>l(ut,W))N[et]=ut,N[nt]=W,et=nt;else break t}}return K}function l(N,K){var W=N.sortIndex-K.sortIndex;return W!==0?W:N.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],_=[],m=1,y=null,E=3,x=!1,S=!1,R=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function A(N){for(var K=n(_);K!==null;){if(K.callback===null)s(_);else if(K.startTime<=N)s(_),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(_)}}function M(N){if(R=!1,A(N),!S)if(n(d)!==null)S=!0,F||(F=!0,$());else{var K=n(_);K!==null&&ot(M,K.startTime-N)}}var F=!1,k=-1,B=5,V=-1;function J(){return T?!0:!(r.unstable_now()-V<B)}function it(){if(T=!1,F){var N=r.unstable_now();V=N;var K=!0;try{t:{S=!1,R&&(R=!1,O(k),k=-1),x=!0;var W=E;try{e:{for(A(N),y=n(d);y!==null&&!(y.expirationTime>N&&J());){var et=y.callback;if(typeof et=="function"){y.callback=null,E=y.priorityLevel;var b=et(y.expirationTime<=N);if(N=r.unstable_now(),typeof b=="function"){y.callback=b,A(N),K=!0;break e}y===n(d)&&s(d),A(N)}else s(d);y=n(d)}if(y!==null)K=!0;else{var P=n(_);P!==null&&ot(M,P.startTime-N),K=!1}}break t}finally{y=null,E=W,x=!1}K=void 0}}finally{K?$():F=!1}}}var $;if(typeof L=="function")$=function(){L(it)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,rt=tt.port2;tt.port1.onmessage=it,$=function(){rt.postMessage(null)}}else $=function(){C(it,0)};function ot(N,K){k=C(function(){N(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(N){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var W=E;E=K;try{return N()}finally{E=W}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(N,K){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=E;E=N;try{return K()}finally{E=W}},r.unstable_scheduleCallback=function(N,K,W){var et=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?et+W:et):W=et,N){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=W+b,N={id:m++,callback:K,priorityLevel:N,startTime:W,expirationTime:b,sortIndex:-1},W>et?(N.sortIndex=W,t(_,N),n(d)===null&&N===n(_)&&(R?(O(k),k=-1):R=!0,ot(M,W-et))):(N.sortIndex=b,t(d,N),S||x||(S=!0,F||(F=!0,$()))),N},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(N){var K=E;return function(){var W=E;E=K;try{return N.apply(this,arguments)}finally{E=W}}}}(Lf)),Lf}var _0;function GS(){return _0||(_0=1,Df.exports=zS()),Df.exports}var If={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function US(){if(m0)return Oe;m0=1;var r=Hu();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,_,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:_,implementation:m}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Oe.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return o(d,_,null,m)},Oe.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},Oe.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},Oe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Oe.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,x=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:E,fetchPriority:x,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Oe.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=h(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},Oe.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Oe.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=h(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},Oe.requestFormReset=function(d){s.d.r(d)},Oe.unstable_batchedUpdates=function(d,_){return d(_)},Oe.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},Oe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Oe.version="19.1.0",Oe}var y0;function XS(){if(y0)return If.exports;y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),If.exports=US(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function YS(){if(p0)return ma;p0=1;var r=GS(),t=Hu(),n=XS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function d(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,u=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),e;if(g===u)return h(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=g;else{for(var p=!1,v=f.child;v;){if(v===a){p=!0,a=f,u=g;break}if(v===u){p=!0,u=f,a=g;break}v=v.sibling}if(!p){for(v=g.child;v;){if(v===a){p=!0,a=g,u=f;break}if(v===u){p=!0,u=g,a=f;break}v=v.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=it&&e[it]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case L:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case A:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:rt(e.type)||"Memo";case B:i=e._payload,e=e._init;try{return rt(e(i))}catch{}}return null}var ot=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},et=[],b=-1;function P(e){return{current:e}}function U(e){0>b||(e.current=et[b],et[b]=null,b--)}function Q(e,i){b++,et[b]=e.current,e.current=i}var nt=P(null),ut=P(null),lt=P(null),Nt=P(null);function Ct(e,i){switch(Q(lt,i),Q(ut,e),Q(nt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Uy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Uy(i),e=Xy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(nt),Q(nt,e)}function se(){U(nt),U(ut),U(lt)}function Ee(e){e.memoizedState!==null&&Q(Nt,e);var i=nt.current,a=Xy(i,e.type);i!==a&&(Q(ut,e),Q(nt,a))}function Jn(e){ut.current===e&&(U(nt),U(ut)),Nt.current===e&&(U(Nt),ca._currentValue=W)}var Es=Object.prototype.hasOwnProperty,$n=r.unstable_scheduleCallback,Cn=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,un=r.unstable_requestPaint,ve=r.unstable_now,Li=r.unstable_getCurrentPriorityLevel,Ii=r.unstable_ImmediatePriority,Yn=r.unstable_UserBlockingPriority,bn=r.unstable_NormalPriority,Ni=r.unstable_LowPriority,ee=r.unstable_IdlePriority,yl=r.log,pl=r.unstable_setDisableYieldValue,Fn=null,he=null;function Bn(e){if(typeof yl=="function"&&pl(e),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(Fn,e)}catch{}}var we=Math.clz32?Math.clz32:yc,Ja=Math.log,El=Math.LN2;function yc(e){return e>>>=0,e===0?32:31-(Ja(e)/El|0)|0}var er=256,vs=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,i,a){var u=e.pendingLanes;if(u===0)return 0;var f=0,g=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=u&134217727;return v!==0?(u=v&~g,u!==0?f=Pn(u):(p&=v,p!==0?f=Pn(p):a||(a=v&~e,a!==0&&(f=Pn(a))))):(v=u&~g,v!==0?f=Pn(v):p!==0?f=Pn(p):a||(a=u&~e,a!==0&&(f=Pn(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function Gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pc(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var e=er;return er<<=1,(er&4194048)===0&&(er=256),e}function Ui(){var e=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),e}function ti(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function wn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $a(e,i,a,u,f,g){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,G=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-we(a),q=1<<H;v[H]=0,w[H]=-1;var X=G[H];if(X!==null)for(G[H]=null,H=0;H<X.length;H++){var Y=X[H];Y!==null&&(Y.lane&=-536870913)}a&=~q}u!==0&&vl(e,u,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function vl(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-we(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194090}function Ne(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var u=31-we(a),f=1<<u;f&i|e[u]&i&&(e[u]|=i),a&=~f}}function An(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qe(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function Fe(e,i){var a=K.p;try{return K.p=e,i()}finally{K.p=a}}var fe=Math.random().toString(36).slice(2),Ht="__reactFiber$"+fe,xt="__reactProps$"+fe,Qt="__reactContainer$"+fe,Je="__reactEvents$"+fe,Ec="__reactListeners$"+fe,vv="__reactHandles$"+fe,Cg="__reactResources$"+fe,Sl="__reactMarker$"+fe;function vc(e){delete e[Ht],delete e[xt],delete e[Je],delete e[Ec],delete e[vv]}function ir(e){var i=e[Ht];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Qt]||a[Ht]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Py(e);e!==null;){if(a=e[Ht])return a;e=Py(e)}return i}e=a,a=e.parentNode}return null}function sr(e){if(e=e[Ht]||e[Qt]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function xl(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function rr(e){var i=e[Cg];return i||(i=e[Cg]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[Sl]=!0}var bg=new Set,wg={};function Ss(e,i){lr(e,i),lr(e+"Capture",i)}function lr(e,i){for(wg[e]=i,e=0;e<i.length;e++)bg.add(i[e])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},Mg={};function xv(e){return Es.call(Mg,e)?!0:Es.call(Ag,e)?!1:Sv.test(e)?Mg[e]=!0:(Ag[e]=!0,!1)}function to(e,i,a){if(xv(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function eo(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ei(e,i,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+u)}}var Sc,Og;function ar(e){if(Sc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Sc=i&&i[1]||"",Og=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sc+e+Og}var xc=!1;function Tc(e,i){if(!e||xc)return"";xc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(Y){var X=Y}Reflect.construct(e,[],q)}else{try{q.call()}catch(Y){X=Y}e.call(q.prototype)}}else{try{throw Error()}catch(Y){X=Y}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(Y){if(Y&&X&&typeof Y.stack=="string")return[Y.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),p=g[0],v=g[1];if(p&&v){var w=p.split(`
`),G=v.split(`
`);for(f=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===w.length||f===G.length)for(u=w.length-1,f=G.length-1;1<=u&&0<=f&&w[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(w[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||w[u]!==G[f]){var H=`
`+w[u].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=u&&0<=f);break}}}finally{xc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ar(a):""}function Tv(e){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Tc(e.type,!1);case 11:return Tc(e.type.render,!1);case 1:return Tc(e.type,!0);case 31:return ar("Activity");default:return""}}function Dg(e){try{var i="";do i+=Tv(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lg(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rv(e){var i=Lg(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),u=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(p){u=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function no(e){e._valueTracker||(e._valueTracker=Rv(e))}function Ig(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return e&&(u=Lg(e)?e.checked?"true":"false":e.value),e=u,e!==a?(i.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cv=/[\n"\\]/g;function hn(e){return e.replace(Cv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rc(e,i,a,u,f,g,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?Cc(e,p,cn(i)):a!=null?Cc(e,p,cn(a)):u!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+cn(v):e.removeAttribute("name")}function Ng(e,i,a,u,f,g,p,v){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,v||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=v?e.checked:!!u,e.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Cc(e,i,a){i==="number"&&io(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function or(e,i,a,u){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function zg(e,i,a){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+cn(a):""}function Gg(e,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ot(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=cn(i),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function ur(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var bv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(e,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,a):typeof a!="number"||a===0||bv.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Xg(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Ug(e,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Ug(e,g,i[g])}function bc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Av=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(e){return Av.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wc=null;function Ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hr=null;function Yg(e){var i=sr(e);if(i&&(e=i.stateNode)){var a=e[xt]||null;t:switch(e=i.stateNode,i.type){case"input":if(Rc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==e&&u.form===e.form){var f=u[xt]||null;if(!f)throw Error(s(90));Rc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===e.form&&Ig(u)}break t;case"textarea":zg(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&or(e,!!a.multiple,i,!1)}}}var Mc=!1;function Fg(e,i,a){if(Mc)return e(i,a);Mc=!0;try{var u=e(i);return u}finally{if(Mc=!1,(cr!==null||hr!==null)&&(Ho(),cr&&(i=cr,e=hr,hr=cr=null,Yg(i),e)))for(i=0;i<e.length;i++)Yg(e[i])}}function Tl(e,i){var a=e.stateNode;if(a===null)return null;var u=a[xt]||null;if(u===null)return null;a=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(ni)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Oc=!1}var Xi=null,Dc=null,ro=null;function Bg(){if(ro)return ro;var e,i=Dc,a=i.length,u,f="value"in Xi?Xi.value:Xi.textContent,g=f.length;for(e=0;e<a&&i[e]===f[e];e++);var p=a-e;for(u=1;u<=p&&i[a-u]===f[g-u];u++);return ro=f.slice(e,1<u?1-u:void 0)}function lo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ao(){return!0}function Pg(){return!1}function Be(e){function i(a,u,f,g,p){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(g):g[v]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ao:Pg,this.isPropagationStopped=Pg,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Be(xs),Cl=m({},xs,{view:0,detail:0}),Mv=Be(Cl),Lc,Ic,bl,uo=m({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(Lc=e.screenX-bl.screenX,Ic=e.screenY-bl.screenY):Ic=Lc=0,bl=e),Lc)},movementY:function(e){return"movementY"in e?e.movementY:Ic}}),kg=Be(uo),Ov=m({},uo,{dataTransfer:0}),Dv=Be(Ov),Lv=m({},Cl,{relatedTarget:0}),Nc=Be(Lv),Iv=m({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nv=Be(Iv),zv=m({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gv=Be(zv),Uv=m({},xs,{data:0}),Hg=Be(Uv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fv[e])?!!i[e]:!1}function zc(){return Bv}var Pv=m({},Cl,{key:function(e){if(e.key){var i=Xv[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kv=Be(Pv),Hv=m({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Be(Hv),Zv=m({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),jv=Be(Zv),Kv=m({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=Be(Kv),Vv=m({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wv=Be(Vv),Qv=m({},xs,{newState:0,oldState:0}),Jv=Be(Qv),$v=[9,13,27,32],Gc=ni&&"CompositionEvent"in window,wl=null;ni&&"documentMode"in document&&(wl=document.documentMode);var t1=ni&&"TextEvent"in window&&!wl,jg=ni&&(!Gc||wl&&8<wl&&11>=wl),Kg=" ",qg=!1;function Vg(e,i){switch(e){case"keyup":return $v.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function e1(e,i){switch(e){case"compositionend":return Wg(i);case"keypress":return i.which!==32?null:(qg=!0,Kg);case"textInput":return e=i.data,e===Kg&&qg?null:e;default:return null}}function n1(e,i){if(fr)return e==="compositionend"||!Gc&&Vg(e,i)?(e=Bg(),ro=Dc=Xi=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return jg&&i.locale!=="ko"?null:i.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!i1[e.type]:i==="textarea"}function Jg(e,i,a,u){cr?hr?hr.push(u):hr=[u]:cr=u,i=Wo(i,"onChange"),0<i.length&&(a=new oo("onChange","change",null,a,u),e.push({event:a,listeners:i}))}var Al=null,Ml=null;function s1(e){Ly(e,0)}function co(e){var i=xl(e);if(Ig(i))return e}function $g(e,i){if(e==="change")return i}var t_=!1;if(ni){var Uc;if(ni){var Xc="oninput"in document;if(!Xc){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Xc=typeof e_.oninput=="function"}Uc=Xc}else Uc=!1;t_=Uc&&(!document.documentMode||9<document.documentMode)}function n_(){Al&&(Al.detachEvent("onpropertychange",i_),Ml=Al=null)}function i_(e){if(e.propertyName==="value"&&co(Ml)){var i=[];Jg(i,Ml,e,Ac(e)),Fg(s1,i)}}function r1(e,i,a){e==="focusin"?(n_(),Al=i,Ml=a,Al.attachEvent("onpropertychange",i_)):e==="focusout"&&n_()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(Ml)}function a1(e,i){if(e==="click")return co(i)}function o1(e,i){if(e==="input"||e==="change")return co(i)}function u1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var $e=typeof Object.is=="function"?Object.is:u1;function Ol(e,i){if($e(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Es.call(i,f)||!$e(e[f],i[f]))return!1}return!0}function s_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r_(e,i){var a=s_(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=i&&u>=i)return{node:a,offset:i-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=s_(a)}}function l_(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?l_(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function a_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=io(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=io(e.document)}return i}function Yc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var c1=ni&&"documentMode"in document&&11>=document.documentMode,dr=null,Fc=null,Dl=null,Bc=!1;function o_(e,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||dr==null||dr!==io(u)||(u=dr,"selectionStart"in u&&Yc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Ol(Dl,u)||(Dl=u,u=Wo(Fc,"onSelect"),0<u.length&&(i=new oo("onSelect","select",null,i,a),e.push({event:i,listeners:u}),i.target=dr)))}function Ts(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var gr={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Pc={},u_={};ni&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Rs(e){if(Pc[e])return Pc[e];if(!gr[e])return e;var i=gr[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in u_)return Pc[e]=i[a];return e}var c_=Rs("animationend"),h_=Rs("animationiteration"),f_=Rs("animationstart"),h1=Rs("transitionrun"),f1=Rs("transitionstart"),d1=Rs("transitioncancel"),d_=Rs("transitionend"),g_=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Mn(e,i){g_.set(e,i),Ss(i,[e])}var __=new WeakMap;function fn(e,i){if(typeof e=="object"&&e!==null){var a=__.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Dg(i)},__.set(e,i),i)}return{value:e,source:i,stack:Dg(i)}}var dn=[],_r=0,Hc=0;function ho(){for(var e=_r,i=Hc=_r=0;i<e;){var a=dn[i];dn[i++]=null;var u=dn[i];dn[i++]=null;var f=dn[i];dn[i++]=null;var g=dn[i];if(dn[i++]=null,u!==null&&f!==null){var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}g!==0&&m_(a,f,g)}}function fo(e,i,a,u){dn[_r++]=e,dn[_r++]=i,dn[_r++]=a,dn[_r++]=u,Hc|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Zc(e,i,a,u){return fo(e,i,a,u),go(e)}function mr(e,i){return fo(e,null,null,i),go(e)}function m_(e,i,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,g=e.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&i!==null&&(f=31-we(a),e=g.hiddenUpdates,u=e[f],u===null?e[f]=[i]:u.push(i),i.lane=a|536870912),g):null}function go(e){if(50<na)throw na=0,Qh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var yr={};function g1(e,i,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,i,a,u){return new g1(e,i,a,u)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ii(e,i){var a=e.alternate;return a===null?(a=tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function y_(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function _o(e,i,a,u,f,g){var p=0;if(u=e,typeof e=="function")jc(e)&&(p=1);else if(typeof e=="string")p=mS(e,a,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=tn(31,a,i,f),e.elementType=V,e.lanes=g,e;case S:return Cs(a.children,f,g,i);case R:p=8,f|=24;break;case T:return e=tn(12,a,i,f|2),e.elementType=T,e.lanes=g,e;case M:return e=tn(13,a,i,f),e.elementType=M,e.lanes=g,e;case F:return e=tn(19,a,i,f),e.elementType=F,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case L:p=10;break t;case O:p=9;break t;case A:p=11;break t;case k:p=14;break t;case B:p=16,u=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=tn(p,a,i,f),i.elementType=e,i.type=u,i.lanes=g,i}function Cs(e,i,a,u){return e=tn(7,e,u,i),e.lanes=a,e}function Kc(e,i,a){return e=tn(6,e,null,i),e.lanes=a,e}function qc(e,i,a){return i=tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var pr=[],Er=0,mo=null,yo=0,gn=[],_n=0,bs=null,si=1,ri="";function ws(e,i){pr[Er++]=yo,pr[Er++]=mo,mo=e,yo=i}function p_(e,i,a){gn[_n++]=si,gn[_n++]=ri,gn[_n++]=bs,bs=e;var u=si;e=ri;var f=32-we(u)-1;u&=~(1<<f),a+=1;var g=32-we(i)+f;if(30<g){var p=f-f%5;g=(u&(1<<p)-1).toString(32),u>>=p,f-=p,si=1<<32-we(i)+f|a<<f|u,ri=g+e}else si=1<<g|a<<f|u,ri=e}function Vc(e){e.return!==null&&(ws(e,1),p_(e,1,0))}function Wc(e){for(;e===mo;)mo=pr[--Er],pr[Er]=null,yo=pr[--Er],pr[Er]=null;for(;e===bs;)bs=gn[--_n],gn[_n]=null,ri=gn[--_n],gn[_n]=null,si=gn[--_n],gn[_n]=null}var ze=null,Jt=null,Dt=!1,As=null,kn=!1,Qc=Error(s(519));function Ms(e){var i=Error(s(418,""));throw Nl(fn(i,e)),Qc}function E_(e){var i=e.stateNode,a=e.type,u=e.memoizedProps;switch(i[Ht]=e,i[xt]=u,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<sa.length;a++)Rt(sa[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),Ng(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),no(i);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),Gg(i,u.value,u.defaultValue,u.children),no(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||Gy(i.textContent,a)?(u.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),u.onScroll!=null&&Rt("scroll",i),u.onScrollEnd!=null&&Rt("scrollend",i),u.onClick!=null&&(i.onclick=Qo),i=!0):i=!1,i||Ms(e)}function v_(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:ze=ze.return}}function Ll(e){if(e!==ze)return!1;if(!Dt)return v_(e),Dt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gf(e.type,e.memoizedProps)),a=!a),a&&Jt&&Ms(e),v_(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Jt=Dn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Jt=null}}else i===27?(i=Jt,ts(e.type)?(e=pf,pf=null,Jt=e):Jt=i):Jt=ze?Dn(e.stateNode.nextSibling):null;return!0}function Il(){Jt=ze=null,Dt=!1}function S_(){var e=As;return e!==null&&(He===null?He=e:He.push.apply(He,e),As=null),e}function Nl(e){As===null?As=[e]:As.push(e)}var Jc=P(null),Os=null,li=null;function Yi(e,i,a){Q(Jc,i._currentValue),i._currentValue=a}function ai(e){e._currentValue=Jc.current,U(Jc)}function $c(e,i,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===a)break;e=e.return}}function th(e,i,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var p=f.child;g=g.firstContext;t:for(;g!==null;){var v=g;g=f;for(var w=0;w<i.length;w++)if(v.context===i[w]){g.lanes|=a,v=g.alternate,v!==null&&(v.lanes|=a),$c(g.return,a,e),u||(p=null);break t}g=v.next}}else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=a,g=p.alternate,g!==null&&(g.lanes|=a),$c(p,a,e),p=null}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===e){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}}function zl(e,i,a,u){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var p=f.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=f.type;$e(f.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(f===Nt.current){if(p=f.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ca):e=[ca])}f=f.return}e!==null&&th(i,e,a,u),i.flags|=262144}function po(e){for(e=e.firstContext;e!==null;){if(!$e(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Os=e,li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Me(e){return x_(Os,e)}function Eo(e,i){return Os===null&&Ds(e),x_(e,i)}function x_(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},li===null){if(e===null)throw Error(s(308));li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else li=li.next=i;return a}var _1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},m1=r.unstable_scheduleCallback,y1=r.unstable_NormalPriority,ae={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new _1,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&m1(y1,function(){e.controller.abort()})}var Ul=null,nh=0,vr=0,Sr=null;function p1(e,i){if(Ul===null){var a=Ul=[];nh=0,vr=rf(),Sr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return nh++,i.then(T_,T_),i}function T_(){if(--nh===0&&Ul!==null){Sr!==null&&(Sr.status="fulfilled");var e=Ul;Ul=null,vr=0,Sr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function E1(e,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var R_=N.S;N.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&p1(e,i),R_!==null&&R_(e,i)};var Ls=P(null);function ih(){var e=Ls.current;return e!==null?e:Zt.pooledCache}function vo(e,i){i===null?Q(Ls,Ls.current):Q(Ls,i.pool)}function C_(){var e=ih();return e===null?null:{parent:ae._currentValue,pool:e}}var Xl=Error(s(460)),b_=Error(s(474)),So=Error(s(542)),sh={then:function(){}};function w_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xo(){}function A_(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(xo,xo),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,O_(e),e;default:if(typeof i.status=="string")i.then(xo,xo);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,O_(e),e}throw Yl=i,Xl}}var Yl=null;function M_(){if(Yl===null)throw Error(s(459));var e=Yl;return Yl=null,e}function O_(e){if(e===Xl||e===So)throw Error(s(483))}var Fi=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,i,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=go(e),m_(e,null,a),i}return fo(e,u,i,a),go(e)}function Fl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,a|=u,i.lanes=a,Ne(e,a)}}function ah(e,i){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=p:g=g.next=p,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var oh=!1;function Bl(){if(oh){var e=Sr;if(e!==null)throw e}}function Pl(e,i,a,u){oh=!1;var f=e.updateQueue;Fi=!1;var g=f.firstBaseUpdate,p=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var w=v,G=w.next;w.next=null,p===null?g=G:p.next=G,p=w;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==p&&(v===null?H.firstBaseUpdate=G:v.next=G,H.lastBaseUpdate=w))}if(g!==null){var q=f.baseState;p=0,H=G=w=null,v=g;do{var X=v.lane&-536870913,Y=X!==v.lane;if(Y?(wt&X)===X:(u&X)===X){X!==0&&X===vr&&(oh=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var gt=e,ft=v;X=i;var Pt=a;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){q=gt.call(Pt,q,X);break t}q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,X=typeof gt=="function"?gt.call(Pt,q,X):gt,X==null)break t;q=m({},q,X);break t;case 2:Fi=!0}}X=v.callback,X!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[X]:Y.push(X))}else Y={lane:X,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(G=H=Y,w=q):H=H.next=Y,p|=X;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;Y=v,v=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);H===null&&(w=q),f.baseState=w,f.firstBaseUpdate=G,f.lastBaseUpdate=H,g===null&&(f.shared.lanes=0),Wi|=p,e.lanes=p,e.memoizedState=q}}function D_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function L_(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)D_(a[e],i)}var xr=P(null),To=P(0);function I_(e,i){e=gi,Q(To,e),Q(xr,i),gi=e|i.baseLanes}function uh(){Q(To,gi),Q(xr,xr.current)}function ch(){gi=To.current,U(xr),U(To)}var ki=0,vt=null,Ft=null,re=null,Ro=!1,Tr=!1,Is=!1,Co=0,kl=0,Rr=null,v1=0;function ne(){throw Error(s(321))}function hh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!$e(e[a],i[a]))return!1;return!0}function fh(e,i,a,u,f,g){return ki=g,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,N.H=e===null||e.memoizedState===null?mm:ym,Is=!1,g=a(u,f),Is=!1,Tr&&(g=z_(i,a,u,f)),N_(e),g}function N_(e){N.H=Do;var i=Ft!==null&&Ft.next!==null;if(ki=0,re=Ft=vt=null,Ro=!1,kl=0,Rr=null,i)throw Error(s(300));e===null||ge||(e=e.dependencies,e!==null&&po(e)&&(ge=!0))}function z_(e,i,a,u){vt=e;var f=0;do{if(Tr&&(Rr=null),kl=0,Tr=!1,25<=f)throw Error(s(301));if(f+=1,re=Ft=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}N.H=w1,g=i(a,u)}while(Tr);return g}function S1(){var e=N.H,i=e.useState()[0];return i=typeof i.then=="function"?Hl(i):i,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(vt.flags|=1024),i}function dh(){var e=Co!==0;return Co=0,e}function gh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function _h(e){if(Ro){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ro=!1}ki=0,re=Ft=vt=null,Tr=!1,kl=Co=0,Rr=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?vt.memoizedState=re=e:re=re.next=e,re}function le(){if(Ft===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var i=re===null?vt.memoizedState:re.next;if(i!==null)re=i,Ft=e;else{if(e===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},re===null?vt.memoizedState=re=e:re=re.next=e}return re}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var i=kl;return kl+=1,Rr===null&&(Rr=[]),e=A_(Rr,e,i),i=vt,(re===null?i.memoizedState:re.next)===null&&(i=i.alternate,N.H=i===null||i.memoizedState===null?mm:ym),e}function bo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===L)return Me(e)}throw Error(s(438,String(e)))}function yh(e){var i=null,a=vt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=vt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mh(),vt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),u=0;u<e;u++)a[u]=J;return i.index++,a}function oi(e,i){return typeof i=="function"?i(e):i}function wo(e){var i=le();return ph(i,Ft,e)}function ph(e,i,a){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=e.baseQueue,g=u.pending;if(g!==null){if(f!==null){var p=f.next;f.next=g.next,g.next=p}i.baseQueue=f=g,u.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var v=p=null,w=null,G=i,H=!1;do{var q=G.lane&-536870913;if(q!==G.lane?(wt&q)===q:(ki&q)===q){var X=G.revertLane;if(X===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),q===vr&&(H=!0);else if((ki&X)===X){G=G.next,X===vr&&(H=!0);continue}else q={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(v=w=q,p=g):w=w.next=q,vt.lanes|=X,Wi|=X;q=G.action,Is&&a(g,q),g=G.hasEagerState?G.eagerState:a(g,q)}else X={lane:q,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(v=w=X,p=g):w=w.next=X,vt.lanes|=q,Wi|=q;G=G.next}while(G!==null&&G!==i);if(w===null?p=g:w.next=v,!$e(g,e.memoizedState)&&(ge=!0,H&&(a=Sr,a!==null)))throw a;e.memoizedState=g,e.baseState=p,e.baseQueue=w,u.lastRenderedState=g}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Eh(e){var i=le(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var p=f=f.next;do g=e(g,p.action),p=p.next;while(p!==f);$e(g,i.memoizedState)||(ge=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,u]}function G_(e,i,a){var u=vt,f=le(),g=Dt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var p=!$e((Ft||f).memoizedState,a);p&&(f.memoizedState=a,ge=!0),f=f.queue;var v=Y_.bind(null,u,f,e);if(Zl(2048,8,v,[e]),f.getSnapshot!==i||p||re!==null&&re.memoizedState.tag&1){if(u.flags|=2048,Cr(9,Ao(),X_.bind(null,u,f,a,i),null),Zt===null)throw Error(s(349));g||(ki&124)!==0||U_(u,i,a)}return a}function U_(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=vt.updateQueue,i===null?(i=mh(),vt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function X_(e,i,a,u){i.value=a,i.getSnapshot=u,F_(i)&&B_(e)}function Y_(e,i,a){return a(function(){F_(i)&&B_(e)})}function F_(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!$e(e,a)}catch{return!0}}function B_(e){var i=mr(e,2);i!==null&&ln(i,e,2)}function vh(e){var i=Pe();if(typeof e=="function"){var a=e;if(e=a(),Is){Bn(!0);try{a()}finally{Bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},i}function P_(e,i,a,u){return e.baseState=a,ph(e,Ft,typeof u=="function"?u:oi)}function x1(e,i,a,u,f){if(Oo(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};N.T!==null?a(!0):g.isTransition=!1,u(g),a=i.pending,a===null?(g.next=i.pending=g,k_(i,g)):(g.next=a.next,i.pending=a.next=g)}}function k_(e,i){var a=i.action,u=i.payload,f=e.state;if(i.isTransition){var g=N.T,p={};N.T=p;try{var v=a(f,u),w=N.S;w!==null&&w(p,v),H_(e,i,v)}catch(G){Sh(e,i,G)}finally{N.T=g}}else try{g=a(f,u),H_(e,i,g)}catch(G){Sh(e,i,G)}}function H_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Z_(e,i,u)},function(u){return Sh(e,i,u)}):Z_(e,i,a)}function Z_(e,i,a){i.status="fulfilled",i.value=a,j_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,k_(e,a)))}function Sh(e,i,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,j_(i),i=i.next;while(i!==u)}e.action=null}function j_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function K_(e,i){return i}function q_(e,i){if(Dt){var a=Zt.formState;if(a!==null){t:{var u=vt;if(Dt){if(Jt){e:{for(var f=Jt,g=kn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Dn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Jt=Dn(f.nextSibling),u=f.data==="F!";break t}}Ms(u)}u=!1}u&&(i=a[0])}}return a=Pe(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K_,lastRenderedState:i},a.queue=u,a=dm.bind(null,vt,u),u.dispatch=a,u=vh(!1),g=bh.bind(null,vt,!1,u.queue),u=Pe(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,a=x1.bind(null,vt,f,g,a),f.dispatch=a,u.memoizedState=e,[i,a,!1]}function V_(e){var i=le();return W_(i,Ft,e)}function W_(e,i,a){if(i=ph(e,i,K_)[0],e=wo(oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Hl(i)}catch(p){throw p===Xl?So:p}else u=i;i=le();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(vt.flags|=2048,Cr(9,Ao(),T1.bind(null,f,a),null)),[u,g,e]}function T1(e,i){e.action=i}function Q_(e){var i=le(),a=Ft;if(a!==null)return W_(i,a,e);le(),i=i.memoizedState,a=le();var u=a.queue.dispatch;return a.memoizedState=e,[i,u,!1]}function Cr(e,i,a,u){return e={tag:e,create:a,deps:u,inst:i,next:null},i=vt.updateQueue,i===null&&(i=mh(),vt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,i.lastEffect=e),e}function Ao(){return{destroy:void 0,resource:void 0}}function J_(){return le().memoizedState}function Mo(e,i,a,u){var f=Pe();u=u===void 0?null:u,vt.flags|=e,f.memoizedState=Cr(1|i,Ao(),a,u)}function Zl(e,i,a,u){var f=le();u=u===void 0?null:u;var g=f.memoizedState.inst;Ft!==null&&u!==null&&hh(u,Ft.memoizedState.deps)?f.memoizedState=Cr(i,g,a,u):(vt.flags|=e,f.memoizedState=Cr(1|i,g,a,u))}function $_(e,i){Mo(8390656,8,e,i)}function tm(e,i){Zl(2048,8,e,i)}function em(e,i){return Zl(4,2,e,i)}function nm(e,i){return Zl(4,4,e,i)}function im(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function sm(e,i,a){a=a!=null?a.concat([e]):null,Zl(4,4,im.bind(null,i,e),a)}function xh(){}function rm(e,i){var a=le();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&hh(i,u[1])?u[0]:(a.memoizedState=[e,i],e)}function lm(e,i){var a=le();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&hh(i,u[1]))return u[0];if(u=e(),Is){Bn(!0);try{e()}finally{Bn(!1)}}return a.memoizedState=[u,i],u}function Th(e,i,a){return a===void 0||(ki&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=uy(),vt.lanes|=e,Wi|=e,a)}function am(e,i,a,u){return $e(a,i)?a:xr.current!==null?(e=Th(e,a,u),$e(e,i)||(ge=!0),e):(ki&42)===0?(ge=!0,e.memoizedState=a):(e=uy(),vt.lanes|=e,Wi|=e,i)}function om(e,i,a,u,f){var g=K.p;K.p=g!==0&&8>g?g:8;var p=N.T,v={};N.T=v,bh(e,!1,i,a);try{var w=f(),G=N.S;if(G!==null&&G(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=E1(w,u);jl(e,i,H,rn(e))}else jl(e,i,u,rn(e))}catch(q){jl(e,i,{then:function(){},status:"rejected",reason:q},rn())}finally{K.p=g,N.T=p}}function R1(){}function Rh(e,i,a,u){if(e.tag!==5)throw Error(s(476));var f=um(e).queue;om(e,f,i,W,a===null?R1:function(){return cm(e),a(u)})}function um(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:W},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cm(e){var i=um(e).next.queue;jl(e,i,{},rn())}function Ch(){return Me(ca)}function hm(){return le().memoizedState}function fm(){return le().memoizedState}function C1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=rn();e=Bi(a);var u=Pi(i,e,a);u!==null&&(ln(u,i,a),Fl(u,i,a)),i={cache:eh()},e.payload=i;return}i=i.return}}function b1(e,i,a){var u=rn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oo(e)?gm(i,a):(a=Zc(e,i,a,u),a!==null&&(ln(a,e,u),_m(a,i,u)))}function dm(e,i,a){var u=rn();jl(e,i,a,u)}function jl(e,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oo(e))gm(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,v=g(p,a);if(f.hasEagerState=!0,f.eagerState=v,$e(v,p))return fo(e,i,f,0),Zt===null&&ho(),!1}catch{}finally{}if(a=Zc(e,i,f,u),a!==null)return ln(a,e,u),_m(a,i,u),!0}return!1}function bh(e,i,a,u){if(u={lane:2,revertLane:rf(),action:u,hasEagerState:!1,eagerState:null,next:null},Oo(e)){if(i)throw Error(s(479))}else i=Zc(e,a,u,2),i!==null&&ln(i,e,2)}function Oo(e){var i=e.alternate;return e===vt||i!==null&&i===vt}function gm(e,i){Tr=Ro=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function _m(e,i,a){if((a&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,a|=u,i.lanes=a,Ne(e,a)}}var Do={readContext:Me,use:bo,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},mm={readContext:Me,use:bo,useCallback:function(e,i){return Pe().memoizedState=[e,i===void 0?null:i],e},useContext:Me,useEffect:$_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mo(4194308,4,im.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mo(4194308,4,e,i)},useInsertionEffect:function(e,i){Mo(4,2,e,i)},useMemo:function(e,i){var a=Pe();i=i===void 0?null:i;var u=e();if(Is){Bn(!0);try{e()}finally{Bn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(e,i,a){var u=Pe();if(a!==void 0){var f=a(i);if(Is){Bn(!0);try{a(i)}finally{Bn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=b1.bind(null,vt,e),[u.memoizedState,e]},useRef:function(e){var i=Pe();return e={current:e},i.memoizedState=e},useState:function(e){e=vh(e);var i=e.queue,a=dm.bind(null,vt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:xh,useDeferredValue:function(e,i){var a=Pe();return Th(a,e,i)},useTransition:function(){var e=vh(!1);return e=om.bind(null,vt,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var u=vt,f=Pe();if(Dt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(wt&124)!==0||U_(u,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,$_(Y_.bind(null,u,g,e),[e]),u.flags|=2048,Cr(9,Ao(),X_.bind(null,u,g,a,i),null),a},useId:function(){var e=Pe(),i=Zt.identifierPrefix;if(Dt){var a=ri,u=si;a=(u&~(1<<32-we(u)-1)).toString(32)+a,i=""+i+"R"+a,a=Co++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=v1++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Ch,useFormState:q_,useActionState:q_,useOptimistic:function(e){var i=Pe();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bh.bind(null,vt,!0,a),a.dispatch=i,[e,i]},useMemoCache:yh,useCacheRefresh:function(){return Pe().memoizedState=C1.bind(null,vt)}},ym={readContext:Me,use:bo,useCallback:rm,useContext:Me,useEffect:tm,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:nm,useMemo:lm,useReducer:wo,useRef:J_,useState:function(){return wo(oi)},useDebugValue:xh,useDeferredValue:function(e,i){var a=le();return am(a,Ft.memoizedState,e,i)},useTransition:function(){var e=wo(oi)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Hl(e),i]},useSyncExternalStore:G_,useId:hm,useHostTransitionStatus:Ch,useFormState:V_,useActionState:V_,useOptimistic:function(e,i){var a=le();return P_(a,Ft,e,i)},useMemoCache:yh,useCacheRefresh:fm},w1={readContext:Me,use:bo,useCallback:rm,useContext:Me,useEffect:tm,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:nm,useMemo:lm,useReducer:Eh,useRef:J_,useState:function(){return Eh(oi)},useDebugValue:xh,useDeferredValue:function(e,i){var a=le();return Ft===null?Th(a,e,i):am(a,Ft.memoizedState,e,i)},useTransition:function(){var e=Eh(oi)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Hl(e),i]},useSyncExternalStore:G_,useId:hm,useHostTransitionStatus:Ch,useFormState:Q_,useActionState:Q_,useOptimistic:function(e,i){var a=le();return Ft!==null?P_(a,Ft,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:fm},br=null,Kl=0;function Lo(e){var i=Kl;return Kl+=1,br===null&&(br=[]),A_(br,e,i)}function ql(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Io(e,i){throw i.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function pm(e){var i=e._init;return i(e._payload)}function Em(e){function i(I,D){if(e){var z=I.deletions;z===null?(I.deletions=[D],I.flags|=16):z.push(D)}}function a(I,D){if(!e)return null;for(;D!==null;)i(I,D),D=D.sibling;return null}function u(I){for(var D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function f(I,D){return I=ii(I,D),I.index=0,I.sibling=null,I}function g(I,D,z){return I.index=z,e?(z=I.alternate,z!==null?(z=z.index,z<D?(I.flags|=67108866,D):z):(I.flags|=67108866,D)):(I.flags|=1048576,D)}function p(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function v(I,D,z,j){return D===null||D.tag!==6?(D=Kc(z,I.mode,j),D.return=I,D):(D=f(D,z),D.return=I,D)}function w(I,D,z,j){var st=z.type;return st===S?H(I,D,z.props.children,j,z.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===B&&pm(st)===D.type)?(D=f(D,z.props),ql(D,z),D.return=I,D):(D=_o(z.type,z.key,z.props,null,I.mode,j),ql(D,z),D.return=I,D)}function G(I,D,z,j){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=qc(z,I.mode,j),D.return=I,D):(D=f(D,z.children||[]),D.return=I,D)}function H(I,D,z,j,st){return D===null||D.tag!==7?(D=Cs(z,I.mode,j,st),D.return=I,D):(D=f(D,z),D.return=I,D)}function q(I,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kc(""+D,I.mode,z),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return z=_o(D.type,D.key,D.props,null,I.mode,z),ql(z,D),z.return=I,z;case x:return D=qc(D,I.mode,z),D.return=I,D;case B:var j=D._init;return D=j(D._payload),q(I,D,z)}if(ot(D)||$(D))return D=Cs(D,I.mode,z,null),D.return=I,D;if(typeof D.then=="function")return q(I,Lo(D),z);if(D.$$typeof===L)return q(I,Eo(I,D),z);Io(I,D)}return null}function X(I,D,z,j){var st=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:v(I,D,""+z,j);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return z.key===st?w(I,D,z,j):null;case x:return z.key===st?G(I,D,z,j):null;case B:return st=z._init,z=st(z._payload),X(I,D,z,j)}if(ot(z)||$(z))return st!==null?null:H(I,D,z,j,null);if(typeof z.then=="function")return X(I,D,Lo(z),j);if(z.$$typeof===L)return X(I,D,Eo(I,z),j);Io(I,z)}return null}function Y(I,D,z,j,st){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return I=I.get(z)||null,v(D,I,""+j,st);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return I=I.get(j.key===null?z:j.key)||null,w(D,I,j,st);case x:return I=I.get(j.key===null?z:j.key)||null,G(D,I,j,st);case B:var St=j._init;return j=St(j._payload),Y(I,D,z,j,st)}if(ot(j)||$(j))return I=I.get(z)||null,H(D,I,j,st,null);if(typeof j.then=="function")return Y(I,D,z,Lo(j),st);if(j.$$typeof===L)return Y(I,D,z,Eo(D,j),st);Io(D,j)}return null}function gt(I,D,z,j){for(var st=null,St=null,at=D,dt=D=0,me=null;at!==null&&dt<z.length;dt++){at.index>dt?(me=at,at=null):me=at.sibling;var Mt=X(I,at,z[dt],j);if(Mt===null){at===null&&(at=me);break}e&&at&&Mt.alternate===null&&i(I,at),D=g(Mt,D,dt),St===null?st=Mt:St.sibling=Mt,St=Mt,at=me}if(dt===z.length)return a(I,at),Dt&&ws(I,dt),st;if(at===null){for(;dt<z.length;dt++)at=q(I,z[dt],j),at!==null&&(D=g(at,D,dt),St===null?st=at:St.sibling=at,St=at);return Dt&&ws(I,dt),st}for(at=u(at);dt<z.length;dt++)me=Y(at,I,dt,z[dt],j),me!==null&&(e&&me.alternate!==null&&at.delete(me.key===null?dt:me.key),D=g(me,D,dt),St===null?st=me:St.sibling=me,St=me);return e&&at.forEach(function(rs){return i(I,rs)}),Dt&&ws(I,dt),st}function ft(I,D,z,j){if(z==null)throw Error(s(151));for(var st=null,St=null,at=D,dt=D=0,me=null,Mt=z.next();at!==null&&!Mt.done;dt++,Mt=z.next()){at.index>dt?(me=at,at=null):me=at.sibling;var rs=X(I,at,Mt.value,j);if(rs===null){at===null&&(at=me);break}e&&at&&rs.alternate===null&&i(I,at),D=g(rs,D,dt),St===null?st=rs:St.sibling=rs,St=rs,at=me}if(Mt.done)return a(I,at),Dt&&ws(I,dt),st;if(at===null){for(;!Mt.done;dt++,Mt=z.next())Mt=q(I,Mt.value,j),Mt!==null&&(D=g(Mt,D,dt),St===null?st=Mt:St.sibling=Mt,St=Mt);return Dt&&ws(I,dt),st}for(at=u(at);!Mt.done;dt++,Mt=z.next())Mt=Y(at,I,dt,Mt.value,j),Mt!==null&&(e&&Mt.alternate!==null&&at.delete(Mt.key===null?dt:Mt.key),D=g(Mt,D,dt),St===null?st=Mt:St.sibling=Mt,St=Mt);return e&&at.forEach(function(AS){return i(I,AS)}),Dt&&ws(I,dt),st}function Pt(I,D,z,j){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case E:t:{for(var st=z.key;D!==null;){if(D.key===st){if(st=z.type,st===S){if(D.tag===7){a(I,D.sibling),j=f(D,z.props.children),j.return=I,I=j;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===B&&pm(st)===D.type){a(I,D.sibling),j=f(D,z.props),ql(j,z),j.return=I,I=j;break t}a(I,D);break}else i(I,D);D=D.sibling}z.type===S?(j=Cs(z.props.children,I.mode,j,z.key),j.return=I,I=j):(j=_o(z.type,z.key,z.props,null,I.mode,j),ql(j,z),j.return=I,I=j)}return p(I);case x:t:{for(st=z.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(I,D.sibling),j=f(D,z.children||[]),j.return=I,I=j;break t}else{a(I,D);break}else i(I,D);D=D.sibling}j=qc(z,I.mode,j),j.return=I,I=j}return p(I);case B:return st=z._init,z=st(z._payload),Pt(I,D,z,j)}if(ot(z))return gt(I,D,z,j);if($(z)){if(st=$(z),typeof st!="function")throw Error(s(150));return z=st.call(z),ft(I,D,z,j)}if(typeof z.then=="function")return Pt(I,D,Lo(z),j);if(z.$$typeof===L)return Pt(I,D,Eo(I,z),j);Io(I,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(I,D.sibling),j=f(D,z),j.return=I,I=j):(a(I,D),j=Kc(z,I.mode,j),j.return=I,I=j),p(I)):a(I,D)}return function(I,D,z,j){try{Kl=0;var st=Pt(I,D,z,j);return br=null,st}catch(at){if(at===Xl||at===So)throw at;var St=tn(29,at,null,I.mode);return St.lanes=j,St.return=I,St}finally{}}}var wr=Em(!0),vm=Em(!1),mn=P(null),Hn=null;function Hi(e){var i=e.alternate;Q(oe,oe.current&1),Q(mn,e),Hn===null&&(i===null||xr.current!==null||i.memoizedState!==null)&&(Hn=e)}function Sm(e){if(e.tag===22){if(Q(oe,oe.current),Q(mn,e),Hn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Hn=e)}}else Zi()}function Zi(){Q(oe,oe.current),Q(mn,mn.current)}function ui(e){U(mn),Hn===e&&(Hn=null),U(oe)}var oe=P(0);function No(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function wh(e,i,a,u){i=e.memoizedState,a=a(u,i),a=a==null?i:m({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ah={enqueueSetState:function(e,i,a){e=e._reactInternals;var u=rn(),f=Bi(u);f.payload=i,a!=null&&(f.callback=a),i=Pi(e,f,u),i!==null&&(ln(i,e,u),Fl(i,e,u))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var u=rn(),f=Bi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Pi(e,f,u),i!==null&&(ln(i,e,u),Fl(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=rn(),u=Bi(a);u.tag=2,i!=null&&(u.callback=i),i=Pi(e,u,a),i!==null&&(ln(i,e,a),Fl(i,e,a))}};function xm(e,i,a,u,f,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,p):i.prototype&&i.prototype.isPureReactComponent?!Ol(a,u)||!Ol(f,g):!0}function Tm(e,i,a,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==e&&Ah.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(e=e.defaultProps){a===i&&(a=m({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rm(e){zo(e)}function Cm(e){console.error(e)}function bm(e){zo(e)}function Go(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function wm(e,i,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mh(e,i,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Go(e,i)},a}function Am(e){return e=Bi(e),e.tag=3,e}function Mm(e,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;e.payload=function(){return f(g)},e.callback=function(){wm(i,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){wm(i,a,u),typeof f!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var v=u.stack;this.componentDidCatch(u.value,{componentStack:v!==null?v:""})})}function A1(e,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&zl(i,a,f,!0),a=mn.current,a!==null){switch(a.tag){case 13:return Hn===null?$h():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===sh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),ef(e,u,f)),!1;case 22:return a.flags|=65536,u===sh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),ef(e,u,f)),!1}throw Error(s(435,a.tag))}return ef(e,u,f),$h(),!1}if(Dt)return i=mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Qc&&(e=Error(s(422),{cause:u}),Nl(fn(e,a)))):(u!==Qc&&(i=Error(s(423),{cause:u}),Nl(fn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=fn(u,a),f=Mh(e.stateNode,u,f),ah(e,f),$t!==4&&($t=2)),!1;var g=Error(s(520),{cause:u});if(g=fn(g,a),ea===null?ea=[g]:ea.push(g),$t!==4&&($t=2),i===null)return!0;u=fn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Mh(a.stateNode,u,e),ah(a,e),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qi===null||!Qi.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Am(f),Mm(f,e,a,u),ah(a,f),!1}a=a.return}while(a!==null);return!1}var Om=Error(s(461)),ge=!1;function Se(e,i,a,u){i.child=e===null?vm(i,null,a,u):wr(i,e.child,a,u)}function Dm(e,i,a,u,f){a=a.render;var g=i.ref;if("ref"in u){var p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}else p=u;return Ds(i),u=fh(e,i,a,p,g,f),v=dh(),e!==null&&!ge?(gh(e,i,f),ci(e,i,f)):(Dt&&v&&Vc(i),i.flags|=1,Se(e,i,u,f),i.child)}function Lm(e,i,a,u,f){if(e===null){var g=a.type;return typeof g=="function"&&!jc(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,Im(e,i,g,u,f)):(e=_o(a.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Uh(e,f)){var p=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ol,a(p,u)&&e.ref===i.ref)return ci(e,i,f)}return i.flags|=1,e=ii(g,u),e.ref=i.ref,e.return=i,i.child=e}function Im(e,i,a,u,f){if(e!==null){var g=e.memoizedProps;if(Ol(g,u)&&e.ref===i.ref)if(ge=!1,i.pendingProps=u=g,Uh(e,f))(e.flags&131072)!==0&&(ge=!0);else return i.lanes=e.lanes,ci(e,i,f)}return Oh(e,i,a,u,f)}function Nm(e,i,a){var u=i.pendingProps,f=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return zm(e,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(i,g!==null?g.cachePool:null),g!==null?I_(i,g):uh(),Sm(i);else return i.lanes=i.childLanes=536870912,zm(e,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(vo(i,g.cachePool),I_(i,g),Zi(),i.memoizedState=null):(e!==null&&vo(i,null),uh(),Zi());return Se(e,i,f,a),i.child}function zm(e,i,a,u){var f=ih();return f=f===null?null:{parent:ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&vo(i,null),uh(),Sm(i),e!==null&&zl(e,i,u,!0),null}function Uo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Oh(e,i,a,u,f){return Ds(i),a=fh(e,i,a,u,void 0,f),u=dh(),e!==null&&!ge?(gh(e,i,f),ci(e,i,f)):(Dt&&u&&Vc(i),i.flags|=1,Se(e,i,a,f),i.child)}function Gm(e,i,a,u,f,g){return Ds(i),i.updateQueue=null,a=z_(i,u,a,f),N_(e),u=dh(),e!==null&&!ge?(gh(e,i,g),ci(e,i,g)):(Dt&&u&&Vc(i),i.flags|=1,Se(e,i,a,g),i.child)}function Um(e,i,a,u,f){if(Ds(i),i.stateNode===null){var g=yr,p=a.contextType;typeof p=="object"&&p!==null&&(g=Me(p)),g=new a(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ah,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},rh(i),p=a.contextType,g.context=typeof p=="object"&&p!==null?Me(p):yr,g.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(wh(i,a,p,u),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&Ah.enqueueReplaceState(g,g.state,null),Pl(i,u,g,f),Bl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){g=i.stateNode;var v=i.memoizedProps,w=Ns(a,v);g.props=w;var G=g.context,H=a.contextType;p=yr,typeof H=="object"&&H!==null&&(p=Me(H));var q=a.getDerivedStateFromProps;H=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v||G!==p)&&Tm(i,g,u,p),Fi=!1;var X=i.memoizedState;g.state=X,Pl(i,u,g,f),Bl(),G=i.memoizedState,v||X!==G||Fi?(typeof q=="function"&&(wh(i,a,q,u),G=i.memoizedState),(w=Fi||xm(i,a,w,u,X,G,p))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),g.props=u,g.state=G,g.context=p,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,lh(e,i),p=i.memoizedProps,H=Ns(a,p),g.props=H,q=i.pendingProps,X=g.context,G=a.contextType,w=yr,typeof G=="object"&&G!==null&&(w=Me(G)),v=a.getDerivedStateFromProps,(G=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==q||X!==w)&&Tm(i,g,u,w),Fi=!1,X=i.memoizedState,g.state=X,Pl(i,u,g,f),Bl();var Y=i.memoizedState;p!==q||X!==Y||Fi||e!==null&&e.dependencies!==null&&po(e.dependencies)?(typeof v=="function"&&(wh(i,a,v,u),Y=i.memoizedState),(H=Fi||xm(i,a,H,u,X,Y,w)||e!==null&&e.dependencies!==null&&po(e.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Y,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Y,w)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),g.props=u,g.state=Y,g.context=w,u=H):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),u=!1)}return g=u,Uo(e,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&u?(i.child=wr(i,e.child,null,f),i.child=wr(i,null,a,f)):Se(e,i,a,f),i.memoizedState=g.state,e=i.child):e=ci(e,i,f),e}function Xm(e,i,a,u){return Il(),i.flags|=256,Se(e,i,a,u),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(e){return{baseLanes:e,cachePool:C_()}}function Ih(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=yn),e}function Ym(e,i,a){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),p&&(f=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Dt){if(f?Hi(i):Zi(),Dt){var v=Jt,w;if(w=v){t:{for(w=v,v=kn;w.nodeType!==8;){if(!v){v=null;break t}if(w=Dn(w.nextSibling),w===null){v=null;break t}}v=w}v!==null?(i.memoizedState={dehydrated:v,treeContext:bs!==null?{id:si,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},w=tn(18,null,null,0),w.stateNode=v,w.return=i,i.child=w,ze=i,Jt=null,w=!0):w=!1}w||Ms(i)}if(v=i.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return yf(v)?i.lanes=32:i.lanes=536870912,null;ui(i)}return v=u.children,u=u.fallback,f?(Zi(),f=i.mode,v=Xo({mode:"hidden",children:v},f),u=Cs(u,f,a,null),v.return=i,u.return=i,v.sibling=u,i.child=v,f=i.child,f.memoizedState=Lh(a),f.childLanes=Ih(e,p,a),i.memoizedState=Dh,u):(Hi(i),Nh(i,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(g)i.flags&256?(Hi(i),i.flags&=-257,i=zh(e,i,a)):i.memoizedState!==null?(Zi(),i.child=e.child,i.flags|=128,i=null):(Zi(),f=u.fallback,v=i.mode,u=Xo({mode:"visible",children:u.children},v),f=Cs(f,v,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,wr(i,e.child,null,a),u=i.child,u.memoizedState=Lh(a),u.childLanes=Ih(e,p,a),i.memoizedState=Dh,i=f);else if(Hi(i),yf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var G=p.dgst;p=G,u=Error(s(419)),u.stack="",u.digest=p,Nl({value:u,source:null,stack:null}),i=zh(e,i,a)}else if(ge||zl(e,i,a,!1),p=(a&e.childLanes)!==0,ge||p){if(p=Zt,p!==null&&(u=a&-a,u=(u&42)!==0?1:An(u),u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==w.retryLane))throw w.retryLane=u,mr(e,u),ln(p,e,u),Om;v.data==="$?"||$h(),i=zh(e,i,a)}else v.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,Jt=Dn(v.nextSibling),ze=i,Dt=!0,As=null,kn=!1,e!==null&&(gn[_n++]=si,gn[_n++]=ri,gn[_n++]=bs,si=e.id,ri=e.overflow,bs=i),i=Nh(i,u.children),i.flags|=4096);return i}return f?(Zi(),f=u.fallback,v=i.mode,w=e.child,G=w.sibling,u=ii(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,G!==null?f=ii(G,f):(f=Cs(f,v,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,v=e.child.memoizedState,v===null?v=Lh(a):(w=v.cachePool,w!==null?(G=ae._currentValue,w=w.parent!==G?{parent:G,pool:G}:w):w=C_(),v={baseLanes:v.baseLanes|a,cachePool:w}),f.memoizedState=v,f.childLanes=Ih(e,p,a),i.memoizedState=Dh,u):(Hi(i),a=e.child,e=a.sibling,a=ii(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=a,i.memoizedState=null,a)}function Nh(e,i){return i=Xo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Xo(e,i){return e=tn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zh(e,i,a){return wr(i,e.child,null,a),e=Nh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Fm(e,i,a){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),$c(e.return,i,a)}function Gh(e,i,a,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function Bm(e,i,a){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(Se(e,i,u.children,a),u=oe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,a,i);else if(e.tag===19)Fm(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(Q(oe,u),f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&No(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Gh(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&No(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Gh(i,!0,a,null,g);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ci(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Wi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(zl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Uh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&po(e)))}function M1(e,i,a){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),Yi(i,ae,e.memoizedState.cache),Il();break;case 27:case 5:Ee(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ym(e,i,a):(Hi(i),e=ci(e,i,a),e!==null?e.sibling:null);Hi(i);break;case 19:var f=(e.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(zl(e,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Bm(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(oe,oe.current),u)break;return null;case 22:case 23:return i.lanes=0,Nm(e,i,a);case 24:Yi(i,ae,e.memoizedState.cache)}return ci(e,i,a)}function Pm(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ge=!0;else{if(!Uh(e,a)&&(i.flags&128)===0)return ge=!1,M1(e,i,a);ge=(e.flags&131072)!==0}else ge=!1,Dt&&(i.flags&1048576)!==0&&p_(i,yo,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")jc(u)?(e=Ns(u,e),i.tag=1,i=Um(null,i,u,e,a)):(i.tag=0,i=Oh(null,i,u,e,a));else{if(u!=null){if(f=u.$$typeof,f===A){i.tag=11,i=Dm(null,i,u,e,a);break t}else if(f===k){i.tag=14,i=Lm(null,i,u,e,a);break t}}throw i=rt(u)||u,Error(s(306,i,""))}}return i;case 0:return Oh(e,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Ns(u,i.pendingProps),Um(e,i,u,f,a);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,lh(e,i),Pl(i,u,null,a);var p=i.memoizedState;if(u=p.cache,Yi(i,ae,u),u!==g.cache&&th(i,[ae],a,!0),Bl(),u=p.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Xm(e,i,u,a);break t}else if(u!==f){f=fn(Error(s(424)),i),Nl(f),i=Xm(e,i,u,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=Dn(e.firstChild),ze=i,Dt=!0,As=null,kn=!0,a=vm(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Il(),u===f){i=ci(e,i,a);break t}Se(e,i,u,a)}i=i.child}return i;case 26:return Uo(e,i),e===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,e=i.pendingProps,u=Jo(lt.current).createElement(a),u[Ht]=i,u[xt]=e,Te(u,a,e),de(u),i.stateNode=u):i.memoizedState=jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ee(i),e===null&&Dt&&(u=i.stateNode=ky(i.type,i.pendingProps,lt.current),ze=i,kn=!0,f=Jt,ts(i.type)?(pf=f,Jt=Dn(u.firstChild)):Jt=f),Se(e,i,i.pendingProps.children,a),Uo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Dt&&((f=u=Jt)&&(u=iS(u,i.type,i.pendingProps,kn),u!==null?(i.stateNode=u,ze=i,Jt=Dn(u.firstChild),kn=!1,f=!0):f=!1),f||Ms(i)),Ee(i),f=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,u=g.children,gf(f,g)?u=null:p!==null&&gf(f,p)&&(i.flags|=32),i.memoizedState!==null&&(f=fh(e,i,S1,null,null,a),ca._currentValue=f),Uo(e,i),Se(e,i,u,a),i.child;case 6:return e===null&&Dt&&((e=a=Jt)&&(a=sS(a,i.pendingProps,kn),a!==null?(i.stateNode=a,ze=i,Jt=null,e=!0):e=!1),e||Ms(i)),null;case 13:return Ym(e,i,a);case 4:return Ct(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=wr(i,null,u,a):Se(e,i,u,a),i.child;case 11:return Dm(e,i,i.type,i.pendingProps,a);case 7:return Se(e,i,i.pendingProps,a),i.child;case 8:return Se(e,i,i.pendingProps.children,a),i.child;case 12:return Se(e,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Yi(i,i.type,u.value),Se(e,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ds(i),f=Me(f),u=u(f),i.flags|=1,Se(e,i,u,a),i.child;case 14:return Lm(e,i,i.type,i.pendingProps,a);case 15:return Im(e,i,i.type,i.pendingProps,a);case 19:return Bm(e,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},e===null?(a=Xo(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ii(e.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Nm(e,i,a);case 24:return Ds(i),u=Me(ae),e===null?(f=ih(),f===null&&(f=Zt,g=eh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:u,cache:f},rh(i),Yi(i,ae,f)):((e.lanes&a)!==0&&(lh(e,i),Pl(i,null,null,a),Bl()),f=e.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Yi(i,ae,u)):(u=g.cache,Yi(i,ae,u),u!==f.cache&&th(i,[ae],a,!0))),Se(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hi(e){e.flags|=4}function km(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qy(i)){if(i=mn.current,i!==null&&((wt&4194048)===wt?Hn!==null:(wt&62914560)!==wt&&(wt&536870912)===0||i!==Hn))throw Yl=sh,b_;e.flags|=8192}}function Yo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ui():536870912,e.lanes|=i,Dr|=i)}function Vl(e,i){if(!Dt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Vt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,i}function O1(e,i,a){var u=i.pendingProps;switch(Wc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return a=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ai(ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ll(i)?hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,S_())),Vt(i),null;case 26:return a=i.memoizedState,e===null?(hi(i),a!==null?(Vt(i),km(i,a)):(Vt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(hi(i),Vt(i),km(i,a)):(Vt(i),i.flags&=-16777217):(e.memoizedProps!==u&&hi(i),Vt(i),i.flags&=-16777217),null;case 27:Jn(i),a=lt.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==u&&hi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}e=nt.current,Ll(i)?E_(i):(e=ky(f,u,a),i.stateNode=e,hi(i))}return Vt(i),null;case 5:if(Jn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&hi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}if(e=nt.current,Ll(i))E_(i);else{switch(f=Jo(lt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}e[Ht]=i,e[xt]=u;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(Te(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&hi(i)}}return Vt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&hi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=lt.current,Ll(i)){if(e=i.stateNode,a=i.memoizedProps,u=null,f=ze,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Ht]=i,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Gy(e.nodeValue,a)),e||Ms(i)}else e=Jo(e).createTextNode(u),e[Ht]=i,i.stateNode=e}return Vt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ll(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ht]=i}else Il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),f=!1}else f=S_(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ui(i),i):(ui(i),null)}if(ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Yo(i,i.updateQueue),Vt(i),null;case 4:return se(),e===null&&uf(i.stateNode.containerInfo),Vt(i),null;case 10:return ai(i.type),Vt(i),null;case 19:if(U(oe),f=i.memoizedState,f===null)return Vt(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Vl(f,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=No(e),g!==null){for(i.flags|=128,Vl(f,!1),e=g.updateQueue,i.updateQueue=e,Yo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)y_(a,e),a=a.sibling;return Q(oe,oe.current&1|2),i.child}e=e.sibling}f.tail!==null&&ve()>Po&&(i.flags|=128,u=!0,Vl(f,!1),i.lanes=4194304)}else{if(!u)if(e=No(g),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,Yo(i,e),Vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Dt)return Vt(i),null}else 2*ve()-f.renderingStartTime>Po&&a!==536870912&&(i.flags|=128,u=!0,Vl(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ve(),i.sibling=null,e=oe.current,Q(oe,u?e&1|2:e&1),i):(Vt(i),null);case 22:case 23:return ui(i),ch(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),a=i.updateQueue,a!==null&&Yo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),e!==null&&U(Ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(ae),Vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function D1(e,i){switch(Wc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ai(ae),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Jn(i),null;case 13:if(ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Il()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return U(oe),null;case 4:return se(),null;case 10:return ai(i.type),null;case 22:case 23:return ui(i),ch(),e!==null&&U(Ls),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ai(ae),null;case 25:return null;default:return null}}function Hm(e,i){switch(Wc(i),i.tag){case 3:ai(ae),se();break;case 26:case 27:case 5:Jn(i);break;case 4:se();break;case 13:ui(i);break;case 19:U(oe);break;case 10:ai(i.type);break;case 22:case 23:ui(i),ch(),e!==null&&U(Ls);break;case 24:ai(ae)}}function Wl(e,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var g=a.create,p=a.inst;u=g(),p.destroy=u}a=a.next}while(a!==f)}}catch(v){kt(i,i.return,v)}}function ji(e,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&e)===e){var p=u.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,f=i;var w=a,G=v;try{G()}catch(H){kt(f,w,H)}}}u=u.next}while(u!==g)}}catch(H){kt(i,i.return,H)}}function Zm(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{L_(i,a)}catch(u){kt(e,e.return,u)}}}function jm(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){kt(e,i,u)}}function Ql(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(f){kt(e,i,f)}}function Zn(e,i){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){kt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){kt(e,i,f)}else a.current=null}function Km(e){var i=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){kt(e,e.return,f)}}function Xh(e,i,a){try{var u=e.stateNode;J1(u,e.type,a,i),u[xt]=i}catch(f){kt(e,e.return,f)}}function qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ts(e.type)||e.tag===4}function Yh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,i,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qo));else if(u!==4&&(u===27&&ts(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Fh(e,i,a),e=e.sibling;e!==null;)Fh(e,i,a),e=e.sibling}function Fo(e,i,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(u!==4&&(u===27&&ts(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fo(e,i,a),e=e.sibling;e!==null;)Fo(e,i,a),e=e.sibling}function Vm(e){var i=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Te(i,u,a),i[Ht]=e,i[xt]=a}catch(g){kt(e,e.return,g)}}var fi=!1,ie=!1,Bh=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,_e=null;function L1(e,i){if(e=e.containerInfo,ff=su,e=a_(e),Yc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var p=0,v=-1,w=-1,G=0,H=0,q=e,X=null;e:for(;;){for(var Y;q!==a||f!==0&&q.nodeType!==3||(v=p+f),q!==g||u!==0&&q.nodeType!==3||(w=p+u),q.nodeType===3&&(p+=q.nodeValue.length),(Y=q.firstChild)!==null;)X=q,q=Y;for(;;){if(q===e)break e;if(X===a&&++G===f&&(v=p),X===g&&++H===u&&(w=p),(Y=q.nextSibling)!==null)break;q=X,X=q.parentNode}q=Y}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:e,selectionRange:a},su=!1,_e=i;_e!==null;)if(i=_e,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,_e=e;else for(;_e!==null;){switch(i=_e,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var gt=Ns(a.type,f,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(gt,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(ft){kt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)mf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,_e=e;break}_e=i.return}}function Qm(e,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),u&4&&Wl(5,a);break;case 1:if(Ki(e,a),u&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(p){kt(a,a.return,p)}else{var f=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){kt(a,a.return,p)}}u&64&&Zm(a),u&512&&Ql(a,a.return);break;case 3:if(Ki(e,a),u&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{L_(e,i)}catch(p){kt(a,a.return,p)}}break;case 27:i===null&&u&4&&Vm(a);case 26:case 5:Ki(e,a),i===null&&u&4&&Km(a),u&512&&Ql(a,a.return);break;case 12:Ki(e,a);break;case 13:Ki(e,a),u&4&&ty(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=B1.bind(null,a),rS(e,a))));break;case 22:if(u=a.memoizedState!==null||fi,!u){i=i!==null&&i.memoizedState!==null||ie,f=fi;var g=ie;fi=u,(ie=i)&&!g?qi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),fi=f,ie=g}break;case 30:break;default:Ki(e,a)}}function Jm(e){var i=e.alternate;i!==null&&(e.alternate=null,Jm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&vc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,ke=!1;function di(e,i,a){for(a=a.child;a!==null;)$m(e,i,a),a=a.sibling}function $m(e,i,a){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:ie||Zn(a,i),di(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ie||Zn(a,i);var u=qt,f=ke;ts(a.type)&&(qt=a.stateNode,ke=!1),di(e,i,a),la(a.stateNode),qt=u,ke=f;break;case 5:ie||Zn(a,i);case 6:if(u=qt,f=ke,qt=null,di(e,i,a),qt=u,ke=f,qt!==null)if(ke)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(a.stateNode)}catch(g){kt(a,i,g)}else try{qt.removeChild(a.stateNode)}catch(g){kt(a,i,g)}break;case 18:qt!==null&&(ke?(e=qt,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ga(e)):By(qt,a.stateNode));break;case 4:u=qt,f=ke,qt=a.stateNode.containerInfo,ke=!0,di(e,i,a),qt=u,ke=f;break;case 0:case 11:case 14:case 15:ie||ji(2,a,i),ie||ji(4,a,i),di(e,i,a);break;case 1:ie||(Zn(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&jm(a,i,u)),di(e,i,a);break;case 21:di(e,i,a);break;case 22:ie=(u=ie)||a.memoizedState!==null,di(e,i,a),ie=u;break;default:di(e,i,a)}}function ty(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ga(e)}catch(a){kt(i,i.return,a)}}function I1(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Wm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Wm),i;default:throw Error(s(435,e.tag))}}function Ph(e,i){var a=I1(e);i.forEach(function(u){var f=P1.bind(null,e,u);a.has(u)||(a.add(u),u.then(f,f))})}function en(e,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],g=e,p=i,v=p;t:for(;v!==null;){switch(v.tag){case 27:if(ts(v.type)){qt=v.stateNode,ke=!1;break t}break;case 5:qt=v.stateNode,ke=!1;break t;case 3:case 4:qt=v.stateNode.containerInfo,ke=!0;break t}v=v.return}if(qt===null)throw Error(s(160));$m(g,p,f),qt=null,ke=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ey(i,e),i=i.sibling}var On=null;function ey(e,i){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(i,e),nn(e),u&4&&(ji(3,e,e.return),Wl(3,e),ji(5,e,e.return));break;case 1:en(i,e),nn(e),u&512&&(ie||a===null||Zn(a,a.return)),u&64&&fi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=On;if(en(i,e),nn(e),u&512&&(ie||a===null||Zn(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Sl]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Te(g,u,a),g[Ht]=e,de(g),u=g;break t;case"link":var p=Vy("link","href",f).get(u+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(g=p[v],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break e}}g=f.createElement(u),Te(g,u,a),f.head.appendChild(g);break;case"meta":if(p=Vy("meta","content",f).get(u+(a.content||""))){for(v=0;v<p.length;v++)if(g=p[v],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break e}}g=f.createElement(u),Te(g,u,a),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ht]=e,de(g),u=g}e.stateNode=u}else Wy(f,e.type,e.stateNode);else e.stateNode=qy(f,u,e.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Wy(f,e.type,e.stateNode):qy(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,a.memoizedProps)}break;case 27:en(i,e),nn(e),u&512&&(ie||a===null||Zn(a,a.return)),a!==null&&u&4&&Xh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(en(i,e),nn(e),u&512&&(ie||a===null||Zn(a,a.return)),e.flags&32){f=e.stateNode;try{ur(f,"")}catch(Y){kt(e,e.return,Y)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Xh(e,f,a!==null?a.memoizedProps:f)),u&1024&&(Bh=!0);break;case 6:if(en(i,e),nn(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(Y){kt(e,e.return,Y)}}break;case 3:if(eu=null,f=On,On=$o(i.containerInfo),en(i,e),On=f,nn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ga(i.containerInfo)}catch(Y){kt(e,e.return,Y)}Bh&&(Bh=!1,ny(e));break;case 4:u=On,On=$o(e.stateNode.containerInfo),en(i,e),nn(e),On=u;break;case 12:en(i,e),nn(e);break;case 13:en(i,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qh=ve()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ph(e,u)));break;case 22:f=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,G=fi,H=ie;if(fi=G||f,ie=H||w,en(i,e),ie=H,fi=G,nn(e),u&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||w||fi||ie||zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(g=w.stateNode,f)p=g.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=w.stateNode;var q=w.memoizedProps.style,X=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Y){kt(w,w.return,Y)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(Y){kt(w,w.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ph(e,a))));break;case 19:en(i,e),nn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ph(e,u)));break;case 30:break;case 21:break;default:en(i,e),nn(e)}}function nn(e){var i=e.flags;if(i&2){try{for(var a,u=e.return;u!==null;){if(qm(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,g=Yh(e);Fo(e,g,f);break;case 5:var p=a.stateNode;a.flags&32&&(ur(p,""),a.flags&=-33);var v=Yh(e);Fo(e,v,p);break;case 3:case 4:var w=a.stateNode.containerInfo,G=Yh(e);Fh(e,G,w);break;default:throw Error(s(161))}}catch(H){kt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ki(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qm(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ji(4,i,i.return),zs(i);break;case 1:Zn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jm(i,i.return,a),zs(i);break;case 27:la(i.stateNode);case 26:case 5:Zn(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function qi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:qi(f,g,a),Wl(4,g);break;case 1:if(qi(f,g,a),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){kt(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var v=u.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)D_(w[f],v)}catch(G){kt(u,u.return,G)}}a&&p&64&&Zm(g),Ql(g,g.return);break;case 27:Vm(g);case 26:case 5:qi(f,g,a),a&&u===null&&p&4&&Km(g),Ql(g,g.return);break;case 12:qi(f,g,a);break;case 13:qi(f,g,a),a&&p&4&&ty(f,g);break;case 22:g.memoizedState===null&&qi(f,g,a),Ql(g,g.return);break;case 30:break;default:qi(f,g,a)}i=i.sibling}}function kh(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gl(a))}function Hh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gl(e))}function jn(e,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iy(e,i,a,u),i=i.sibling}function iy(e,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:jn(e,i,a,u),f&2048&&Wl(9,i);break;case 1:jn(e,i,a,u);break;case 3:jn(e,i,a,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gl(e)));break;case 12:if(f&2048){jn(e,i,a,u),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,v=g.onPostCommit;typeof v=="function"&&v(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){kt(i,i.return,w)}}else jn(e,i,a,u);break;case 13:jn(e,i,a,u);break;case 23:break;case 22:g=i.stateNode,p=i.alternate,i.memoizedState!==null?g._visibility&2?jn(e,i,a,u):Jl(e,i):g._visibility&2?jn(e,i,a,u):(g._visibility|=2,Ar(e,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&kh(p,i);break;case 24:jn(e,i,a,u),f&2048&&Hh(i.alternate,i);break;default:jn(e,i,a,u)}}function Ar(e,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,p=i,v=a,w=u,G=p.flags;switch(p.tag){case 0:case 11:case 15:Ar(g,p,v,w,f),Wl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ar(g,p,v,w,f):Jl(g,p):(H._visibility|=2,Ar(g,p,v,w,f)),f&&G&2048&&kh(p.alternate,p);break;case 24:Ar(g,p,v,w,f),f&&G&2048&&Hh(p.alternate,p);break;default:Ar(g,p,v,w,f)}i=i.sibling}}function Jl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,u=i,f=u.flags;switch(u.tag){case 22:Jl(a,u),f&2048&&kh(u.alternate,u);break;case 24:Jl(a,u),f&2048&&Hh(u.alternate,u);break;default:Jl(a,u)}i=i.sibling}}var $l=8192;function Mr(e){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 26:Mr(e),e.flags&$l&&e.memoizedState!==null&&pS(On,e.memoizedState,e.memoizedProps);break;case 5:Mr(e);break;case 3:case 4:var i=On;On=$o(e.stateNode.containerInfo),Mr(e),On=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,Mr(e),$l=i):Mr(e));break;default:Mr(e)}}function ry(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ta(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];_e=u,ay(u,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 0:case 11:case 15:ta(e),e.flags&2048&&ji(9,e,e.return);break;case 3:ta(e);break;case 12:ta(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Bo(e)):ta(e);break;default:ta(e)}}function Bo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];_e=u,ay(u,e)}ry(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ji(8,i,i.return),Bo(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bo(i));break;default:Bo(i)}e=e.sibling}}function ay(e,i){for(;_e!==null;){var a=_e;switch(a.tag){case 0:case 11:case 15:ji(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,_e=u;else t:for(a=e;_e!==null;){u=_e;var f=u.sibling,g=u.return;if(Jm(u),u===a){_e=null;break t}if(f!==null){f.return=g,_e=f;break t}_e=g}}}var N1={getCacheForType:function(e){var i=Me(ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},z1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Zt=null,Tt=null,wt=0,Ut=0,sn=null,Vi=!1,Or=!1,Zh=!1,gi=0,$t=0,Wi=0,Gs=0,jh=0,yn=0,Dr=0,ea=null,He=null,Kh=!1,qh=0,Po=1/0,ko=null,Qi=null,xe=0,Ji=null,Lr=null,Ir=0,Vh=0,Wh=null,oy=null,na=0,Qh=null;function rn(){if((Gt&2)!==0&&wt!==0)return wt&-wt;if(N.T!==null){var e=vr;return e!==0?e:rf()}return Qe()}function uy(){yn===0&&(yn=(wt&536870912)===0||Dt?nr():536870912);var e=mn.current;return e!==null&&(e.flags|=32),yn}function ln(e,i,a){(e===Zt&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)&&(Nr(e,0),$i(e,wt,yn,!1)),wn(e,a),((Gt&2)===0||e!==Zt)&&(e===Zt&&((Gt&2)===0&&(Gs|=a),$t===4&&$i(e,wt,yn,!1)),Kn(e))}function cy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Gi(e,i),f=u?X1(e,i):tf(e,i,!0),g=u;do{if(f===0){Or&&!u&&$i(e,i,0,!1);break}else{if(a=e.current.alternate,g&&!G1(a)){f=tf(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var v=e;f=ea;var w=v.current.memoizedState.isDehydrated;if(w&&(Nr(v,p).flags|=256),p=tf(v,p,!1),p!==2){if(Zh&&!w){v.errorRecoveryDisabledLanes|=g,Gs|=g,f=4;break t}g=He,He=f,g!==null&&(He===null?He=g:He.push.apply(He,g))}f=p}if(g=!1,f!==2)continue}}if(f===1){Nr(e,0),$i(e,i,0,!0);break}t:{switch(u=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$i(u,i,yn,!Vi);break t;case 2:He=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=qh+300-ve(),10<f)){if($i(u,i,yn,!Vi),zi(u,0,!0)!==0)break t;u.timeoutHandle=Yy(hy.bind(null,u,a,He,ko,Kh,i,yn,Gs,Dr,Vi,g,2,-0,0),f);break t}hy(u,a,He,ko,Kh,i,yn,Gs,Dr,Vi,g,0,-0,0)}}break}while(!0);Kn(e)}function hy(e,i,a,u,f,g,p,v,w,G,H,q,X,Y){if(e.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(ua={stylesheets:null,count:0,unsuspend:yS},sy(i),q=ES(),q!==null)){e.cancelPendingCommit=q(py.bind(null,e,i,g,a,u,f,p,v,w,H,1,X,Y)),$i(e,g,p,!G);return}py(e,i,g,a,u,f,p,v,w)}function G1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!$e(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(e,i,a,u){i&=~jh,i&=~Gs,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var g=31-we(f),p=1<<g;u[g]=-1,f&=~p}a!==0&&vl(e,a,i)}function Ho(){return(Gt&6)===0?(ia(0),!1):!0}function Jh(){if(Tt!==null){if(Ut===0)var e=Tt.return;else e=Tt,li=Os=null,_h(e),br=null,Kl=0,e=Tt;for(;e!==null;)Hm(e.alternate,e),e=e.return;Tt=null}}function Nr(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,tS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Jh(),Zt=e,Tt=a=ii(e.current,null),wt=i,Ut=0,sn=null,Vi=!1,Or=Gi(e,i),Zh=!1,Dr=yn=jh=Gs=Wi=$t=0,He=ea=null,Kh=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-we(u),g=1<<f;i|=e[f],u&=~g}return gi=i,ho(),a}function fy(e,i){vt=null,N.H=Do,i===Xl||i===So?(i=M_(),Ut=3):i===b_?(i=M_(),Ut=4):Ut=i===Om?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sn=i,Tt===null&&($t=1,Go(e,fn(i,e.current)))}function dy(){var e=N.H;return N.H=Do,e===null?Do:e}function gy(){var e=N.A;return N.A=N1,e}function $h(){$t=4,Vi||(wt&4194048)!==wt&&mn.current!==null||(Or=!0),(Wi&134217727)===0&&(Gs&134217727)===0||Zt===null||$i(Zt,wt,yn,!1)}function tf(e,i,a){var u=Gt;Gt|=2;var f=dy(),g=gy();(Zt!==e||wt!==i)&&(ko=null,Nr(e,i)),i=!1;var p=$t;t:do try{if(Ut!==0&&Tt!==null){var v=Tt,w=sn;switch(Ut){case 8:Jh(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(i=!0);var G=Ut;if(Ut=0,sn=null,zr(e,v,w,G),a&&Or){p=0;break t}break;default:G=Ut,Ut=0,sn=null,zr(e,v,w,G)}}U1(),p=$t;break}catch(H){fy(e,H)}while(!0);return i&&e.shellSuspendCounter++,li=Os=null,Gt=u,N.H=f,N.A=g,Tt===null&&(Zt=null,wt=0,ho()),p}function U1(){for(;Tt!==null;)_y(Tt)}function X1(e,i){var a=Gt;Gt|=2;var u=dy(),f=gy();Zt!==e||wt!==i?(ko=null,Po=ve()+500,Nr(e,i)):Or=Gi(e,i);t:do try{if(Ut!==0&&Tt!==null){i=Tt;var g=sn;e:switch(Ut){case 1:Ut=0,sn=null,zr(e,i,g,1);break;case 2:case 9:if(w_(g)){Ut=0,sn=null,my(i);break}i=function(){Ut!==2&&Ut!==9||Zt!==e||(Ut=7),Kn(e)},g.then(i,i);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:w_(g)?(Ut=0,sn=null,my(i)):(Ut=0,sn=null,zr(e,i,g,7));break;case 5:var p=null;switch(Tt.tag){case 26:p=Tt.memoizedState;case 5:case 27:var v=Tt;if(!p||Qy(p)){Ut=0,sn=null;var w=v.sibling;if(w!==null)Tt=w;else{var G=v.return;G!==null?(Tt=G,Zo(G)):Tt=null}break e}}Ut=0,sn=null,zr(e,i,g,5);break;case 6:Ut=0,sn=null,zr(e,i,g,6);break;case 8:Jh(),$t=6;break t;default:throw Error(s(462))}}Y1();break}catch(H){fy(e,H)}while(!0);return li=Os=null,N.H=u,N.A=f,Gt=a,Tt!==null?0:(Zt=null,wt=0,ho(),$t)}function Y1(){for(;Tt!==null&&!Ye();)_y(Tt)}function _y(e){var i=Pm(e.alternate,e,gi);e.memoizedProps=e.pendingProps,i===null?Zo(e):Tt=i}function my(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Gm(a,i,i.pendingProps,i.type,void 0,wt);break;case 11:i=Gm(a,i,i.pendingProps,i.type.render,i.ref,wt);break;case 5:_h(i);default:Hm(a,i),i=Tt=y_(i,gi),i=Pm(a,i,gi)}e.memoizedProps=e.pendingProps,i===null?Zo(e):Tt=i}function zr(e,i,a,u){li=Os=null,_h(i),br=null,Kl=0;var f=i.return;try{if(A1(e,f,i,a,wt)){$t=1,Go(e,fn(a,e.current)),Tt=null;return}}catch(g){if(f!==null)throw Tt=f,g;$t=1,Go(e,fn(a,e.current)),Tt=null;return}i.flags&32768?(Dt||u===1?e=!0:Or||(wt&536870912)!==0?e=!1:(Vi=e=!0,(u===2||u===9||u===3||u===6)&&(u=mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),yy(i,e)):Zo(i)}function Zo(e){var i=e;do{if((i.flags&32768)!==0){yy(i,Vi);return}e=i.return;var a=O1(i.alternate,i,gi);if(a!==null){Tt=a;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=e}while(i!==null);$t===0&&($t=5)}function yy(e,i){do{var a=D1(e.alternate,e);if(a!==null){a.flags&=32767,Tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Tt=e;return}Tt=e=a}while(e!==null);$t=6,Tt=null}function py(e,i,a,u,f,g,p,v,w){e.cancelPendingCommit=null;do jo();while(xe!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Hc,$a(e,a,g,p,v,w),e===Zt&&(Tt=Zt=null,wt=0),Lr=i,Ji=e,Ir=a,Vh=g,Wh=f,oy=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k1(bn,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=N.T,N.T=null,f=K.p,K.p=2,p=Gt,Gt|=4;try{L1(e,i,a)}finally{Gt=p,K.p=f,N.T=u}}xe=1,Ey(),vy(),Sy()}}function Ey(){if(xe===1){xe=0;var e=Ji,i=Lr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var u=K.p;K.p=2;var f=Gt;Gt|=4;try{ey(i,e);var g=df,p=a_(e.containerInfo),v=g.focusedElem,w=g.selectionRange;if(p!==v&&v&&v.ownerDocument&&l_(v.ownerDocument.documentElement,v)){if(w!==null&&Yc(v)){var G=w.start,H=w.end;if(H===void 0&&(H=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(H,v.value.length);else{var q=v.ownerDocument||document,X=q&&q.defaultView||window;if(X.getSelection){var Y=X.getSelection(),gt=v.textContent.length,ft=Math.min(w.start,gt),Pt=w.end===void 0?ft:Math.min(w.end,gt);!Y.extend&&ft>Pt&&(p=Pt,Pt=ft,ft=p);var I=r_(v,ft),D=r_(v,Pt);if(I&&D&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var z=q.createRange();z.setStart(I.node,I.offset),Y.removeAllRanges(),ft>Pt?(Y.addRange(z),Y.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),Y.addRange(z))}}}}for(q=[],Y=v;Y=Y.parentNode;)Y.nodeType===1&&q.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var j=q[v];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}su=!!ff,df=ff=null}finally{Gt=f,K.p=u,N.T=a}}e.current=i,xe=2}}function vy(){if(xe===2){xe=0;var e=Ji,i=Lr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var u=K.p;K.p=2;var f=Gt;Gt|=4;try{Qm(e,i.alternate,i)}finally{Gt=f,K.p=u,N.T=a}}xe=3}}function Sy(){if(xe===4||xe===3){xe=0,un();var e=Ji,i=Lr,a=Ir,u=oy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Lr=Ji=null,xy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Qi=null),Ae(a),i=i.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=N.T,f=K.p,K.p=2,N.T=null;try{for(var g=e.onRecoverableError,p=0;p<u.length;p++){var v=u[p];g(v.value,{componentStack:v.stack})}}finally{N.T=i,K.p=f}}(Ir&3)!==0&&jo(),Kn(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Qh?na++:(na=0,Qh=e):na=0,ia(0)}}function xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Gl(i)))}function jo(e){return Ey(),vy(),Sy(),Ty()}function Ty(){if(xe!==5)return!1;var e=Ji,i=Vh;Vh=0;var a=Ae(Ir),u=N.T,f=K.p;try{K.p=32>a?32:a,N.T=null,a=Wh,Wh=null;var g=Ji,p=Ir;if(xe=0,Lr=Ji=null,Ir=0,(Gt&6)!==0)throw Error(s(331));var v=Gt;if(Gt|=4,ly(g.current),iy(g,g.current,p,a),Gt=v,ia(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(Fn,g)}catch{}return!0}finally{K.p=f,N.T=u,xy(e,i)}}function Ry(e,i,a){i=fn(a,i),i=Mh(e.stateNode,i,2),e=Pi(e,i,2),e!==null&&(wn(e,2),Kn(e))}function kt(e,i,a){if(e.tag===3)Ry(e,e,a);else for(;i!==null;){if(i.tag===3){Ry(i,e,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qi===null||!Qi.has(u))){e=fn(a,e),a=Am(2),u=Pi(i,a,2),u!==null&&(Mm(a,u,i,e),wn(u,2),Kn(u));break}}i=i.return}}function ef(e,i,a){var u=e.pingCache;if(u===null){u=e.pingCache=new z1;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(Zh=!0,f.add(a),e=F1.bind(null,e,i,a),i.then(e,e))}function F1(e,i,a){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(wt&a)===a&&($t===4||$t===3&&(wt&62914560)===wt&&300>ve()-qh?(Gt&2)===0&&Nr(e,0):jh|=a,Dr===wt&&(Dr=0)),Kn(e)}function Cy(e,i){i===0&&(i=Ui()),e=mr(e,i),e!==null&&(wn(e,i),Kn(e))}function B1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Cy(e,a)}function P1(e,i){var a=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Cy(e,a)}function k1(e,i){return $n(e,i)}var Ko=null,Gr=null,nf=!1,qo=!1,sf=!1,Us=0;function Kn(e){e!==Gr&&e.next===null&&(Gr===null?Ko=Gr=e:Gr=Gr.next=e),qo=!0,nf||(nf=!0,Z1())}function ia(e,i){if(!sf&&qo){sf=!0;do for(var a=!1,u=Ko;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var p=u.suspendedLanes,v=u.pingedLanes;g=(1<<31-we(42|e)+1)-1,g&=f&~(p&~v),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,My(u,g))}else g=wt,g=zi(u,u===Zt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Gi(u,g)||(a=!0,My(u,g));u=u.next}while(a);sf=!1}}function H1(){by()}function by(){qo=nf=!1;var e=0;Us!==0&&($1()&&(e=Us),Us=0);for(var i=ve(),a=null,u=Ko;u!==null;){var f=u.next,g=wy(u,i);g===0?(u.next=null,a===null?Ko=f:a.next=f,f===null&&(Gr=a)):(a=u,(e!==0||(g&3)!==0)&&(qo=!0)),u=f}ia(e)}function wy(e,i){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-we(g),v=1<<p,w=f[p];w===-1?((v&a)===0||(v&u)!==0)&&(f[p]=pc(v,i)):w<=i&&(e.expiredLanes|=v),g&=~v}if(i=Zt,a=wt,a=zi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===i&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Cn(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(u!==null&&Cn(u),Ae(a)){case 2:case 8:a=Yn;break;case 32:a=bn;break;case 268435456:a=ee;break;default:a=bn}return u=Ay.bind(null,e),a=$n(a,u),e.callbackPriority=i,e.callbackNode=a,i}return u!==null&&u!==null&&Cn(u),e.callbackPriority=2,e.callbackNode=null,2}function Ay(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(jo()&&e.callbackNode!==a)return null;var u=wt;return u=zi(e,e===Zt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(cy(e,u,i),wy(e,ve()),e.callbackNode!=null&&e.callbackNode===a?Ay.bind(null,e):null)}function My(e,i){if(jo())return null;cy(e,i,!0)}function Z1(){eS(function(){(Gt&6)!==0?$n(Ii,H1):by()})}function rf(){return Us===0&&(Us=nr()),Us}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:so(""+e)}function Dy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function j1(e,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var g=Oy((f[xt]||null).action),p=u.submitter;p&&(i=(i=p[xt]||null)?Oy(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var v=new oo("action","action",null,u,f);e.push({event:v,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var w=p?Dy(f,p):new FormData(f);Rh(a,{pending:!0,data:w,method:f.method,action:g},null,w)}}else typeof g=="function"&&(v.preventDefault(),w=p?Dy(f,p):new FormData(f),Rh(a,{pending:!0,data:w,method:f.method,action:g},g,w))},currentTarget:f}]})}}for(var lf=0;lf<kc.length;lf++){var af=kc[lf],K1=af.toLowerCase(),q1=af[0].toUpperCase()+af.slice(1);Mn(K1,"on"+q1)}Mn(c_,"onAnimationEnd"),Mn(h_,"onAnimationIteration"),Mn(f_,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(h1,"onTransitionRun"),Mn(f1,"onTransitionStart"),Mn(d1,"onTransitionCancel"),Mn(d_,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sa));function Ly(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var g=void 0;if(i)for(var p=u.length-1;0<=p;p--){var v=u[p],w=v.instance,G=v.currentTarget;if(v=v.listener,w!==g&&f.isPropagationStopped())break t;g=v,f.currentTarget=G;try{g(f)}catch(H){zo(H)}f.currentTarget=null,g=w}else for(p=0;p<u.length;p++){if(v=u[p],w=v.instance,G=v.currentTarget,v=v.listener,w!==g&&f.isPropagationStopped())break t;g=v,f.currentTarget=G;try{g(f)}catch(H){zo(H)}f.currentTarget=null,g=w}}}}function Rt(e,i){var a=i[Je];a===void 0&&(a=i[Je]=new Set);var u=e+"__bubble";a.has(u)||(Iy(i,e,2,!1),a.add(u))}function of(e,i,a){var u=0;i&&(u|=4),Iy(a,e,u,i)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function uf(e){if(!e[Vo]){e[Vo]=!0,bg.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||of(a,!1,e),of(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vo]||(i[Vo]=!0,of("selectionchange",!1,i))}}function Iy(e,i,a,u){switch(i0(i)){case 2:var f=xS;break;case 8:f=TS;break;default:f=Tf}a=f.bind(null,i,a,e),f=void 0,!Oc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function cf(e,i,a,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var v=u.stateNode.containerInfo;if(v===f)break;if(p===4)for(p=u.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===f)return;p=p.return}for(;v!==null;){if(p=ir(v),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){u=g=p;continue t}v=v.parentNode}}u=u.return}Fg(function(){var G=g,H=Ac(a),q=[];t:{var X=g_.get(e);if(X!==void 0){var Y=oo,gt=e;switch(e){case"keypress":if(lo(a)===0)break t;case"keydown":case"keyup":Y=kv;break;case"focusin":gt="focus",Y=Nc;break;case"focusout":gt="blur",Y=Nc;break;case"beforeblur":case"afterblur":Y=Nc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=jv;break;case c_:case h_:case f_:Y=Nv;break;case d_:Y=qv;break;case"scroll":case"scrollend":Y=Mv;break;case"wheel":Y=Wv;break;case"copy":case"cut":case"paste":Y=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zg;break;case"toggle":case"beforetoggle":Y=Jv}var ft=(i&4)!==0,Pt=!ft&&(e==="scroll"||e==="scrollend"),I=ft?X!==null?X+"Capture":null:X;ft=[];for(var D=G,z;D!==null;){var j=D;if(z=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||z===null||I===null||(j=Tl(D,I),j!=null&&ft.push(ra(D,j,z))),Pt)break;D=D.return}0<ft.length&&(X=new Y(X,gt,null,a,H),q.push({event:X,listeners:ft}))}}if((i&7)===0){t:{if(X=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",X&&a!==wc&&(gt=a.relatedTarget||a.fromElement)&&(ir(gt)||gt[Qt]))break t;if((Y||X)&&(X=H.window===H?H:(X=H.ownerDocument)?X.defaultView||X.parentWindow:window,Y?(gt=a.relatedTarget||a.toElement,Y=G,gt=gt?ir(gt):null,gt!==null&&(Pt=o(gt),ft=gt.tag,gt!==Pt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(Y=null,gt=G),Y!==gt)){if(ft=kg,j="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Zg,j="onPointerLeave",I="onPointerEnter",D="pointer"),Pt=Y==null?X:xl(Y),z=gt==null?X:xl(gt),X=new ft(j,D+"leave",Y,a,H),X.target=Pt,X.relatedTarget=z,j=null,ir(H)===G&&(ft=new ft(I,D+"enter",gt,a,H),ft.target=z,ft.relatedTarget=Pt,j=ft),Pt=j,Y&&gt)e:{for(ft=Y,I=gt,D=0,z=ft;z;z=Ur(z))D++;for(z=0,j=I;j;j=Ur(j))z++;for(;0<D-z;)ft=Ur(ft),D--;for(;0<z-D;)I=Ur(I),z--;for(;D--;){if(ft===I||I!==null&&ft===I.alternate)break e;ft=Ur(ft),I=Ur(I)}ft=null}else ft=null;Y!==null&&Ny(q,X,Y,ft,!1),gt!==null&&Pt!==null&&Ny(q,Pt,gt,ft,!0)}}t:{if(X=G?xl(G):window,Y=X.nodeName&&X.nodeName.toLowerCase(),Y==="select"||Y==="input"&&X.type==="file")var st=$g;else if(Qg(X))if(t_)st=o1;else{st=l1;var St=r1}else Y=X.nodeName,!Y||Y.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&bc(G.elementType)&&(st=$g):st=a1;if(st&&(st=st(e,G))){Jg(q,st,a,H);break t}St&&St(e,X,G),e==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&Cc(X,"number",X.value)}switch(St=G?xl(G):window,e){case"focusin":(Qg(St)||St.contentEditable==="true")&&(dr=St,Fc=G,Dl=null);break;case"focusout":Dl=Fc=dr=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,o_(q,a,H);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":o_(q,a,H)}var at;if(Gc)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else fr?Vg(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(jg&&a.locale!=="ko"&&(fr||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&fr&&(at=Bg()):(Xi=H,Dc="value"in Xi?Xi.value:Xi.textContent,fr=!0)),St=Wo(G,dt),0<St.length&&(dt=new Hg(dt,e,null,a,H),q.push({event:dt,listeners:St}),at?dt.data=at:(at=Wg(a),at!==null&&(dt.data=at)))),(at=t1?e1(e,a):n1(e,a))&&(dt=Wo(G,"onBeforeInput"),0<dt.length&&(St=new Hg("onBeforeInput","beforeinput",null,a,H),q.push({event:St,listeners:dt}),St.data=at)),j1(q,e,G,a,H)}Ly(q,i)})}function ra(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Wo(e,i){for(var a=i+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Tl(e,a),f!=null&&u.unshift(ra(e,f,g)),f=Tl(e,i),f!=null&&u.push(ra(e,f,g))),e.tag===3)return u;e=e.return}return[]}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ny(e,i,a,u,f){for(var g=i._reactName,p=[];a!==null&&a!==u;){var v=a,w=v.alternate,G=v.stateNode;if(v=v.tag,w!==null&&w===u)break;v!==5&&v!==26&&v!==27||G===null||(w=G,f?(G=Tl(a,g),G!=null&&p.unshift(ra(a,G,w))):f||(G=Tl(a,g),G!=null&&p.push(ra(a,G,w)))),a=a.return}p.length!==0&&e.push({event:i,listeners:p})}var W1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(Q1,"")}function Gy(e,i){return i=zy(i),zy(e)===i}function Qo(){}function Bt(e,i,a,u,f,g){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ur(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ur(e,""+u);break;case"className":eo(e,"class",u);break;case"tabIndex":eo(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":eo(e,a,u);break;case"style":Xg(e,u,g);break;case"data":if(i!=="object"){eo(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=so(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Bt(e,i,"name",f.name,f,null),Bt(e,i,"formEncType",f.formEncType,f,null),Bt(e,i,"formMethod",f.formMethod,f,null),Bt(e,i,"formTarget",f.formTarget,f,null)):(Bt(e,i,"encType",f.encType,f,null),Bt(e,i,"method",f.method,f,null),Bt(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=so(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=Qo);break;case"onScroll":u!=null&&Rt("scroll",e);break;case"onScrollEnd":u!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=so(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),to(e,"popover",u);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":to(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wv.get(a)||a,to(e,a,u))}}function hf(e,i,a,u,f,g){switch(a){case"style":Xg(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof u=="string"?ur(e,u):(typeof u=="number"||typeof u=="bigint")&&ur(e,""+u);break;case"onScroll":u!=null&&Rt("scroll",e);break;case"onScrollEnd":u!=null&&Rt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=e[xt]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):to(e,a,u)}}}function Te(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var u=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var p=a[g];if(p!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(e,i,g,p,a,null)}}f&&Bt(e,i,"srcSet",a.srcSet,a,null),u&&Bt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var v=g=p=f=null,w=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var H=a[u];if(H!=null)switch(u){case"name":f=H;break;case"type":p=H;break;case"checked":w=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Bt(e,i,u,H,a,null)}}Ng(e,g,v,w,G,p,f,!1),no(e);return;case"select":Rt("invalid",e),u=p=g=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":g=v;break;case"defaultValue":p=v;break;case"multiple":u=v;default:Bt(e,i,f,v,a,null)}i=g,a=p,e.multiple=!!u,i!=null?or(e,!!u,i,!1):a!=null&&or(e,!!u,a,!0);return;case"textarea":Rt("invalid",e),g=f=u=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":u=v;break;case"defaultValue":f=v;break;case"children":g=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Bt(e,i,p,v,a,null)}Gg(e,u,f,g),no(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(u=a[w],u!=null))switch(w){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bt(e,i,w,u,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(u=0;u<sa.length;u++)Rt(sa[u],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(e,i,G,u,a,null)}return;default:if(bc(i)){for(H in a)a.hasOwnProperty(H)&&(u=a[H],u!==void 0&&hf(e,i,H,u,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(u=a[v],u!=null&&Bt(e,i,v,u,a,null))}function J1(e,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,p=null,v=null,w=null,G=null,H=null;for(Y in a){var q=a[Y];if(a.hasOwnProperty(Y)&&q!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":w=q;default:u.hasOwnProperty(Y)||Bt(e,i,Y,null,u,q)}}for(var X in u){var Y=u[X];if(q=a[X],u.hasOwnProperty(X)&&(Y!=null||q!=null))switch(X){case"type":g=Y;break;case"name":f=Y;break;case"checked":G=Y;break;case"defaultChecked":H=Y;break;case"value":p=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==q&&Bt(e,i,X,Y,u,q)}}Rc(e,p,v,w,G,H,g,f);return;case"select":Y=p=v=X=null;for(g in a)if(w=a[g],a.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":Y=w;default:u.hasOwnProperty(g)||Bt(e,i,g,null,u,w)}for(f in u)if(g=u[f],w=a[f],u.hasOwnProperty(f)&&(g!=null||w!=null))switch(f){case"value":X=g;break;case"defaultValue":v=g;break;case"multiple":p=g;default:g!==w&&Bt(e,i,f,g,u,w)}i=v,a=p,u=Y,X!=null?or(e,!!a,X,!1):!!u!=!!a&&(i!=null?or(e,!!a,i,!0):or(e,!!a,a?[]:"",!1));return;case"textarea":Y=X=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!u.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Bt(e,i,v,null,u,f)}for(p in u)if(f=u[p],g=a[p],u.hasOwnProperty(p)&&(f!=null||g!=null))switch(p){case"value":X=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Bt(e,i,p,f,u,g)}zg(e,X,Y);return;case"option":for(var gt in a)if(X=a[gt],a.hasOwnProperty(gt)&&X!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Bt(e,i,gt,null,u,X)}for(w in u)if(X=u[w],Y=a[w],u.hasOwnProperty(w)&&X!==Y&&(X!=null||Y!=null))switch(w){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Bt(e,i,w,X,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)X=a[ft],a.hasOwnProperty(ft)&&X!=null&&!u.hasOwnProperty(ft)&&Bt(e,i,ft,null,u,X);for(G in u)if(X=u[G],Y=a[G],u.hasOwnProperty(G)&&X!==Y&&(X!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Bt(e,i,G,X,u,Y)}return;default:if(bc(i)){for(var Pt in a)X=a[Pt],a.hasOwnProperty(Pt)&&X!==void 0&&!u.hasOwnProperty(Pt)&&hf(e,i,Pt,void 0,u,X);for(H in u)X=u[H],Y=a[H],!u.hasOwnProperty(H)||X===Y||X===void 0&&Y===void 0||hf(e,i,H,X,u,Y);return}}for(var I in a)X=a[I],a.hasOwnProperty(I)&&X!=null&&!u.hasOwnProperty(I)&&Bt(e,i,I,null,u,X);for(q in u)X=u[q],Y=a[q],!u.hasOwnProperty(q)||X===Y||X==null&&Y==null||Bt(e,i,q,X,u,Y)}var ff=null,df=null;function Jo(e){return e.nodeType===9?e:e.ownerDocument}function Uy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function gf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _f=null;function $1(){var e=window.event;return e&&e.type==="popstate"?e===_f?!1:(_f=e,!0):(_f=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(nS)}:Yy;function nS(e){setTimeout(function(){throw e})}function ts(e){return e==="head"}function By(e,i){var a=i,u=0,f=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var p=e.ownerDocument;if(a&1&&la(p.documentElement),a&2&&la(p.body),a&4)for(a=p.head,la(a),p=a.firstChild;p;){var v=p.nextSibling,w=p.nodeName;p[Sl]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=v}}if(f===0){e.removeChild(g),ga(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);ga(i)}function mf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),vc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function iS(e,i,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Sl])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function sS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dn(e.nextSibling),e===null))return null;return e}function yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function rS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Dn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var pf=null;function Py(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function ky(e,i,a){switch(i=Jo(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function la(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vc(e)}var pn=new Map,Hy=new Set;function $o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _i=K.d;K.d={f:lS,r:aS,D:oS,C:uS,L:cS,m:hS,X:dS,S:fS,M:gS};function lS(){var e=_i.f(),i=Ho();return e||i}function aS(e){var i=sr(e);i!==null&&i.tag===5&&i.type==="form"?cm(i):_i.r(e)}var Xr=typeof document>"u"?null:document;function Zy(e,i,a){var u=Xr;if(u&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Hy.has(f)||(Hy.add(f),e={rel:e,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Te(i,"link",e),de(i),u.head.appendChild(i)))}}function oS(e){_i.D(e),Zy("dns-prefetch",e,null)}function uS(e,i){_i.C(e,i),Zy("preconnect",e,i)}function cS(e,i,a){_i.L(e,i,a);var u=Xr;if(u&&e&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(e)+'"]';var g=f;switch(i){case"style":g=Yr(e);break;case"script":g=Fr(e)}pn.has(g)||(e=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),pn.set(g,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(aa(g))||i==="script"&&u.querySelector(oa(g))||(i=u.createElement("link"),Te(i,"link",e),de(i),u.head.appendChild(i)))}}function hS(e,i){_i.m(e,i);var a=Xr;if(a&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(u)+'"][href="'+hn(e)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fr(e)}if(!pn.has(g)&&(e=m({rel:"modulepreload",href:e},i),pn.set(g,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oa(g)))return}u=a.createElement("link"),Te(u,"link",e),de(u),a.head.appendChild(u)}}}function fS(e,i,a){_i.S(e,i,a);var u=Xr;if(u&&e){var f=rr(u).hoistableStyles,g=Yr(e);i=i||"default";var p=f.get(g);if(!p){var v={loading:0,preload:null};if(p=u.querySelector(aa(g)))v.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":i},a),(a=pn.get(g))&&Ef(e,a);var w=p=u.createElement("link");de(w),Te(w,"link",e),w._p=new Promise(function(G,H){w.onload=G,w.onerror=H}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,tu(p,i,u)}p={type:"stylesheet",instance:p,count:1,state:v},f.set(g,p)}}}function dS(e,i){_i.X(e,i);var a=Xr;if(a&&e){var u=rr(a).hoistableScripts,f=Fr(e),g=u.get(f);g||(g=a.querySelector(oa(f)),g||(e=m({src:e,async:!0},i),(i=pn.get(f))&&vf(e,i),g=a.createElement("script"),de(g),Te(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function gS(e,i){_i.M(e,i);var a=Xr;if(a&&e){var u=rr(a).hoistableScripts,f=Fr(e),g=u.get(f);g||(g=a.querySelector(oa(f)),g||(e=m({src:e,async:!0,type:"module"},i),(i=pn.get(f))&&vf(e,i),g=a.createElement("script"),de(g),Te(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function jy(e,i,a,u){var f=(f=lt.current)?$o(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Yr(a.href),a=rr(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Yr(a.href);var g=rr(f).hoistableStyles,p=g.get(e);if(p||(f=f.ownerDocument||f,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=f.querySelector(aa(e)))&&!g._p&&(p.instance=g,p.state.loading=5),pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pn.set(e,a),g||_S(f,e,a,p.state))),i&&u===null)throw Error(s(528,""));return p}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fr(a),a=rr(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yr(e){return'href="'+hn(e)+'"'}function aa(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function _S(e,i,a,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Te(i,"link",a),de(i),e.head.appendChild(i))}function Fr(e){return'[src="'+hn(e)+'"]'}function oa(e){return"script[async]"+e}function qy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(u)return i.instance=u,de(u),u;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),de(u),Te(u,"style",f),tu(u,a.precedence,e),i.instance=u;case"stylesheet":f=Yr(a.href);var g=e.querySelector(aa(f));if(g)return i.state.loading|=4,i.instance=g,de(g),g;u=Ky(a),(f=pn.get(f))&&Ef(u,f),g=(e.ownerDocument||e).createElement("link"),de(g);var p=g;return p._p=new Promise(function(v,w){p.onload=v,p.onerror=w}),Te(g,"link",u),i.state.loading|=4,tu(g,a.precedence,e),i.instance=g;case"script":return g=Fr(a.src),(f=e.querySelector(oa(g)))?(i.instance=f,de(f),f):(u=a,(f=pn.get(g))&&(u=m({},a),vf(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),de(f),Te(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,tu(u,a.precedence,e));return i.instance}function tu(e,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,p=0;p<u.length;p++){var v=u[p];if(v.dataset.precedence===i)g=v;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ef(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function vf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var eu=null;function Vy(e,i,a){if(eu===null){var u=new Map,f=eu=new Map;f.set(a,u)}else f=eu,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var g=a[f];if(!(g[Sl]||g[Ht]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var v=u.get(p);v?v.push(g):u.set(p,[g])}}return u}function Wy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function mS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ua=null;function yS(){}function pS(e,i,a){if(ua===null)throw Error(s(475));var u=ua;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Yr(a.href),g=e.querySelector(aa(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=nu.bind(u),e.then(u,u)),i.state.loading|=4,i.instance=g,de(g);return}g=e.ownerDocument||e,a=Ky(a),(f=pn.get(f))&&Ef(a,f),g=g.createElement("link"),de(g);var p=g;p._p=new Promise(function(v,w){p.onload=v,p.onerror=w}),Te(g,"link",a),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=nu.bind(u),e.addEventListener("load",i),e.addEventListener("error",i))}}function ES(){if(ua===null)throw Error(s(475));var e=ua;return e.stylesheets&&e.count===0&&Sf(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Sf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function nu(){if(this.count--,this.count===0){if(this.stylesheets)Sf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function Sf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,i.forEach(vS,e),iu=null,nu.call(e))}function vS(e,i){if(!(i.state.loading&4)){var a=iu.get(e);if(a)var u=a.get(null);else{a=new Map,iu.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var p=f[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}f=i.instance,p=f.getAttribute("data-precedence"),g=a.get(p)||u,g===u&&a.set(null,f),a.set(p,f),this.count++,u=nu.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var ca={$$typeof:L,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function SS(e,i,a,u,f,g,p,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Jy(e,i,a,u,f,g,p,v,w,G,H,q){return e=new SS(e,i,a,p,v,w,G,q),i=1,g===!0&&(i|=24),g=tn(3,null,null,i),e.current=g,g.stateNode=e,i=eh(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:i},rh(g),e}function $y(e){return e?(e=yr,e):yr}function t0(e,i,a,u,f,g){f=$y(f),u.context===null?u.context=f:u.pendingContext=f,u=Bi(i),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Pi(e,u,i),a!==null&&(ln(a,e,i),Fl(a,e,i))}function e0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function xf(e,i){e0(e,i),(e=e.alternate)&&e0(e,i)}function n0(e){if(e.tag===13){var i=mr(e,67108864);i!==null&&ln(i,e,67108864),xf(e,67108864)}}var su=!0;function xS(e,i,a,u){var f=N.T;N.T=null;var g=K.p;try{K.p=2,Tf(e,i,a,u)}finally{K.p=g,N.T=f}}function TS(e,i,a,u){var f=N.T;N.T=null;var g=K.p;try{K.p=8,Tf(e,i,a,u)}finally{K.p=g,N.T=f}}function Tf(e,i,a,u){if(su){var f=Rf(u);if(f===null)cf(e,i,u,ru,a),s0(e,u);else if(CS(f,e,i,a,u))u.stopPropagation();else if(s0(e,u),i&4&&-1<RS.indexOf(e)){for(;f!==null;){var g=sr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=Pn(g.pendingLanes);if(p!==0){var v=g;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var w=1<<31-we(p);v.entanglements[1]|=w,p&=~w}Kn(g),(Gt&6)===0&&(Po=ve()+500,ia(0))}}break;case 13:v=mr(g,2),v!==null&&ln(v,g,2),Ho(),xf(g,2)}if(g=Rf(u),g===null&&cf(e,i,u,ru,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else cf(e,i,u,null,a)}}function Rf(e){return e=Ac(e),Cf(e)}var ru=null;function Cf(e){if(ru=null,e=ir(e),e!==null){var i=o(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ru=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case Ii:return 2;case Yn:return 8;case bn:case Ni:return 32;case ee:return 268435456;default:return 32}default:return 32}}var bf=!1,es=null,ns=null,is=null,ha=new Map,fa=new Map,ss=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(e,i){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":ha.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(i.pointerId)}}function da(e,i,a,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=sr(i),i!==null&&n0(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function CS(e,i,a,u,f){switch(i){case"focusin":return es=da(es,e,i,a,u,f),!0;case"dragenter":return ns=da(ns,e,i,a,u,f),!0;case"mouseover":return is=da(is,e,i,a,u,f),!0;case"pointerover":var g=f.pointerId;return ha.set(g,da(ha.get(g)||null,e,i,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,fa.set(g,da(fa.get(g)||null,e,i,a,u,f)),!0}return!1}function r0(e){var i=ir(e.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,Fe(e.priority,function(){if(a.tag===13){var u=rn();u=An(u);var f=mr(a,u);f!==null&&ln(f,a,u),xf(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rf(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);wc=u,a.target.dispatchEvent(u),wc=null}else return i=sr(a),i!==null&&n0(i),e.blockedOn=a,!1;i.shift()}return!0}function l0(e,i,a){lu(e)&&a.delete(i)}function bS(){bf=!1,es!==null&&lu(es)&&(es=null),ns!==null&&lu(ns)&&(ns=null),is!==null&&lu(is)&&(is=null),ha.forEach(l0),fa.forEach(l0)}function au(e,i){e.blockedOn===i&&(e.blockedOn=null,bf||(bf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bS)))}var ou=null;function a0(e){ou!==e&&(ou=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ou===e&&(ou=null);for(var i=0;i<e.length;i+=3){var a=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(Cf(u||a)===null)continue;break}var g=sr(a);g!==null&&(e.splice(i,3),i-=3,Rh(g,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function ga(e){function i(w){return au(w,e)}es!==null&&au(es,e),ns!==null&&au(ns,e),is!==null&&au(is,e),ha.forEach(i),fa.forEach(i);for(var a=0;a<ss.length;a++){var u=ss[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)r0(a),a.blockedOn===null&&ss.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],g=a[u+1],p=f[xt]||null;if(typeof g=="function")p||a0(a);else if(p){var v=null;if(g&&g.hasAttribute("formAction")){if(f=g,p=g[xt]||null)v=p.formAction;else if(Cf(f)!==null)continue}else v=p.action;typeof v=="function"?a[u+1]=v:(a.splice(u,3),u-=3),a0(a)}}}function wf(e){this._internalRoot=e}uu.prototype.render=wf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=rn();t0(a,u,e,i,null,null)},uu.prototype.unmount=wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;t0(e.current,2,null,e,null,null),Ho(),i[Qt]=null}};function uu(e){this._internalRoot=e}uu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qe();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ss.length&&i!==0&&i<ss[a].priority;a++);ss.splice(a,0,e),a===0&&r0(e)}};var o0=t.version;if(o0!=="19.1.0")throw Error(s(527,o0,"19.1.0"));K.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=d(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var wS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Fn=cu.inject(wS),he=cu}catch{}}return ma.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,u="",f=Rm,g=Cm,p=bm,v=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks)),i=Jy(e,1,!1,null,null,a,u,f,g,p,v,null),e[Qt]=i.current,uf(e),new wf(i)},ma.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var u=!1,f="",g=Rm,p=Cm,v=bm,w=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Jy(e,1,!0,i,a??null,u,f,g,p,v,w,G),i.context=$y(null),a=i.current,u=rn(),u=An(u),f=Bi(u),f.callback=null,Pi(a,f,u),a=u,i.current.lanes=a,wn(i,a),Kn(i),e[Qt]=i.current,uf(e),new uu(i)},ma.version="19.1.0",ma}var E0;function FS(){if(E0)return Of.exports;E0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Of.exports=YS(),Of.exports}var BS=FS();const PS=Fp(BS),Ze={ADD:"add",REMOVE:"remove"},al={PROPERTYCHANGE:"propertychange"},mt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Zu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function kS(r,t,n){let s,l;n=n||xi;let o=0,c=r.length,h=!1;for(;o<c;)s=o+(c-o>>1),l=+n(r[s],t),l<0?o=s+1:(c=s,h=!l);return h?o:~o}function xi(r,t){return r>t?1:r<t?-1:0}function HS(r,t){return r<t?1:r>t?-1:0}function Gd(r,t,n){if(r[0]<=t)return 0;const s=r.length;if(t<=r[s-1])return s-1;if(typeof n=="function"){for(let l=1;l<s;++l){const o=r[l];if(o===t)return l;if(o<t)return n(t,r[l-1],o)>0?l-1:l}return s-1}if(n>0){for(let l=1;l<s;++l)if(r[l]<t)return l-1;return s-1}if(n<0){for(let l=1;l<s;++l)if(r[l]<=t)return l;return s-1}for(let l=1;l<s;++l){if(r[l]==t)return l;if(r[l]<t)return r[l-1]-t<t-r[l]?l-1:l}return s-1}function ZS(r,t,n){for(;t<n;){const s=r[t];r[t]=r[n],r[n]=s,++t,--n}}function Ud(r,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let l=0;l<s;l++)r[r.length]=n[l]}function ps(r,t){const n=r.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(r[s]!==t[s])return!1;return!0}function jS(r,t,n){const s=t||xi;return r.every(function(l,o){if(o===0)return!0;const c=s(r[o-1],l);return!(c>0||c===0)})}function Da(){return!0}function ju(){return!1}function La(){}function Bp(r){let t,n,s;return function(){const l=Array.prototype.slice.call(arguments);return(!n||this!==s||!ps(l,n))&&(s=this,n=l,t=r.apply(this,arguments)),t}}function KS(r){function t(){let n;try{n=r()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Za(r){for(const t in r)delete r[t]}function ol(r){let t;for(t in r)return!1;return!t}class Oi{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Ku extends Zu{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),l=s[t]||(s[t]=[]);l.includes(n)||l.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,l=this.listeners_&&this.listeners_[s];if(!l)return;const o=n?new Oi(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let _=0,m=l.length;_<m;++_)if("handleEvent"in l[_]?d=l[_].handleEvent(o):d=l[_].call(this,o),d===!1||o.propagationStopped){d=!1;break}if(--c[s]===0){let _=h[s];for(delete h[s];_--;)this.removeEventListener(s,La);delete c[s]}return d}disposeInternal(){this.listeners_&&Za(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const l=s.indexOf(n);l!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[l]=La,++this.pendingRemovals_[t]):(s.splice(l,1),s.length===0&&delete this.listeners_[t]))}}function At(r,t,n,s,l){if(l){const c=n;n=function(h){return r.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==r&&(n=n.bind(s));const o={target:r,type:t,listener:n};return r.addEventListener(t,n),o}function Ru(r,t,n,s){return At(r,t,n,s,!0)}function Kt(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Za(r))}class ja extends Ku{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(mt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,l=new Array(s);for(let o=0;o<s;++o)l[o]=At(this,t[o],n);return l}return At(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const l=t.length;s=new Array(l);for(let o=0;o<l;++o)s[o]=Ru(this,t[o],n)}else s=Ru(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)qS(s);else if(Array.isArray(t))for(let l=0,o=t.length;l<o;++l)this.removeEventListener(t[l],n);else this.removeEventListener(t,n)}}ja.prototype.on;ja.prototype.once;ja.prototype.un;function qS(r){if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t)Kt(r[t]);else Kt(r)}function Ot(){throw new Error("Unimplemented abstract method.")}let VS=0;function It(r){return r.ol_uid||(r.ol_uid=String(++VS))}class v0 extends Oi{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class Xn extends ja{constructor(t){super(),this.on,this.once,this.un,It(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new v0(s,t,n)),s=al.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new v0(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const l=this.values_||(this.values_={});if(s)l[t]=n;else{const o=l[t];l[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],ol(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const S0={LENGTH:"length"};class hu extends Oi{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Wn extends Xn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,l=this.array_.length;s<l;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,l=n.length;s<l;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(S0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new hu(Ze.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,l=n.length;s<l;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new hu(Ze.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const l=this.array_[t];this.array_[t]=n,this.dispatchEvent(new hu(Ze.REMOVE,l,t)),this.dispatchEvent(new hu(Ze.ADD,n,t))}updateLength_(){this.set(S0.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,l=this.array_.length;s<l;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}class qr extends Oi{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class hs extends qr{constructor(t,n,s,l,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=l!==void 0?l:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const te={SINGLECLICK:"singleclick",CLICK:mt.CLICK,DBLCLICK:mt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ks=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",WS=Ks.includes("safari")&&!Ks.includes("chrom");WS&&(Ks.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ks));const QS=Ks.includes("webkit")&&!Ks.includes("edge"),Pp=Ks.includes("macintosh"),JS=typeof devicePixelRatio<"u"?devicePixelRatio:1,kp=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Hp=typeof Image<"u"&&Image.prototype.decode,Zp=function(){let r=!1;try{const t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r}(),gd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class $S extends Ku{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=At(s,gd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=At(s,gd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(mt.TOUCHMOVE,this.boundHandleTouchMove_,Zp?{passive:!1}:!1)}emulateClick_(t){let n=new hs(te.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new hs(te.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new hs(te.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==te.POINTERUP||n.type==te.POINTERCANCEL){delete this.trackedTouches_[s];for(const l in this.trackedTouches_)if(this.trackedTouches_[l].target!==n.target){delete this.trackedTouches_[l];break}}else(n.type==te.POINTERDOWN||n.type==te.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new hs(te.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new hs(te.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(At(s,te.POINTERMOVE,this.handlePointerMove_,this),At(s,te.POINTERUP,this.handlePointerUp_,this),At(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(At(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new hs(te.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new hs(te.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Kt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(mt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Kt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Kt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const vi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Le={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ht={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function zt(r,t){if(!r)throw new Error(t)}const Cu=1/0;class tx{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Za(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const l=this.keyFunction_(s);return delete this.queuedElements_[l],s}enqueue(t){zt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Cu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,l=n.length,o=n[t],c=s[t],h=t;for(;t<l>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<l&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,l=this.priorities_,o=s[n],c=l[n];for(;n>t;){const h=this.getParentIndex_(n);if(l[h]>c)s[n]=s[h],l[n]=l[h],n=h;else break}s[n]=o,l[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let l=0;const o=n.length;let c,h,d;for(h=0;h<o;++h)c=n[h],d=t(c),d==Cu?delete this.queuedElements_[this.keyFunction_(c)]:(s[l]=d,n[l++]=c);n.length=l,s.length=l,this.heapify_()}}class ex extends tx{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(mt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ht.LOADED||s===ht.ERROR||s===ht.EMPTY){s!==ht.ERROR&&n.removeEventListener(mt.CHANGE,this.boundHandleTileChange_);const l=n.getKey();l in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[l],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const l=this.dequeue()[0],o=l.getKey();l.getState()===ht.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,l.load())}}}function nx(r,t,n,s,l){if(!r||!(n in r.wantedTiles)||!r.wantedTiles[n][t.getKey()])return Cu;const o=r.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(l)+Math.sqrt(c*c+h*h)/l}const Ie={ANIMATING:0,INTERACTING:1},Ln={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Wt(r,t,n){return Math.min(Math.max(r,t),n)}function ix(r,t,n,s,l,o){const c=l-n,h=o-s;if(c!==0||h!==0){const d=((r-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=l,s=o):d>0&&(n+=c*d,s+=h*d)}return nl(r,t,n,s)}function nl(r,t,n,s){const l=n-r,o=s-t;return l*l+o*o}function sx(r){const t=r.length;for(let s=0;s<t;s++){let l=s,o=Math.abs(r[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(r[h][s]);d>o&&(o=d,l=h)}if(o===0)return null;const c=r[l];r[l]=r[s],r[s]=c;for(let h=s+1;h<t;h++){const d=-r[h][s]/r[s][s];for(let _=s;_<t+1;_++)s==_?r[h][_]=0:r[h][_]+=d*r[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=r[s][t]/r[s][s];for(let l=s-1;l>=0;l--)r[l][t]-=r[l][s]*n[s]}return n}function x0(r){return r*180/Math.PI}function _s(r){return r*Math.PI/180}function il(r,t){const n=r%t;return n*t<0?n+t:n}function vn(r,t,n){return r+n*(t-r)}function qu(r,t){const n=Math.pow(10,t);return Math.round(r*n)/n}function fu(r,t){return Math.floor(qu(r,t))}function du(r,t){return Math.ceil(qu(r,t))}function _d(r,t,n){if(r>=t&&r<n)return r;const s=n-t;return((r-t)%s+s)%s+t}function T0(r,t,n){return function(s,l,o,c,h){if(!s)return;if(!l&&!t)return s;const d=t?0:o[0]*l,_=t?0:o[1]*l,m=h?h[0]:0,y=h?h[1]:0;let E=r[0]+d/2+m,x=r[2]-d/2+m,S=r[1]+_/2+y,R=r[3]-_/2+y;E>x&&(E=(x+E)/2,x=E),S>R&&(S=(R+S)/2,R=S);let T=Wt(s[0],E,x),C=Wt(s[1],S,R);if(c&&n&&l){const O=30*l;T+=-O*Math.log(1+Math.max(0,E-s[0])/O)+O*Math.log(1+Math.max(0,s[0]-x)/O),C+=-O*Math.log(1+Math.max(0,S-s[1])/O)+O*Math.log(1+Math.max(0,s[1]-R)/O)}return[T,C]}}function rx(r){return r}const ye={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function R0(r){const t=Rn();for(let n=0,s=r.length;n<s;++n)Aa(t,r[n]);return t}function Xd(r,t,n){return n?(n[0]=r[0]-t,n[1]=r[1]-t,n[2]=r[2]+t,n[3]=r[3]+t,n):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function jp(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function Kp(r,t,n){let s,l;return t<r[0]?s=r[0]-t:r[2]<t?s=t-r[2]:s=0,n<r[1]?l=r[1]-n:r[3]<n?l=n-r[3]:l=0,s*s+l*l}function ul(r,t){return qp(r,t[0],t[1])}function Jr(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function qp(r,t,n){return r[0]<=t&&t<=r[2]&&r[1]<=n&&n<=r[3]}function md(r,t){const n=r[0],s=r[1],l=r[2],o=r[3],c=t[0],h=t[1];let d=ye.UNKNOWN;return c<n?d=d|ye.LEFT:c>l&&(d=d|ye.RIGHT),h<s?d=d|ye.BELOW:h>o&&(d=d|ye.ABOVE),d===ye.UNKNOWN&&(d=ye.INTERSECTING),d}function Rn(){return[1/0,1/0,-1/0,-1/0]}function wi(r,t,n,s,l){return l?(l[0]=r,l[1]=t,l[2]=n,l[3]=s,l):[r,t,n,s]}function Vu(r){return wi(1/0,1/0,-1/0,-1/0,r)}function Vp(r,t){const n=r[0],s=r[1];return wi(n,s,n,s,t)}function Yd(r,t,n,s,l){const o=Vu(l);return Wp(o,r,t,n,s)}function Ia(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function lx(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function Aa(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function Wp(r,t,n,s,l){for(;n<s;n+=l)ax(r,t[n],t[n+1]);return r}function ax(r,t,n){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],n)}function Fd(r,t){let n;return n=t(Wu(r)),n||(n=t(Qu(r)),n)||(n=t(Ju(r)),n)||(n=t($s(r)),n)?n:!1}function yd(r){let t=0;return $u(r)||(t=Yt(r)*Xe(r)),t}function Wu(r){return[r[0],r[1]]}function Qu(r){return[r[2],r[1]]}function qs(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function ox(r,t){let n;if(t==="bottom-left")n=Wu(r);else if(t==="bottom-right")n=Qu(r);else if(t==="top-left")n=$s(r);else if(t==="top-right")n=Ju(r);else throw new Error("Invalid corner");return n}function pd(r,t,n,s,l){const[o,c,h,d,_,m,y,E]=Qp(r,t,n,s);return wi(Math.min(o,h,_,y),Math.min(c,d,m,E),Math.max(o,h,_,y),Math.max(c,d,m,E),l)}function Qp(r,t,n,s){const l=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=l*c,_=l*h,m=o*c,y=o*h,E=r[0],x=r[1];return[E-d+y,x-_-m,E-d-y,x-_+m,E+d-y,x+_+m,E+d+y,x+_-m,E-d+y,x-_-m]}function Xe(r){return r[3]-r[1]}function js(r,t,n){const s=n||Rn();return Ue(r,t)?(r[0]>t[0]?s[0]=r[0]:s[0]=t[0],r[1]>t[1]?s[1]=r[1]:s[1]=t[1],r[2]<t[2]?s[2]=r[2]:s[2]=t[2],r[3]<t[3]?s[3]=r[3]:s[3]=t[3]):Vu(s),s}function $s(r){return[r[0],r[3]]}function Ju(r){return[r[2],r[3]]}function Yt(r){return r[2]-r[0]}function Ue(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function $u(r){return r[2]<r[0]||r[3]<r[1]}function ux(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function cx(r,t,n){let s=!1;const l=md(r,t),o=md(r,n);if(l===ye.INTERSECTING||o===ye.INTERSECTING)s=!0;else{const c=r[0],h=r[1],d=r[2],_=r[3],m=t[0],y=t[1],E=n[0],x=n[1],S=(x-y)/(E-m);let R,T;o&ye.ABOVE&&!(l&ye.ABOVE)&&(R=E-(x-_)/S,s=R>=c&&R<=d),!s&&o&ye.RIGHT&&!(l&ye.RIGHT)&&(T=x-(E-d)*S,s=T>=h&&T<=_),!s&&o&ye.BELOW&&!(l&ye.BELOW)&&(R=E-(x-h)/S,s=R>=c&&R<=d),!s&&o&ye.LEFT&&!(l&ye.LEFT)&&(T=x-(E-c)*S,s=T>=h&&T<=_)}return s}function Jp(r,t){const n=t.getExtent(),s=qs(r);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const l=Yt(n),c=Math.floor((s[0]-n[0])/l)*l;r[0]-=c,r[2]-=c}return r}function $p(r,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[s[0],r[1],s[2],r[3]]];Jp(r,t);const l=Yt(s);if(Yt(r)>l&&!n)return[[s[0],r[1],s[2],r[3]]];if(r[0]<s[0])return[[r[0]+l,r[1],s[2],r[3]],[s[0],r[1],r[2],r[3]]];if(r[2]>s[2])return[[r[0],r[1],s[2],r[3]],[s[0],r[1],r[2]-l,r[3]]]}return[r]}function hx(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function bu(r,t){let n=!0;for(let s=r.length-1;s>=0;--s)if(r[s]!=t[s]){n=!1;break}return n}function Bd(r,t){const n=Math.cos(t),s=Math.sin(t),l=r[0]*n-r[1]*s,o=r[1]*n+r[0]*s;return r[0]=l,r[1]=o,r}function fx(r,t){return r[0]*=t,r[1]*=t,r}function tE(r,t){if(t.canWrapX()){const n=Yt(t.getExtent()),s=dx(r,t,n);s&&(r[0]-=s*n)}return r}function dx(r,t,n){const s=t.getExtent();let l=0;return t.canWrapX()&&(r[0]<s[0]||r[0]>s[2])&&(n=n||Yt(s),l=Math.floor((r[0]-s[0])/n)),l}function eE(r){return Math.pow(r,3)}function _l(r){return 1-eE(1-r)}function gx(r){return 3*r*r-2*r*r*r}function _x(r){return r}const mx=63710088e-1;function C0(r,t,n){n=n||mx;const s=_s(r[1]),l=_s(t[1]),o=(l-s)/2,c=_s(t[0]-r[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(l);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function nE(...r){console.warn(...r)}const Pd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class kd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Pd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Ka=6378137,$r=Math.PI*Ka,yx=[-$r,-$r,$r,$r],px=[-180,-85,180,85],gu=Ka*Math.log(Math.tan(Math.PI/2));class Br extends kd{constructor(t){super({code:t,units:"m",extent:yx,global:!0,worldExtent:px,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Ka)}})}}const b0=[new Br("EPSG:3857"),new Br("EPSG:102100"),new Br("EPSG:102113"),new Br("EPSG:900913"),new Br("http://www.opengis.net/def/crs/EPSG/0/3857"),new Br("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ex(r,t,n,s){const l=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(l));for(let o=0;o<l;o+=s){t[o]=$r*r[o]/180;let c=Ka*Math.log(Math.tan(Math.PI*(+r[o+1]+90)/360));c>gu?c=gu:c<-gu&&(c=-gu),t[o+1]=c}return t}function vx(r,t,n,s){const l=r.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=r.slice():t=new Array(l));for(let o=0;o<l;o+=s)t[o]=180*r[o]/$r,t[o+1]=360*Math.atan(Math.exp(r[o+1]/Ka))/Math.PI-90;return t}const Sx=6378137,w0=[-180,-90,180,90],xx=Math.PI*Sx/180;class Xs extends kd{constructor(t,n){super({code:t,units:"degrees",extent:w0,axisOrientation:n,global:!0,metersPerUnit:xx,worldExtent:w0})}}const A0=[new Xs("CRS:84"),new Xs("EPSG:4326","neu"),new Xs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Xs("urn:ogc:def:crs:OGC:2:84"),new Xs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Xs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Xs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ed={};function Tx(r){return Ed[r]||Ed[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Rx(r,t){Ed[r]=t}let sl={};function Na(r,t,n){const s=r.getCode(),l=t.getCode();s in sl||(sl[s]={}),sl[s][l]=n}function Nf(r,t){return r in sl&&t in sl[r]?sl[r][t]:null}const wu=.9996,Tn=.00669438,tc=Tn*Tn,ec=tc*Tn,Ps=Tn/(1-Tn),M0=Math.sqrt(1-Tn),cl=(1-M0)/(1+M0),iE=cl*cl,Hd=iE*cl,Zd=Hd*cl,sE=Zd*cl,rE=1-Tn/4-3*tc/64-5*ec/256,Cx=3*Tn/8+3*tc/32+45*ec/1024,bx=15*tc/256+45*ec/1024,wx=35*ec/3072,Ax=3/2*cl-27/32*Hd+269/512*sE,Mx=21/16*iE-55/32*Zd,Ox=151/96*Hd-417/128*sE,Dx=1097/512*Zd,Au=6378137;function Lx(r,t,n){const s=r-5e5,c=(n.north?t:t-1e7)/wu/(Au*rE),h=c+Ax*Math.sin(2*c)+Mx*Math.sin(4*c)+Ox*Math.sin(6*c)+Dx*Math.sin(8*c),d=Math.sin(h),_=d*d,m=Math.cos(h),y=d/m,E=y*y,x=E*E,S=1-Tn*_,R=Math.sqrt(1-Tn*_),T=Au/R,C=(1-Tn)/S,O=Ps*m**2,L=O*O,A=s/(T*wu),M=A*A,F=M*A,k=F*A,B=k*A,V=B*A,J=h-y/C*(M/2-k/24*(5+3*E+10*O-4*L-9*Ps))+V/720*(61+90*E+298*O+45*x-252*Ps-3*L);let it=(A-F/6*(1+2*E+O)+B/120*(5-2*O+28*E-3*L+8*Ps+24*x))/m;return it=_d(it+_s(lE(n.number)),-Math.PI,Math.PI),[x0(it),x0(J)]}const O0=-80,D0=84,Ix=-180,Nx=180;function zx(r,t,n){r=_d(r,Ix,Nx),t<O0?t=O0:t>D0&&(t=D0);const s=_s(t),l=Math.sin(s),o=Math.cos(s),c=l/o,h=c*c,d=h*h,_=_s(r),m=lE(n.number),y=_s(m),E=Au/Math.sqrt(1-Tn*l**2),x=Ps*o**2,S=o*_d(_-y,-Math.PI,Math.PI),R=S*S,T=R*S,C=T*S,O=C*S,L=O*S,A=Au*(rE*s-Cx*Math.sin(2*s)+bx*Math.sin(4*s)-wx*Math.sin(6*s)),M=wu*E*(S+T/6*(1-h+x)+O/120*(5-18*h+d+72*x-58*Ps))+5e5;let F=wu*(A+E*c*(R/2+C/24*(5-h+9*x+4*x**2)+L/720*(61-58*h+d+600*x-330*Ps)));return n.north||(F+=1e7),[M,F]}function lE(r){return(r-1)*6-180+3}const Gx=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function aE(r){let t=0;for(const l of Gx){const o=r.match(l);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function L0(r,t){return function(n,s,l,o){const c=n.length;l=l>1?l:2,o=o??l,s||(l>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const d=n[h],_=n[h+1],m=r(d,_,t);s[h]=m[0],s[h+1]=m[1]}return s}}function Ux(r){return aE(r)?new kd({code:r,units:"m"}):null}function Xx(r){const t=aE(r.getCode());return t?{forward:L0(zx,t),inverse:L0(Lx,t)}:null}const Yx=[Xx],Fx=[Ux];let vd=!0;function oE(r){vd=!1}function jd(r,t){if(t!==void 0){for(let n=0,s=r.length;n<s;++n)t[n]=r[n];t=t}else t=r.slice();return t}function Sd(r){Rx(r.getCode(),r),Na(r,r,jd)}function Bx(r){r.forEach(Sd)}function We(r){if(typeof r!="string")return r;const t=Tx(r);if(t)return t;for(const n of Fx){const s=n(r);if(s)return s}return null}function I0(r,t,n,s){r=We(r);let l;const o=r.getPointResolutionFunc();if(o)l=o(t,n);else{const c=r.getUnits();if(c=="degrees"||s=="degrees")l=t;else{const h=qd(r,We("EPSG:4326"));if(!h&&c!=="degrees")l=t*r.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=h(_,_,2);const m=C0(_.slice(0,2),_.slice(2,4)),y=C0(_.slice(4,6),_.slice(6,8));l=(m+y)/2}const d=r.getMetersPerUnit();d!==void 0&&(l/=d)}}return l}function N0(r){Bx(r),r.forEach(function(t){r.forEach(function(n){t!==n&&Na(t,n,jd)})})}function Px(r,t,n,s){r.forEach(function(l){t.forEach(function(o){Na(l,o,n),Na(o,l,s)})})}function Kd(r,t){return r?typeof r=="string"?We(r):r:We(t)}function kx(r){return function(t,n,s,l){const o=t.length;s=s!==void 0?s:2,l=l??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=l){const h=r(t.slice(c,c+s)),d=h.length;for(let _=0,m=l;_<m;++_)n[c+_]=_>=d?t[c+_]:h[_]}return n}}function zf(r,t){return oE(),Vd(r,"EPSG:4326","EPSG:3857")}function Gf(r,t){if(r===t)return!0;const n=r.getUnits()===t.getUnits();return(r.getCode()===t.getCode()||qd(r,t)===jd)&&n}function qd(r,t){const n=r.getCode(),s=t.getCode();let l=Nf(n,s);if(l)return l;let o=null,c=null;for(const d of Yx)o||(o=d(r)),c||(c=d(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)l=Uf(o.inverse,c.forward);else{const d=Nf(n,h);d&&(l=Uf(d,c.forward))}else{const d=Nf(h,s);d&&(l=Uf(o.inverse,d))}return l&&(Sd(r),Sd(t),Na(r,t,l)),l}function Uf(r,t){return function(n,s,l,o){return s=r(n,s,l,o),t(s,s,l,o)}}function Mu(r,t){const n=We(r),s=We(t);return qd(n,s)}function Vd(r,t,n){const s=Mu(t,n);if(!s){const l=We(t).getCode(),o=We(n).getCode();throw new Error(`No transform available between ${l} and ${o}`)}return s(r,void 0,r.length)}function xd(r,t){return r}function pi(r,t){return vd&&!bu(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(vd=!1,nE("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function uE(r,t){return r}function ds(r,t){return r}function Hx(){N0(b0),N0(A0),Px(A0,b0,Ex,vx)}Hx();new Array(6);function Gn(){return[1,0,0,1,0,0]}function Zx(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function pe(r,t){const n=t[0],s=t[1];return t[0]=r[0]*n+r[2]*s+r[4],t[1]=r[1]*n+r[3]*s+r[5],t}function Ai(r,t,n,s,l,o,c,h){const d=Math.sin(o),_=Math.cos(o);return r[0]=s*_,r[1]=l*d,r[2]=-s*d,r[3]=l*_,r[4]=c*s*_-h*s*d+t,r[5]=c*l*d+h*l*_+n,r}function cE(r,t){const n=jx(t);zt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],l=t[1],o=t[2],c=t[3],h=t[4],d=t[5];return r[0]=c/n,r[1]=-l/n,r[2]=-o/n,r[3]=s/n,r[4]=(o*d-c*h)/n,r[5]=-(s*d-l*h)/n,r}function jx(r){return r[0]*r[3]-r[1]*r[2]}const Kx=[1e5,1e5,1e5,1e5,2,2];function qx(r){return"matrix("+r.join(", ")+")"}function z0(r){return r.substring(7,r.length-1).split(",").map(parseFloat)}function Vx(r,t){const n=z0(r),s=z0(t);for(let l=0;l<6;++l)if(Math.round((n[l]-s[l])*Kx[l])!==0)return!1;return!0}function ms(r,t,n,s,l,o,c){o=o||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const _=r[d],m=r[d+1];o[h++]=l[0]*_+l[2]*m+l[4],o[h++]=l[1]*_+l[3]*m+l[5];for(let y=2;y<c;y++)o[h++]=r[d+y]}return o&&o.length!=h&&(o.length=h),o}function Wd(r,t,n,s,l,o,c){c=c||[];const h=Math.cos(l),d=Math.sin(l),_=o[0],m=o[1];let y=0;for(let E=t;E<n;E+=s){const x=r[E]-_,S=r[E+1]-m;c[y++]=_+x*h-S*d,c[y++]=m+x*d+S*h;for(let R=E+2;R<E+s;++R)c[y++]=r[R]}return c&&c.length!=y&&(c.length=y),c}function Wx(r,t,n,s,l,o,c,h){h=h||[];const d=c[0],_=c[1];let m=0;for(let y=t;y<n;y+=s){const E=r[y]-d,x=r[y+1]-_;h[m++]=d+l*E,h[m++]=_+o*x;for(let S=y+2;S<y+s;++S)h[m++]=r[S]}return h&&h.length!=m&&(h.length=m),h}function Qx(r,t,n,s,l,o,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=r[d]+l,c[h++]=r[d+1]+o;for(let _=d+2;_<d+s;++_)c[h++]=r[_]}return c&&c.length!=h&&(c.length=h),c}const G0=Gn(),Jx=[NaN,NaN];class $x extends Xn{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Bp((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const l=this.clone();return l.applyTransform(s),l.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Ot()}closestPointXY(t,n,s,l){return Ot()}containsXY(t,n){return this.closestPointXY(t,n,Jx,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Ot()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Vu(n),this.extentRevision_=this.getRevision()}return ux(this.extent_,t)}rotate(t,n){Ot()}scale(t,n,s){Ot()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Ot()}getType(){return Ot()}applyTransform(t){Ot()}intersectsExtent(t){return Ot()}translate(t,n){Ot()}transform(t,n){const s=We(t),l=s.getUnits()=="tile-pixels"?function(o,c,h){const d=s.getExtent(),_=s.getWorldExtent(),m=Xe(_)/Xe(d);Ai(G0,_[0],_[3],m,-m,0,0,0);const y=ms(o,0,o.length,h,G0,c),E=Mu(s,n);return E?E(y,y,h):y}:Mu(s,n);return this.applyTransform(l),this}}class nc extends $x{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Yd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Ot()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=U0(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Ot()}setLayout(t,n,s){let l;if(t)l=U0(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}l=n.length,t=tT(l)}this.layout=t,this.stride=l}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const l=this.getStride();Wd(s,0,s.length,l,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=qs(this.getExtent()));const l=this.getFlatCoordinates();if(l){const o=this.getStride();Wx(l,0,l.length,o,t,n,s,l),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const l=this.getStride();Qx(s,0,s.length,l,t,n,s),this.changed()}}}function tT(r){let t;return r==2?t="XY":r==3?t="XYZ":r==4&&(t="XYZM"),t}function U0(r){let t;return r=="XY"?t=2:r=="XYZ"||r=="XYM"?t=3:r=="XYZM"&&(t=4),t}function eT(r,t,n){const s=r.getFlatCoordinates();if(!s)return null;const l=r.getStride();return ms(s,0,s.length,l,t,n)}function hE(r,t,n,s){let l=0;const o=r[n-s],c=r[n-s+1];let h=0,d=0;for(;t<n;t+=s){const _=r[t]-o,m=r[t+1]-c;l+=d*_-h*m,h=_,d=m}return l/2}function nT(r,t,n,s){let l=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];l+=hE(r,t,h,s),t=h}return l}function X0(r,t,n,s,l,o,c){const h=r[t],d=r[t+1],_=r[n]-h,m=r[n+1]-d;let y;if(_===0&&m===0)y=t;else{const E=((l-h)*_+(o-d)*m)/(_*_+m*m);if(E>1)y=n;else if(E>0){for(let x=0;x<s;++x)c[x]=vn(r[t+x],r[n+x],E);c.length=s;return}else y=t}for(let E=0;E<s;++E)c[E]=r[y+E];c.length=s}function fE(r,t,n,s,l){let o=r[t],c=r[t+1];for(t+=s;t<n;t+=s){const h=r[t],d=r[t+1],_=nl(o,c,h,d);_>l&&(l=_),o=h,c=d}return l}function iT(r,t,n,s,l){for(let o=0,c=n.length;o<c;++o){const h=n[o];l=fE(r,t,h,s,l),t=h}return l}function dE(r,t,n,s,l,o,c,h,d,_,m){if(t==n)return _;let y,E;if(l===0){if(E=nl(c,h,r[t],r[t+1]),E<_){for(y=0;y<s;++y)d[y]=r[t+y];return d.length=s,E}return _}m=m||[NaN,NaN];let x=t+s;for(;x<n;)if(X0(r,x-s,x,s,c,h,m),E=nl(c,h,m[0],m[1]),E<_){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s,x+=s}else x+=s*Math.max((Math.sqrt(E)-Math.sqrt(_))/l|0,1);if(X0(r,n-s,t,s,c,h,m),E=nl(c,h,m[0],m[1]),E<_){for(_=E,y=0;y<s;++y)d[y]=m[y];d.length=s}return _}function sT(r,t,n,s,l,o,c,h,d,_,m){m=m||[NaN,NaN];for(let y=0,E=n.length;y<E;++y){const x=n[y];_=dE(r,t,x,s,l,o,c,h,d,_,m),t=x}return _}function gE(r,t,n,s){for(let l=0,o=n.length;l<o;++l)r[t++]=n[l];return t}function _E(r,t,n,s){for(let l=0,o=n.length;l<o;++l){const c=n[l];for(let h=0;h<s;++h)r[t++]=c[h]}return t}function rT(r,t,n,s,l){l=l||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=_E(r,t,n[c],s);l[o++]=d,t=d}return l.length=o,l}function tl(r,t,n,s,l){l=l!==void 0?l:[];let o=0;for(let c=t;c<n;c+=s)l[o++]=r.slice(c,c+s);return l.length=o,l}function Ou(r,t,n,s,l){l=l!==void 0?l:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];l[o++]=tl(r,t,d,s,l[o]),t=d}return l.length=o,l}function Y0(r,t,n,s,l){l=l!==void 0?l:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];l[o++]=d.length===1&&d[0]===t?[]:Ou(r,t,d,s,l[o]),t=d[d.length-1]}return l.length=o,l}function Qd(r,t,n,s,l,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=r[t],o[c++]=r[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const y=_.pop(),E=_.pop();let x=0;const S=r[E],R=r[E+1],T=r[y],C=r[y+1];for(let O=E+s;O<y;O+=s){const L=r[O],A=r[O+1],M=ix(L,A,S,R,T,C);M>x&&(m=O,x=M)}x>l&&(d[(m-t)/s]=1,E+s<m&&_.push(E,m),m+s<y&&_.push(m,y))}for(let y=0;y<h;++y)d[y]&&(o[c++]=r[t+y*s],o[c++]=r[t+y*s+1]);return c}function lT(r,t,n,s,l,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=Qd(r,t,m,s,l,o,c),h.push(c),t=m}return c}function Fs(r,t){return t*Math.round(r/t)}function aT(r,t,n,s,l,o,c){if(t==n)return c;let h=Fs(r[t],l),d=Fs(r[t+1],l);t+=s,o[c++]=h,o[c++]=d;let _,m;do if(_=Fs(r[t],l),m=Fs(r[t+1],l),t+=s,t==n)return o[c++]=_,o[c++]=m,c;while(_==h&&m==d);for(;t<n;){const y=Fs(r[t],l),E=Fs(r[t+1],l);if(t+=s,y==_&&E==m)continue;const x=_-h,S=m-d,R=y-h,T=E-d;if(x*T==S*R&&(x<0&&R<x||x==R||x>0&&R>x)&&(S<0&&T<S||S==T||S>0&&T>S)){_=y,m=E;continue}o[c++]=_,o[c++]=m,h=_,d=m,_=y,m=E}return o[c++]=_,o[c++]=m,c}function mE(r,t,n,s,l,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=aT(r,t,m,s,l,o,c),h.push(c),t=m}return c}class za extends nc{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new za(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,l){return l<Kp(this.getExtent(),t,n)?l:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(fE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),dE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,l))}getArea(){return hE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return tl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Qd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new za(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_E(this.flatCoordinates,0,t,this.stride),this.changed()}}class Jd extends nc{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Jd(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,l){const o=this.flatCoordinates,c=nl(t,n,o[0],o[1]);if(c<l){const h=this.stride;for(let d=0;d<h;++d)s[d]=o[d];return s.length=h,c}return l}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Vp(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return qp(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gE(this.flatCoordinates,0,t,this.stride),this.changed()}}function oT(r,t,n,s,l){return!Fd(l,function(c){return!ks(r,t,n,s,c[0],c[1])})}function ks(r,t,n,s,l,o){let c=0,h=r[n-s],d=r[n-s+1];for(;t<n;t+=s){const _=r[t],m=r[t+1];d<=o?m>o&&(_-h)*(o-d)-(l-h)*(m-d)>0&&c++:m<=o&&(_-h)*(o-d)-(l-h)*(m-d)<0&&c--,h=_,d=m}return c!==0}function yE(r,t,n,s,l,o){if(n.length===0||!ks(r,t,n[0],s,l,o))return!1;for(let c=1,h=n.length;c<h;++c)if(ks(r,n[c-1],n[c],s,l,o))return!1;return!0}function $d(r,t,n,s,l,o,c){let h,d,_,m,y,E,x;const S=l[o+1],R=[];for(let O=0,L=n.length;O<L;++O){const A=n[O];for(m=r[A-s],E=r[A-s+1],h=t;h<A;h+=s)y=r[h],x=r[h+1],(S<=E&&x<=S||E<=S&&S<=x)&&(_=(S-E)/(x-E)*(y-m)+m,R.push(_)),m=y,E=x}let T=NaN,C=-1/0;for(R.sort(xi),m=R[0],h=1,d=R.length;h<d;++h){y=R[h];const O=Math.abs(y-m);O>C&&(_=(m+y)/2,yE(r,t,n,s,_,S)&&(T=_,C=O)),m=y}return isNaN(T)&&(T=l[o]),c?(c.push(T,S,C),c):[T,S,C]}function uT(r,t,n,s,l){let o=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];o=$d(r,t,d,s,l,2*c,o),t=d[d.length-1]}return o}function cT(r,t,n,s,l){let o;for(t+=s;t<n;t+=s)if(o=l(r.slice(t-s,t),r.slice(t,t+s)),o)return o;return!1}function pE(r,t,n,s,l,o){return o=o??Wp(Rn(),r,t,n,s),Ue(l,o)?o[0]>=l[0]&&o[2]<=l[2]||o[1]>=l[1]&&o[3]<=l[3]?!0:cT(r,t,n,s,function(c,h){return cx(l,c,h)}):!1}function EE(r,t,n,s,l){return!!(pE(r,t,n,s,l)||ks(r,t,n,s,l[0],l[1])||ks(r,t,n,s,l[0],l[3])||ks(r,t,n,s,l[2],l[1])||ks(r,t,n,s,l[2],l[3]))}function hT(r,t,n,s,l){if(!EE(r,t,n[0],s,l))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(oT(r,n[o-1],n[o],s,l)&&!pE(r,n[o-1],n[o],s,l))return!1;return!0}function fT(r,t,n,s){for(;t<n-s;){for(let l=0;l<s;++l){const o=r[t+l];r[t+l]=r[n-s+l],r[n-s+l]=o}t+=s,n-=s}}function tg(r,t,n,s){let l=0,o=r[n-s],c=r[n-s+1];for(;t<n;t+=s){const h=r[t],d=r[t+1];l+=(h-o)*(d+c),o=h,c=d}return l===0?void 0:l>0}function dT(r,t,n,s,l){l=l!==void 0?l:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=tg(r,t,h,s);if(o===0){if(l&&d||!l&&!d)return!1}else if(l&&!d||!l&&d)return!1;t=h}return!0}function F0(r,t,n,s,l){l=l!==void 0?l:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=tg(r,t,h,s);(o===0?l&&d||!l&&!d:l&&!d||!l&&d)&&fT(r,t,h,s),t=h}return t}function gT(r,t){const n=[];let s=0,l=0,o;for(let c=0,h=t.length;c<h;++c){const d=t[c],_=tg(r,s,d,2);if(o===void 0&&(o=_),_===o)n.push(t.slice(l,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[l])}l=c+1,s=d}return n}class Ga extends nc{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Ud(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Ga(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,l){return l<Kp(this.getExtent(),t,n)?l:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iT(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sT(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,l))}containsXY(t,n){return yE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return nT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),F0(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Ou(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=qs(this.getExtent());this.flatInteriorPoint_=$d(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Jd(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new za(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,l=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],_=new za(n.slice(o,d),t);l.push(_),o=d}return l}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;dT(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=F0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=mE(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Ga(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return hT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=rT(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function B0(r){if($u(r))throw new Error("Cannot create polygon from empty extent");const t=r[0],n=r[1],s=r[2],l=r[3],o=[t,n,t,l,s,l,s,n,t,n];return new Ga(o,"XY",[o.length])}function eg(r,t,n,s){const l=Yt(t)/n[0],o=Xe(t)/n[1];return s?Math.min(r,Math.max(l,o)):Math.min(r,Math.min(l,o))}function ng(r,t,n){let s=Math.min(r,t);const l=50;return s*=Math.log(1+l*Math.max(0,r/t-1))/l+1,n&&(s=Math.max(s,n),s/=Math.log(1+l*Math.max(0,n/r-1))/l+1),Wt(s,n/2,t*2)}function _T(r,t,n,s){return t=t!==void 0?t:!0,function(l,o,c,h){if(l!==void 0){const d=r[0],_=r[r.length-1],m=n?eg(d,n,c,s):d;if(h)return t?ng(l,m,_):Wt(l,_,m);const y=Math.min(m,l),E=Math.floor(Gd(r,y,o));return r[E]>m&&E<r.length-1?r[E+1]:r[E]}}}function mT(r,t,n,s,l,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,h,d,_){if(c!==void 0){const m=l?eg(t,l,d,o):t;if(_)return s?ng(c,m,n):Wt(c,n,m);const y=1e-9,E=Math.ceil(Math.log(t/m)/Math.log(r)-y),x=-h*(.5-y)+.5,S=Math.min(m,c),R=Math.floor(Math.log(t/S)/Math.log(r)+x),T=Math.max(E,R),C=t/Math.pow(r,T);return Wt(C,n,m)}}}function P0(r,t,n,s,l){return n=n!==void 0?n:!0,function(o,c,h,d){if(o!==void 0){const _=s?eg(r,s,h,l):r;return!n||!d?Wt(o,t,_):ng(o,_,t)}}}function ig(r){if(r!==void 0)return 0}function k0(r){if(r!==void 0)return r}function yT(r){const t=2*Math.PI/r;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function pT(r){const t=_s(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n}}const ET=42,sg=256,Xf=0;class qn extends Xn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Kd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&oE(),t.center&&(t.center=pi(t.center,this.projection_)),t.extent&&(t.extent=ds(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in Ln)delete n[h];this.setProperties(n,!0);const s=ST(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const l=vT(t),o=s.constraint,c=xT(t);this.constraints_={center:l,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const l=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(l[3]-n[3]+n[1]-l[1]),h=o/2*(l[0]-n[0]+n[2]-l[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let l=arguments[s];l.center&&(l=Object.assign({},l),l.center=pi(l.center,this.getProjection())),l.anchor&&(l=Object.assign({},l),l.anchor=pi(l.anchor,this.getProjection())),n[s]=l}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let l=0;for(;l<n&&!this.isDef();++l){const m=arguments[l];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(l===n){s&&_u(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const _=[];for(;l<n;++l){const m=arguments[l],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||gx,callback:s};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=d;const E=il(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+E,d=y.targetRotation}TT(y)?y.complete=!0:o+=y.duration,_.push(y)}this.animations_.push(_),this.setHint(Ie.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Ie.ANIMATING]>0}getInteracting(){return this.hints_[Ie.INTERACTING]>0}cancelAnimations(){this.setHint(Ie.ANIMATING,-this.hints_[Ie.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const l=this.animations_[n];if(l[0].callback&&_u(l[0].callback,!1),!t)for(let o=0,c=l.length;o<c;++o){const h=l[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const l=this.animations_[s];let o=!0;for(let c=0,h=l.length;c<h;++c){const d=l[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):o=!1;const y=d.easing(m);if(d.sourceCenter){const E=d.sourceCenter[0],x=d.sourceCenter[1],S=d.targetCenter[0],R=d.targetCenter[1];this.nextCenter_=d.targetCenter;const T=E+y*(S-E),C=x+y*(R-x);this.targetCenter_=[T,C]}if(d.sourceResolution&&d.targetResolution){const E=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const x=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(E,0,x,!0);this.targetCenter_=this.calculateCenterZoom(S,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=E,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const E=y===1?il(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const x=this.constraints_.rotation(E,!0);this.targetCenter_=this.calculateCenterRotate(x,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=E}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(o){this.animations_[s]=null,this.setHint(Ie.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=l[0].callback;c&&_u(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const l=this.getCenterInternal();return l!==void 0&&(s=[l[0]-n[0],l[1]-n[1]],Bd(s,t-this.getRotation()),hx(s,n)),s}calculateCenterZoom(t,n){let s;const l=this.getCenterInternal(),o=this.getResolution();if(l!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-l[0])/o,h=n[1]-t*(n[1]-l[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],l=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(l*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(l*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&xd(t,this.getProjection())}getCenterInternal(){return this.get(Ln.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return uE(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();zt(n,"The view center is not defined");const s=this.getResolution();zt(s!==void 0,"The view resolution is not defined");const l=this.getRotation();return zt(l!==void 0,"The view rotation is not defined"),pd(n,s,l,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Ln.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(ds(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Yt(t)/n[0],l=Xe(t)/n[1];return Math.max(s,l)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,l=Math.log(n/s)/Math.log(t);return function(o){return n/Math.pow(t,o*l)}}getRotation(){return this.get(Ln.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),l=this.minResolution_,o=Math.log(s/l)/n;return function(c){return Math.log(s/c)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let l=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();l=Yf(l,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:l.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,l;if(this.resolutions_){const o=Gd(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?l=2:l=s/this.resolutions_[o+1]}else s=this.maxResolution_,l=this.zoomFactor_;return n+Math.log(s/t)/Math.log(l)}getResolutionForZoom(t){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=Wt(Math.floor(t),0,this.resolutions_.length-2),l=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(l,Wt(t-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(zt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){zt(!$u(t),"Cannot fit empty extent provided as `geometry`");const l=ds(t,this.getProjection());s=B0(l)}else if(t.getType()==="Circle"){const l=ds(t.getExtent(),this.getProjection());s=B0(l),s.rotate(this.getRotation(),qs(l))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),l=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,_=-1/0,m=-1/0;for(let y=0,E=o.length;y<E;y+=c){const x=o[y]*s-o[y+1]*l,S=o[y]*l+o[y+1]*s;h=Math.min(h,x),d=Math.min(d,S),_=Math.max(_,x),m=Math.max(m,S)}return[h,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const l=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-l[1]-l[3],s[1]-l[0]-l[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,o?0:1);const _=this.getRotation(),m=Math.sin(_),y=Math.cos(_),E=qs(h);E[0]+=(l[1]-l[3])/2*d,E[1]+=(l[0]-l[2])/2*d;const x=E[0]*y-E[1]*m,S=E[1]*y+E[0]*m,R=this.getConstrainedCenter([x,S],d),T=n.callback?n.callback:La;n.duration!==void 0?this.animateInternal({resolution:d,center:R,duration:n.duration,easing:n.easing},T):(this.targetResolution_=d,this.targetCenter_=R,this.applyTargetState_(!1,!0),_u(T,!0))}centerOn(t,n,s){this.centerOnInternal(pi(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(Yf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,l){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=Yf(t,l,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-d[0],t[1]-d[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=xd(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&pi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),l=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,l,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=pi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),l=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(l,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&pi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,l=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(l),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,l,o));this.get(Ln.ROTATION)!==l&&this.set(Ln.ROTATION,l),this.get(Ln.RESOLUTION)!==c&&(this.set(Ln.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Ln.CENTER)||!bu(this.get(Ln.CENTER),h))&&this.set(Ln.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const l=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,l,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!bu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:d,resolution:h,duration:t,easing:_l,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Ie.INTERACTING,1)}endInteraction(t,n,s){s=s&&pi(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(Ie.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function _u(r,t){setTimeout(function(){r(t)},0)}function vT(r){if(r.extent!==void 0){const n=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return T0(r.extent,r.constrainOnlyCenter,n)}const t=Kd(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,T0(n,!1,!1)}return rx}function ST(r){let t,n,s,c=r.minZoom!==void 0?r.minZoom:Xf,h=r.maxZoom!==void 0?r.maxZoom:28;const d=r.zoomFactor!==void 0?r.zoomFactor:2,_=r.multiWorld!==void 0?r.multiWorld:!1,m=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,y=r.showFullExtent!==void 0?r.showFullExtent:!1,E=Kd(r.projection,"EPSG:3857"),x=E.getExtent();let S=r.constrainOnlyCenter,R=r.extent;if(!_&&!R&&E.isGlobal()&&(S=!1,R=x),r.resolutions!==void 0){const T=r.resolutions;n=T[c],s=T[h]!==void 0?T[h]:T[T.length-1],r.constrainResolution?t=_T(T,m,!S&&R,y):t=P0(n,s,m,!S&&R,y)}else{const C=(x?Math.max(Yt(x),Xe(x)):360*Pd.degrees/E.getMetersPerUnit())/sg/Math.pow(2,Xf),O=C/Math.pow(2,28-Xf);n=r.maxResolution,n!==void 0?c=0:n=C/Math.pow(d,c),s=r.minResolution,s===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?s=n/Math.pow(d,h):s=C/Math.pow(d,h):s=O),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),r.constrainResolution?t=mT(d,n,s,m,!S&&R,y):t=P0(n,s,m,!S&&R,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function xT(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const n=r.constrainRotation;return n===void 0||n===!0?pT():n===!1?k0:typeof n=="number"?yT(n):k0}return ig}function TT(r){return!(r.sourceCenter&&r.targetCenter&&!bu(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Yf(r,t,n,s,l){const o=Math.cos(-l);let c=Math.sin(-l),h=r[0]*o-r[1]*c,d=r[1]*o+r[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=h*o-d*c,m=d*o+h*c;return[_,m]}const mu="ol-hidden",RT="ol-selectable",ic="ol-unselectable",rg="ol-control",H0="ol-collapsed",CT=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),Z0=["style","variant","weight","size","lineHeight","family"],vE=function(r){const t=r.match(CT);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let s=0,l=Z0.length;s<l;++s){const o=t[s+1];o!==void 0&&(n[Z0[s]]=o)}return n.families=n.family.split(/,\s?/),n};function ce(r,t,n,s){let l;return n&&n.length?l=n.shift():kp?l=new OffscreenCanvas(r||300,t||300):l=document.createElement("canvas"),r&&(l.width=r),t&&(l.height=t),l.getContext("2d",s)}let Ff;function Du(){return Ff||(Ff=ce(1,1)),Ff}function sc(r){const t=r.canvas;t.width=1,t.height=1,r.clearRect(0,0,1,1)}function bT(r){let t=r.offsetWidth;const n=getComputedStyle(r);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function wT(r){let t=r.offsetHeight;const n=getComputedStyle(r);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function j0(r,t){const n=t.parentNode;n&&n.replaceChild(r,t)}function SE(r){for(;r.lastChild;)r.lastChild.remove()}function AT(r,t){const n=r.childNodes;for(let s=0;;++s){const l=n[s],o=t[s];if(!l&&!o)break;if(l!==o){if(!l){r.appendChild(o);continue}if(!o){r.removeChild(l),--s;continue}r.insertBefore(o,l)}}}class lg extends Xn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,l=this.listenerKeys.length;s<l;++s)Kt(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=t,t){const s=this.target_??t.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==La&&this.listenerKeys.push(At(t,vi.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class MT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",l=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=l):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(mt.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+ic+" "+rg+(this.collapsed_&&this.collapsible_?" "+H0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(l=>l.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(l=>s.add(l)):s.add(this.attributions_)),!this.overrideCollapsible_){const l=!n.some(o=>{var c;return((c=o.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(l)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(l=>KS(()=>l))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!ps(n,this.renderedAttributions_)){SE(this.ulElement_);for(let l=0,o=n.length;l<o;++l){const c=document.createElement("li");c.innerHTML=n[l],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(H0),this.collapsed_?j0(this.collapseLabel_,this.label_):j0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class OT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",l=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=l,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(l));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(mt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+ic+" "+rg,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(mu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:_l}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const l="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(mu);!o&&s===0?this.element.classList.add(mu):o&&s!==0&&this.element.classList.remove(mu)}this.label_.style.transform=l}this.rotation_=s}}class DT extends lg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,l=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=l,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(mt.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=_,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(mt.CLICK,this.handleClick_.bind(this,-s),!1);const E=n+" "+ic+" "+rg,x=this.element;x.className=E,x.appendChild(m),x.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const l=s.getZoom();if(l!==void 0){const o=s.getConstrainedZoom(l+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:_l})):s.setZoom(o)}}}function LT(r){r=r||{};const t=new Wn;return(r.zoom!==void 0?r.zoom:!0)&&t.push(new DT(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&t.push(new OT(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&t.push(new MT(r.attributionOptions)),t}class IT{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const l=this.points_[n+2]-this.points_[s+2];if(l<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/l,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const K0={ACTIVE:"active"};class qa extends Xn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(K0.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(K0.ACTIVE,t)}setMap(t){this.map_=t}}function NT(r,t,n){const s=r.getCenterInternal();if(s){const l=[s[0]+t[0],s[1]+t[1]];r.animateInternal({duration:n!==void 0?n:250,easing:_x,center:r.getConstrainedCenter(l)})}}function ag(r,t,n,s){const l=r.getZoom();if(l===void 0)return;const o=r.getConstrainedZoom(l+t),c=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:_l})}class zT extends qa{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==te.DBLCLICK){const s=t.originalEvent,l=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=l.getView();ag(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function Td(r){const t=arguments;return function(n){let s=!0;for(let l=0,o=t.length;l<o&&(s=s&&t[l](n),!!s);++l);return s}}const GT=function(r){const t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},UT=function(r){const t=r.map.getTargetElement(),n=t.getRootNode(),s=r.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},xE=function(r){const t=r.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?UT(r):!0},XT=Da,TE=function(r){const t=r.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(QS&&Pp&&t.ctrlKey)},RE=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},YT=function(r){const t=r.originalEvent;return Pp?t.metaKey:t.ctrlKey},FT=function(r){const t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},CE=function(r){const t=r.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Bf=function(r){const t=r.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"},BT=function(r){const t=r.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};class Va extends qa{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function og(r){const t=r.length;let n=0,s=0;for(let l=0;l<t;l++)n+=r[l].clientX,s+=r[l].clientY;return{clientX:n/t,clientY:s/t}}class PT extends Va{constructor(t){super({stopDown:ju}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Td(RE,BT);this.condition_=t.onFocusOnly?Td(xE,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,l=n.getEventPixel(og(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(l[0],l[1]),this.lastCentroid){const o=[this.lastCentroid[0]-l[0],l[1]-this.lastCentroid[1]],h=t.map.getView();fx(o,h.getResolution()),Bd(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=l,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const l=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-l*Math.cos(o),h[1]-l*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:_l})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class kT extends Va{constructor(t){t=t||{},super({stopDown:ju}),this.condition_=t.condition?t.condition:GT,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Bf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===ig)return;const l=n.getSize(),o=t.pixel,c=Math.atan2(l[1]/2-o[1],o[0]-l[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Bf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Bf(t)&&TE(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class HT extends Zu{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",l=this.element_.style;l.left=Math.min(t[0],n[0])+s,l.top=Math.min(t[1],n[1])+s,l.width=Math.abs(n[0]-t[0])+s,l.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,l=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);l[4]=l[0].slice(),this.geometry_?this.geometry_.setCoordinates([l]):this.geometry_=new Ga([l])}getGeometry(){return this.geometry_}}const Pr={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ya extends Oi{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class ZT extends Va{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new HT(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??TE,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const l=s[0]-n[0],o=s[1]-n[1];return l*l+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new ya(Pr.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new ya(n?Pr.BOXEND:Pr.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ya(Pr.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ya(Pr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ya(Pr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class jT extends ZT{constructor(t){t=t||{};const n=t.condition?t.condition:FT;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let l=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(l),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;l=l.clone(),l.scale(h*h)}s.fitInternal(l,{duration:this.duration_,easing:_l})}}const Ys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class KT extends qa{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return RE(n)&&CE(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==mt.KEYDOWN){const s=t.originalEvent,l=s.key;if(this.condition_(t)&&(l==Ys.DOWN||l==Ys.LEFT||l==Ys.RIGHT||l==Ys.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,_=0;l==Ys.DOWN?_=-h:l==Ys.LEFT?d=-h:l==Ys.RIGHT?d=h:_=h;const m=[d,_];Bd(m,c.getRotation()),NT(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class qT extends qa{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!YT(n)&&CE(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==mt.KEYDOWN||t.type==mt.KEYPRESS){const s=t.originalEvent,l=s.key;if(this.condition_(t)&&(l==="+"||l==="-")){const o=t.map,c=l==="+"?this.delta_:-this.delta_,h=o.getView();ag(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class VT extends qa{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:XT;this.condition_=t.onFocusOnly?Td(xE,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==mt.WHEEL)return!0;const s=t.map,l=t.originalEvent;l.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==mt.WHEEL&&(o=l.deltaY,l.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-Wt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),ag(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class WT extends Va{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=ju),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],l=this.targetPointers[1],o=Math.atan2(l.clientY-s.clientY,l.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=o-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==ig&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(og(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class QT extends Va{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=ju),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],l=this.targetPointers[1],o=s.clientX-l.clientX,c=s.clientY-l.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(og(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),l=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,l),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function JT(r){r=r||{};const t=new Wn,n=new IT(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&t.push(new kT),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&t.push(new zT({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&t.push(new PT({onFocusOnly:r.onFocusOnly,kinetic:n})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&t.push(new WT),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&t.push(new QT({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(t.push(new KT),t.push(new qT({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&t.push(new VT({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&t.push(new jT({duration:r.zoomDuration})),t}const Xt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class bE extends Xn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Xt.OPACITY]=t.opacity!==void 0?t.opacity:1,zt(typeof n[Xt.OPACITY]=="number","Layer opacity must be a number"),n[Xt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Xt.Z_INDEX]=t.zIndex,n[Xt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Xt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Xt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Xt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=Wt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Ot()}getLayerStatesArray(t){return Ot()}getExtent(){return this.get(Xt.EXTENT)}getMaxResolution(){return this.get(Xt.MAX_RESOLUTION)}getMinResolution(){return this.get(Xt.MIN_RESOLUTION)}getMinZoom(){return this.get(Xt.MIN_ZOOM)}getMaxZoom(){return this.get(Xt.MAX_ZOOM)}getOpacity(){return this.get(Xt.OPACITY)}getSourceState(){return Ot()}getVisible(){return this.get(Xt.VISIBLE)}getZIndex(){return this.get(Xt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Xt.EXTENT,t)}setMaxResolution(t){this.set(Xt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Xt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Xt.MAX_ZOOM,t)}setMinZoom(t){this.set(Xt.MIN_ZOOM,t)}setOpacity(t){zt(typeof t=="number","Layer opacity must be a number"),this.set(Xt.OPACITY,t)}setVisible(t){this.set(Xt.VISIBLE,t)}setZIndex(t){this.set(Xt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class fs extends Oi{constructor(t,n){super(t),this.layer=n}}const Pf={LAYERS:"layers"};class ml extends bE{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Pf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Wn(s.slice(),{unique:!0}):zt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Wn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Kt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(At(t,Ze.ADD,this.handleLayersAdd_,this),At(t,Ze.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Kt);Za(this.listenerKeys_);const n=t.getArray();for(let s=0,l=n.length;s<l;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new fs("addlayer",o))}this.changed()}registerLayerListeners_(t){const n=[At(t,al.PROPERTYCHANGE,this.handleLayerChange_,this),At(t,mt.CHANGE,this.handleLayerChange_,this)];t instanceof ml&&n.push(At(t,"addlayer",this.handleLayerGroupAdd_,this),At(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[It(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new fs("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new fs("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new fs("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=It(n);this.listenerKeys_[s].forEach(Kt),delete this.listenerKeys_[s],this.dispatchEvent(new fs("removelayer",n)),this.changed()}getLayers(){return this.get(Pf.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let l=0,o=s.length;l<o;++l)this.dispatchEvent(new fs("removelayer",s[l]))}this.set(Pf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const l=this.getLayerState();let o=l.zIndex;!t&&l.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=l.opacity,d.visible=d.visible&&l.visible,d.maxResolution=Math.min(d.maxResolution,l.maxResolution),d.minResolution=Math.max(d.minResolution,l.minResolution),d.minZoom=Math.max(d.minZoom,l.minZoom),d.maxZoom=Math.min(d.maxZoom,l.maxZoom),l.extent!==void 0&&(d.extent!==void 0?d.extent=js(d.extent,l.extent):d.extent=l.extent),d.zIndex===void 0&&(d.zIndex=o)}return n}getSourceState(){return"ready"}}const Sn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class rc extends bE{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Xt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Xt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Kt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=At(t,mt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof qn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let l;if(n.layerStatesArray){if(l=n.layerStatesArray.find(c=>c.layer===this),!l)return!1}else l=this.getLayerState();const o=this.getExtent();return ug(l,n.viewState)&&(!o||Ue(o,n.extent))}getAttributions(t){var o;if(!this.isVisible(t))return[];const n=(o=this.getSource())==null?void 0:o.getAttributions();if(!n)return[];const s=t instanceof qn?t.getViewStateAndExtent():t;let l=n(s);return Array.isArray(l)||(l=[l]),l}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Xt.MAP,t)}getMapInternal(){return this.get(Xt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Kt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Kt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=At(t,Sn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=At(this,mt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);zt(!n.some(l=>l.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Xt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function ug(r,t){if(!r.visible)return!1;const n=t.resolution;if(n<r.minResolution||n>=r.maxResolution)return!1;const s=t.zoom;return s>r.minZoom&&s<=r.maxZoom}function wE(r,t,n=0,s=r.length-1,l=$T){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),E=.5*Math.sqrt(m*y*(d-y)/d)*(_-d/2<0?-1:1),x=Math.max(n,Math.floor(t-_*y/d+E)),S=Math.min(s,Math.floor(t+(d-_)*y/d+E));wE(r,t,x,S,l)}const o=r[t];let c=n,h=s;for(pa(r,n,t),l(r[s],o)>0&&pa(r,n,s);c<h;){for(pa(r,c,h),c++,h--;l(r[c],o)<0;)c++;for(;l(r[h],o)>0;)h--}l(r[n],o)===0?pa(r,n,h):(h++,pa(r,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function pa(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}function $T(r,t){return r<t?-1:r>t?1:0}let AE=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!pu(t,n))return s;const l=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?l(h):h;pu(t,d)&&(n.leaf?s.push(h):Hf(t,d)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!pu(t,n))return!1;const s=[];for(;n;){for(let l=0;l<n.children.length;l++){const o=n.children[l],c=n.leaf?this.toBBox(o):o;if(pu(t,c)){if(n.leaf||Hf(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Vr([]),this}remove(t,n){if(!t)return this;let s=this.data;const l=this.toBBox(t),o=[],c=[];let h,d,_;for(;s||o.length;){if(s||(s=o.pop(),d=o[o.length-1],h=c.pop(),_=!0),s.leaf){const m=tR(t,s.children,n);if(m!==-1)return s.children.splice(m,1),o.push(s),this._condense(o),this}!_&&!s.leaf&&Hf(s,l)?(o.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,l){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=Vr(t.slice(n,s+1)),kr(h,this.toBBox),h;l||(l=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,l-1))),h=Vr([]),h.leaf=!1,h.height=l;const d=Math.ceil(o/c),_=d*Math.ceil(Math.sqrt(c));q0(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const y=Math.min(m+_-1,s);q0(t,m,y,d,this.compareMinY);for(let E=m;E<=y;E+=d){const x=Math.min(E+d-1,y);h.children.push(this._build(t,E,x,l-1))}}return kr(h,this.toBBox),h}_chooseSubtree(t,n,s,l){for(;l.push(n),!(n.leaf||l.length-1===s);){let o=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=kf(_),y=iR(t,_)-m;y<c?(c=y,o=m<o?m:o,h=_):y===c&&m<o&&(o=m,h=_)}n=h||n.children[0]}return n}_insert(t,n,s){const l=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(l,this.data,n,o);for(c.children.push(t),xa(c,l);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(l,o,n)}_split(t,n){const s=t[n],l=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,l);const c=this._chooseSplitIndex(s,o,l),h=Vr(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,kr(s,this.toBBox),kr(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=Vr([t,n]),this.data.height=t.height+1,this.data.leaf=!1,kr(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let l,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=Sa(t,0,h,this.toBBox),_=Sa(t,h,s,this.toBBox),m=sR(d,_),y=kf(d)+kf(_);m<o?(o=m,l=h,c=y<c?y:c):m===o&&y<c&&(c=y,l=h)}return l||s-n}_chooseSplitAxis(t,n,s){const l=t.leaf?this.compareMinX:eR,o=t.leaf?this.compareMinY:nR,c=this._allDistMargin(t,n,s,l),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(l)}_allDistMargin(t,n,s,l){t.children.sort(l);const o=this.toBBox,c=Sa(t,0,n,o),h=Sa(t,s-n,s,o);let d=yu(c)+yu(h);for(let _=n;_<s-n;_++){const m=t.children[_];xa(c,t.leaf?o(m):m),d+=yu(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];xa(h,t.leaf?o(m):m),d+=yu(h)}return d}_adjustParentBBoxes(t,n,s){for(let l=s;l>=0;l--)xa(n[l],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():kr(t[n],this.toBBox)}};function tR(r,t,n){if(!n)return t.indexOf(r);for(let s=0;s<t.length;s++)if(n(r,t[s]))return s;return-1}function kr(r,t){Sa(r,0,r.children.length,t,r)}function Sa(r,t,n,s,l){l||(l=Vr(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let o=t;o<n;o++){const c=r.children[o];xa(l,r.leaf?s(c):c)}return l}function xa(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function eR(r,t){return r.minX-t.minX}function nR(r,t){return r.minY-t.minY}function kf(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function yu(r){return r.maxX-r.minX+(r.maxY-r.minY)}function iR(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function sR(r,t){const n=Math.max(r.minX,t.minX),s=Math.max(r.minY,t.minY),l=Math.min(r.maxX,t.maxX),o=Math.min(r.maxY,t.maxY);return Math.max(0,l-n)*Math.max(0,o-s)}function Hf(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function pu(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function Vr(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function q0(r,t,n,s,l){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;wE(r,c,t,n,l),o.push(t,c,c,n)}}const cg=[NaN,NaN,NaN,0];let Zf;function rR(){return Zf||(Zf=ce(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Zf}const lR=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,aR=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,oR=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,uR=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Eu(r,t){return r.endsWith("%")?Number(r.substring(0,r.length-1))/t:Number(r)}function Ma(r){throw new Error('failed to parse "'+r+'" as color')}function ME(r){if(r.toLowerCase().startsWith("rgb")){const o=r.match(aR)||r.match(lR)||r.match(oR);if(o){const c=o[4],h=100/255;return[Wt(Eu(o[1],h)+.5|0,0,255),Wt(Eu(o[2],h)+.5|0,0,255),Wt(Eu(o[3],h)+.5|0,0,255),c!==void 0?Wt(Eu(c,100),0,1):1]}Ma(r)}if(r.startsWith("#")){if(uR.test(r)){const o=r.substring(1),c=o.length<=4?1:2,h=[0,0,0,255];for(let d=0,_=o.length;d<_;d+=c){let m=parseInt(o.substring(d,d+c),16);c===1&&(m+=m<<4),h[d/c]=m}return h[3]=h[3]/255,h}Ma(r)}const t=rR();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=r,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=r,t.fillStyle===n&&Ma(r));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return ME(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const l=Array.from(t.getImageData(0,0,1,1).data);return l[3]=qu(l[3]/255,3),l}function cR(r){return typeof r=="string"?r:fg(r)}const hR=1024,Ea={};let jf=0;function fR(r){if(r.length===4)return r;const t=r.slice();return t[3]=1,t}function Kf(r){return r>.0031308?Math.pow(r,1/2.4)*269.025-14.025:r*3294.6}function qf(r){return r>.2068965?Math.pow(r,3):(r-4/29)*(108/841)}function Vf(r){return r>10.314724?Math.pow((r+14.025)/269.025,2.4):r/3294.6}function Wf(r){return r>.0088564?Math.pow(r,1/3):r/(108/841)+4/29}function V0(r){const t=Vf(r[0]),n=Vf(r[1]),s=Vf(r[2]),l=Wf(t*.222488403+n*.716873169+s*.06060791),o=500*(Wf(t*.452247074+n*.399439023+s*.148375274)-l),c=200*(l-Wf(t*.016863605+n*.117638439+s*.865350722)),h=Math.atan2(c,o)*(180/Math.PI);return[116*l-16,Math.sqrt(o*o+c*c),h<0?h+360:h,r[3]]}function dR(r){const t=(r[0]+16)/116,n=r[1],s=r[2]*Math.PI/180,l=qf(t),o=qf(t+n/500*Math.cos(s)),c=qf(t-n/200*Math.sin(s)),h=Kf(o*3.021973625-l*1.617392459-c*.404875592),d=Kf(o*-.943766287+l*1.916279586+c*.027607165),_=Kf(o*.069407491-l*.22898585+c*1.159737864);return[Wt(h+.5|0,0,255),Wt(d+.5|0,0,255),Wt(_+.5|0,0,255),r[3]]}function hg(r){if(r==="none")return cg;if(Ea.hasOwnProperty(r))return Ea[r];if(jf>=hR){let n=0;for(const s in Ea)(n++&3)===0&&(delete Ea[s],--jf)}const t=ME(r);t.length!==4&&Ma(r);for(const n of t)isNaN(n)&&Ma(r);return Ea[r]=t,++jf,t}function hl(r){return Array.isArray(r)?r:hg(r)}function fg(r){let t=r[0];t!=(t|0)&&(t=t+.5|0);let n=r[1];n!=(n|0)&&(n=n+.5|0);let s=r[2];s!=(s|0)&&(s=s+.5|0);const l=r[3]===void 0?1:Math.round(r[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+l+")"}function W0(r){return r[0]>0&&r[1]>0}function gR(r,t,n){return n===void 0&&(n=[0,0]),n[0]=r[0]*t+.5|0,n[1]=r[1]*t+.5|0,n}function Ve(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}let tr=0;const Ge=1<<tr++,bt=1<<tr++,je=1<<tr++,Nn=1<<tr++,Vs=1<<tr++,Ta=1<<tr++,vu=Math.pow(2,tr)-1,dg={[Ge]:"boolean",[bt]:"number",[je]:"string",[Nn]:"color",[Vs]:"number[]",[Ta]:"size"},_R=Object.keys(dg).map(Number).sort(xi);function mR(r){return r in dg}function Ra(r){const t=[];for(const n of _R)Ca(r,n)&&t.push(dg[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Ca(r,t){return(r&t)===t}function ls(r,t){return r===t}class ue{constructor(t,n){if(!mR(t))throw new Error(`literal expressions must have a specific type, got ${Ra(t)}`);this.type=t,this.value=n}}class yR{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function OE(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function be(r,t,n){switch(typeof r){case"boolean":{if(ls(t,je))return new ue(je,r?"true":"false");if(!Ca(t,Ge))throw new Error(`got a boolean, but expected ${Ra(t)}`);return new ue(Ge,r)}case"number":{if(ls(t,Ta))return new ue(Ta,Ve(r));if(ls(t,Ge))return new ue(Ge,!!r);if(ls(t,je))return new ue(je,r.toString());if(!Ca(t,bt))throw new Error(`got a number, but expected ${Ra(t)}`);return new ue(bt,r)}case"string":{if(ls(t,Nn))return new ue(Nn,hg(r));if(ls(t,Ge))return new ue(Ge,!!r);if(!Ca(t,je))throw new Error(`got a string, but expected ${Ra(t)}`);return new ue(je,r)}}if(!Array.isArray(r))throw new Error("expression must be an array or a primitive value");if(r.length===0)throw new Error("empty expression");if(typeof r[0]=="string")return AR(r,t,n);for(const s of r)if(typeof s!="number")throw new Error("expected an array of numbers");if(ls(t,Ta)){if(r.length!==2)throw new Error(`expected an array of two values for a size, got ${r.length}`);return new ue(Ta,r)}if(ls(t,Nn)){if(r.length===3)return new ue(Nn,[...r,1]);if(r.length===4)return new ue(Nn,r);throw new Error(`expected an array of 3 or 4 values for a color, got ${r.length}`)}if(!Ca(t,Vs))throw new Error(`got an array of numbers, but expected ${Ra(t)}`);return new ue(Vs,r)}const Z={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},pR={[Z.Get]:_t(pt(1,1/0),Q0),[Z.Var]:_t(pt(1,1),ER),[Z.Has]:_t(pt(1,1/0),Q0),[Z.Id]:_t(vR,Hr),[Z.Concat]:_t(pt(2,1/0),Lt(je)),[Z.GeometryType]:_t(SR,Hr),[Z.LineMetric]:_t(Hr),[Z.Resolution]:_t(Qf,Hr),[Z.Zoom]:_t(Qf,Hr),[Z.Time]:_t(Qf,Hr),[Z.Any]:_t(pt(2,1/0),Lt(Ge)),[Z.All]:_t(pt(2,1/0),Lt(Ge)),[Z.Not]:_t(pt(1,1),Lt(Ge)),[Z.Equal]:_t(pt(2,2),Lt(vu)),[Z.NotEqual]:_t(pt(2,2),Lt(vu)),[Z.GreaterThan]:_t(pt(2,2),Lt(bt)),[Z.GreaterThanOrEqualTo]:_t(pt(2,2),Lt(bt)),[Z.LessThan]:_t(pt(2,2),Lt(bt)),[Z.LessThanOrEqualTo]:_t(pt(2,2),Lt(bt)),[Z.Multiply]:_t(pt(2,1/0),J0),[Z.Coalesce]:_t(pt(2,1/0),J0),[Z.Divide]:_t(pt(2,2),Lt(bt)),[Z.Add]:_t(pt(2,1/0),Lt(bt)),[Z.Subtract]:_t(pt(2,2),Lt(bt)),[Z.Clamp]:_t(pt(3,3),Lt(bt)),[Z.Mod]:_t(pt(2,2),Lt(bt)),[Z.Pow]:_t(pt(2,2),Lt(bt)),[Z.Abs]:_t(pt(1,1),Lt(bt)),[Z.Floor]:_t(pt(1,1),Lt(bt)),[Z.Ceil]:_t(pt(1,1),Lt(bt)),[Z.Round]:_t(pt(1,1),Lt(bt)),[Z.Sin]:_t(pt(1,1),Lt(bt)),[Z.Cos]:_t(pt(1,1),Lt(bt)),[Z.Atan]:_t(pt(1,2),Lt(bt)),[Z.Sqrt]:_t(pt(1,1),Lt(bt)),[Z.Match]:_t(pt(4,1/0),$0,TR),[Z.Between]:_t(pt(3,3),Lt(bt)),[Z.Interpolate]:_t(pt(6,1/0),$0,RR),[Z.Case]:_t(pt(3,1/0),xR,CR),[Z.In]:_t(pt(2,2),bR),[Z.Number]:_t(pt(1,1/0),Lt(vu)),[Z.String]:_t(pt(1,1/0),Lt(vu)),[Z.Array]:_t(pt(1,1/0),Lt(bt)),[Z.Color]:_t(pt(1,4),Lt(bt)),[Z.Band]:_t(pt(1,3),Lt(bt)),[Z.Palette]:_t(pt(2,2),wR),[Z.ToString]:_t(pt(1,1),Lt(Ge|bt|je|Nn))};function Q0(r,t,n){const s=r.length-1,l=new Array(s);for(let o=0;o<s;++o){const c=r[o+1];switch(typeof c){case"number":{l[o]=new ue(bt,c);break}case"string":{l[o]=new ue(je,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return l}function ER(r,t,n){const s=r[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new ue(je,s)]}function vR(r,t,n){n.featureId=!0}function SR(r,t,n){n.geometryType=!0}function Qf(r,t,n){n.mapState=!0}function Hr(r,t,n){const s=r[0];if(r.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function pt(r,t){return function(n,s,l){const o=n[0],c=n.length-1;if(r===t){if(c!==r){const h=r===1?"":"s";throw new Error(`expected ${r} argument${h} for ${o}, got ${c}`)}}else if(c<r||c>t){const h=t===1/0?`${r} or more`:`${r} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function J0(r,t,n){const s=r.length-1,l=new Array(s);for(let o=0;o<s;++o){const c=be(r[o+1],t,n);l[o]=c}return l}function Lt(r){return function(t,n,s){const l=t.length-1,o=new Array(l);for(let c=0;c<l;++c){const h=be(t[c+1],r,s);o[c]=h}return o}}function xR(r,t,n){const s=r[0],l=r.length-1;if(l%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${l} instead`)}function $0(r,t,n){const s=r[0],l=r.length-1;if(l%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${l} instead`)}function TR(r,t,n){const s=r.length-1,l=je|bt|Ge,o=be(r[1],l,n),c=be(r[r.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=be(r[d+2],o.type,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=be(r[d+3],c.type,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[o,...h,c]}function RR(r,t,n){const s=r[1];let l;switch(s[0]){case"linear":l=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);l=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new ue(bt,l);let c;try{c=be(r[2],bt,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(r.length-3);for(let d=0;d<h.length;d+=2){try{const _=be(r[d+3],bt,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=be(r[d+4],t,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[o,c,...h]}function CR(r,t,n){const s=be(r[r.length-1],t,n),l=new Array(r.length-1);for(let o=0;o<l.length-1;o+=2){try{const c=be(r[o+1],Ge,n);l[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=be(r[o+2],s.type,n);l[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return l[l.length-1]=s,l}function bR(r,t,n){let s=r[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let l;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],l=je}else l=bt;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const d=be(s[h],l,n);o[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[be(r[1],l,n),...o]}function wR(r,t,n){let s;try{s=be(r[1],bt,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const l=r[2];if(!Array.isArray(l))throw new Error("the second argument of palette must be an array");const o=new Array(l.length);for(let c=0;c<o.length;c++){let h;try{h=be(l[c],Nn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof ue))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function _t(...r){return function(t,n,s){const l=t[0];let o;for(let c=0;c<r.length;c++){const h=r[c](t,n,s);if(c==r.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new yR(n,l,...o)}}function AR(r,t,n){const s=r[0],l=pR[s];if(!l)throw new Error(`unknown operator: ${s}`);return l(r,t,n)}function DE(r){if(!r)return"";const t=r.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return DE(r.getGeometries()[0]);default:return""}}function LE(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Di(r,t,n){const s=be(r,t,n);return Un(s)}function Un(r,t){if(r instanceof ue){if(r.type===Nn&&typeof r.value=="string"){const s=hg(r.value);return function(){return s}}return function(){return r.value}}const n=r.operator;switch(n){case Z.Number:case Z.String:case Z.Coalesce:return MR(r);case Z.Get:case Z.Var:case Z.Has:return OR(r);case Z.Id:return s=>s.featureId;case Z.GeometryType:return s=>s.geometryType;case Z.Concat:{const s=r.args.map(l=>Un(l));return l=>"".concat(...s.map(o=>o(l).toString()))}case Z.Resolution:return s=>s.resolution;case Z.Any:case Z.All:case Z.Between:case Z.In:case Z.Not:return LR(r);case Z.Equal:case Z.NotEqual:case Z.LessThan:case Z.LessThanOrEqualTo:case Z.GreaterThan:case Z.GreaterThanOrEqualTo:return DR(r);case Z.Multiply:case Z.Divide:case Z.Add:case Z.Subtract:case Z.Clamp:case Z.Mod:case Z.Pow:case Z.Abs:case Z.Floor:case Z.Ceil:case Z.Round:case Z.Sin:case Z.Cos:case Z.Atan:case Z.Sqrt:return IR(r);case Z.Case:return NR(r);case Z.Match:return zR(r);case Z.Interpolate:return GR(r);case Z.ToString:return UR(r);default:throw new Error(`Unsupported operator ${n}`)}}function MR(r,t){const n=r.operator,s=r.args.length,l=new Array(s);for(let o=0;o<s;++o)l[o]=Un(r.args[o]);switch(n){case Z.Coalesce:return o=>{for(let c=0;c<s;++c){const h=l[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case Z.Number:case Z.String:return o=>{for(let c=0;c<s;++c){const h=l[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function OR(r,t){const s=r.args[0].value;switch(r.operator){case Z.Get:return l=>{const o=r.args;let c=l.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;c=c[m]}return c};case Z.Var:return l=>l.variables[s];case Z.Has:return l=>{const o=r.args;if(!(s in l.properties))return!1;let c=l.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${r.operator}`)}}function DR(r,t){const n=r.operator,s=Un(r.args[0]),l=Un(r.args[1]);switch(n){case Z.Equal:return o=>s(o)===l(o);case Z.NotEqual:return o=>s(o)!==l(o);case Z.LessThan:return o=>s(o)<l(o);case Z.LessThanOrEqualTo:return o=>s(o)<=l(o);case Z.GreaterThan:return o=>s(o)>l(o);case Z.GreaterThanOrEqualTo:return o=>s(o)>=l(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function LR(r,t){const n=r.operator,s=r.args.length,l=new Array(s);for(let o=0;o<s;++o)l[o]=Un(r.args[o]);switch(n){case Z.Any:return o=>{for(let c=0;c<s;++c)if(l[c](o))return!0;return!1};case Z.All:return o=>{for(let c=0;c<s;++c)if(!l[c](o))return!1;return!0};case Z.Between:return o=>{const c=l[0](o),h=l[1](o),d=l[2](o);return c>=h&&c<=d};case Z.In:return o=>{const c=l[0](o);for(let h=1;h<s;++h)if(c===l[h](o))return!0;return!1};case Z.Not:return o=>!l[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function IR(r,t){const n=r.operator,s=r.args.length,l=new Array(s);for(let o=0;o<s;++o)l[o]=Un(r.args[o]);switch(n){case Z.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=l[h](o);return c};case Z.Divide:return o=>l[0](o)/l[1](o);case Z.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=l[h](o);return c};case Z.Subtract:return o=>l[0](o)-l[1](o);case Z.Clamp:return o=>{const c=l[0](o),h=l[1](o);if(c<h)return h;const d=l[2](o);return c>d?d:c};case Z.Mod:return o=>l[0](o)%l[1](o);case Z.Pow:return o=>Math.pow(l[0](o),l[1](o));case Z.Abs:return o=>Math.abs(l[0](o));case Z.Floor:return o=>Math.floor(l[0](o));case Z.Ceil:return o=>Math.ceil(l[0](o));case Z.Round:return o=>Math.round(l[0](o));case Z.Sin:return o=>Math.sin(l[0](o));case Z.Cos:return o=>Math.cos(l[0](o));case Z.Atan:return s===2?o=>Math.atan2(l[0](o),l[1](o)):o=>Math.atan(l[0](o));case Z.Sqrt:return o=>Math.sqrt(l[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function NR(r,t){const n=r.args.length,s=new Array(n);for(let l=0;l<n;++l)s[l]=Un(r.args[l]);return l=>{for(let o=0;o<n-1;o+=2)if(s[o](l))return s[o+1](l);return s[n-1](l)}}function zR(r,t){const n=r.args.length,s=new Array(n);for(let l=0;l<n;++l)s[l]=Un(r.args[l]);return l=>{const o=s[0](l);for(let c=1;c<n-1;c+=2)if(o===s[c](l))return s[c+1](l);return s[n-1](l)}}function GR(r,t){const n=r.args.length,s=new Array(n);for(let l=0;l<n;++l)s[l]=Un(r.args[l]);return l=>{const o=s[0](l),c=s[1](l);let h,d;for(let _=2;_<n;_+=2){const m=s[_](l);let y=s[_+1](l);const E=Array.isArray(y);if(E&&(y=fR(y)),m>=c)return _===2?y:E?XR(o,c,h,d,m,y):ba(o,c,h,d,m,y);h=m,d=y}return d}}function UR(r,t){const n=r.operator,s=r.args.length,l=new Array(s);for(let o=0;o<s;++o)l[o]=Un(r.args[o]);switch(n){case Z.ToString:return o=>{const c=l[0](o);return r.args[0].type===Nn?fg(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function ba(r,t,n,s,l,o){const c=l-n;if(c===0)return s;const h=t-n,d=r===1?h/c:(Math.pow(r,h)-1)/(Math.pow(r,c)-1);return s+d*(o-s)}function XR(r,t,n,s,l,o){if(l-n===0)return s;const h=V0(s),d=V0(o);let _=d[2]-h[2];_>180?_-=360:_<-180&&(_+=360);const m=[ba(r,t,n,h[0],l,d[0]),ba(r,t,n,h[1],l,d[1]),h[2]+ba(r,t,n,0,l,_),ba(r,t,n,s[3],l,o[3])];return dR(m)}const Et={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function YR(r,t,n){const s=r;let l=!0,o=!1,c=!1;const h=[Ru(s,mt.LOAD,function(){c=!0,o||t()})];return s.src&&Hp?(o=!0,s.decode().then(function(){l&&t()}).catch(function(d){l&&(c?t():n())})):h.push(Ru(s,mt.ERROR,n)),function(){l=!1,h.forEach(Kt)}}function FR(r,t){return new Promise((n,s)=>{function l(){c(),n(r)}function o(){c(),s(new Error("Image load error"))}function c(){r.removeEventListener("load",l),r.removeEventListener("error",o)}r.addEventListener("load",l),r.addEventListener("error",o)})}function BR(r,t){return t&&(r.src=t),r.src&&Hp?new Promise((n,s)=>r.decode().then(()=>n(r)).catch(l=>r.complete&&r.width?n(r):s(l))):FR(r)}class PR{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const l=Jf(t,n,s);return l in this.cache_?this.cache_[l]:null}getPattern(t,n,s){const l=Jf(t,n,s);return l in this.patternCache_?this.patternCache_[l]:null}set(t,n,s,l,o){const c=Jf(t,n,s),h=c in this.cache_;this.cache_[c]=l,o&&(l.getImageState()===Et.IDLE&&l.load(),l.getImageState()===Et.LOADING?l.ready().then(()=>{this.patternCache_[c]=Du().createPattern(l.getImage(1),"repeat")}):this.patternCache_[c]=Du().createPattern(l.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Jf(r,t,n){const s=n?hl(n):"null";return t+":"+r+":"+s}const xn=new PR;let va=null;class IE extends Ku{constructor(t,n,s,l,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=l===void 0?Et.IDLE:l,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Et.LOADED){va||(va=ce(1,1,void 0,{willReadFrequently:!0})),va.drawImage(this.image_,0,0);try{va.getImageData(0,0,1,1),this.tainted_=!1}catch{va=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(mt.CHANGE)}handleImageError_(){this.imageState_=Et.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Et.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=ce(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Et.IDLE){this.image_||this.initializeImage_(),this.imageState_=Et.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&BR(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Et.LOADED)return;const n=this.image_,s=ce(Math.ceil(n.width*t),Math.ceil(n.height*t)),l=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=cR(this.color_),s.fillRect(0,0,l.width/t,l.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=l}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)t();else{const n=()=>{(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)&&(this.removeEventListener(mt.CHANGE,n),t())};this.addEventListener(mt.CHANGE,n)}})),this.ready_}}function gg(r,t,n,s,l,o){let c=t===void 0?void 0:xn.get(t,n,l);return c||(c=new IE(r,r&&"src"in r?r.src||void 0:t,n,s,l),xn.set(t,n,l,c,o)),o&&c&&!xn.getPattern(t,n,l)&&xn.set(t,n,l,c,o),c}function Qn(r){return r?Array.isArray(r)?fg(r):typeof r=="object"&&"src"in r?kR(r):r:null}function kR(r){if(!r.offset||!r.size)return xn.getPattern(r.src,"anonymous",r.color);const t=r.src+":"+r.offset,n=xn.getPattern(t,void 0,r.color);if(n)return n;const s=xn.get(r.src,"anonymous",null);if(s.getImageState()!==Et.LOADED)return null;const l=ce(r.size[0],r.size[1]);return l.drawImage(s.getImage(1),r.offset[0],r.offset[1],r.size[0],r.size[1],0,0,r.size[0],r.size[1]),gg(l.canvas,t,void 0,Et.LOADED,r.color,!0),xn.getPattern(t,void 0,r.color)}const NE="10px sans-serif",Ke="#000",fl="round",Ti=[],Ri=0,dl="round",Ua=10,Xa="#000",Ya="center",Lu="middle",Hs=[0,0,0,0],Fa=1,Ei=new Xn;let Wr=null,Rd;const Cd={},HR=function(){const t="32px ",n=["monospace","serif"],s=n.length,l="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(_,m,y){let E=!0;for(let x=0;x<s;++x){const S=n[x];if(c=Iu(_+" "+m+" "+t+S,l),y!=S){const R=Iu(_+" "+m+" "+t+y+","+S,l);E=E&&R!=c}}return!!E}function d(){let _=!0;const m=Ei.getKeys();for(let y=0,E=m.length;y<E;++y){const x=m[y];if(Ei.get(x)<100){const[S,R,T]=x.split(`
`);h(S,R,T)?(Za(Cd),Wr=null,Rd=void 0,Ei.set(x,100)):(Ei.set(x,Ei.get(x)+1,!0),_=!1)}}_&&(clearInterval(o),o=void 0)}return function(_){const m=vE(_);if(!m)return;const y=m.families;for(let E=0,x=y.length;E<x;++E){const S=y[E],R=m.style+`
`+m.weight+`
`+S;Ei.get(R)===void 0&&(Ei.set(R,100,!0),h(m.style,m.weight,S)||(Ei.set(R,0,!0),o===void 0&&(o=setInterval(d,32))))}}}(),ZR=function(){let r;return function(t){let n=Cd[t];if(n==null){if(kp){const s=vE(t),l=zE(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(l.actualBoundingBoxAscent+l.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),n=r.offsetHeight,document.body.removeChild(r);Cd[t]=n}return n}}();function zE(r,t){return Wr||(Wr=ce(1,1)),r!=Rd&&(Wr.font=r,Rd=Wr.font),Wr.measureText(t)}function Iu(r,t){return zE(r,t).width}function tp(r,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((l,o)=>Math.max(l,Iu(r,o)),0);return n[t]=s,s}function jR(r,t){const n=[],s=[],l=[];let o=0,c=0,h=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const y=t[_];if(y===`
`||_===m){o=Math.max(o,c),l.push(c),c=0,h+=d,d=0;continue}const E=t[_+1]||r.font,x=Iu(E,y);n.push(x),c+=x;const S=ZR(E);s.push(S),d=Math.max(d,S)}return{width:o,height:h,widths:n,heights:s,lineWidths:l}}function KR(r,t,n,s,l,o,c,h,d,_,m){r.save(),n!==1&&(r.globalAlpha===void 0?r.globalAlpha=y=>y.globalAlpha*=n:r.globalAlpha*=n),t&&r.transform.apply(r,t),s.contextInstructions?(r.translate(d,_),r.scale(m[0],m[1]),qR(s,r)):m[0]<0||m[1]<0?(r.translate(d,_),r.scale(m[0],m[1]),r.drawImage(s,l,o,c,h,0,0,c,h)):r.drawImage(s,l,o,c,h,d,_,c*m[0],h*m[1]),r.restore()}function qR(r,t){const n=r.contextInstructions;for(let s=0,l=n.length;s<l;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class lc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ve(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new lc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ot()}getImage(t){return Ot()}getHitDetectionImage(){return Ot()}getPixelRatio(t){return 1}getImageState(){return Ot()}getImageSize(){return Ot()}getOrigin(){return Ot()}getSize(){return Ot()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ve(t)}listenImageChange(t){Ot()}load(){Ot()}unlistenImageChange(t){Ot()}ready(){return Promise.resolve()}}class ac extends lc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Et.LOADING:Et.LOADED,this.imageState_===Et.LOADING&&this.ready().then(()=>this.imageState_=Et.LOADED),this.render()}clone(){const t=this.getScale(),n=new ac({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var o,c;const n=(o=this.fill_)==null?void 0:o.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let l=(c=xn.get(s,null,null))==null?void 0:c.getImage(1);if(!l){const h=this.renderOptions_,d=Math.ceil(h.size*t),_=ce(d,d);this.draw_(h,_,t),l=_.canvas,xn.set(s,null,null,new IE(l,void 0,null,Et.LOADED,null))}return l}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let l=this.radius,o=this.radius2_===void 0?l:this.radius2_;if(l<o){const F=l;l=o,o=F}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=o*Math.sin(h),_=Math.sqrt(o*o-d*d),m=l-_,y=Math.sqrt(d*d+m*m),E=y/d;if(t==="miter"&&E<=s)return E*n;const x=n/2/E,S=n/2*(m/y),T=Math.sqrt((l+x)*(l+x)+S*S)-l;if(this.radius2_===void 0||t==="bevel")return T*2;const C=l*Math.sin(h),O=Math.sqrt(l*l-C*C),L=o-O,M=Math.sqrt(C*C+L*L)/C;if(M<=s){const F=M*n/2-o-l;return 2*Math.max(T,F)}return T*2}createRenderOptions(){let t=fl,n=dl,s=0,l=null,o=0,c,h=0;this.stroke_&&(c=Qn(this.stroke_.getColor()??Xa),h=this.stroke_.getWidth()??Fa,l=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??dl,t=this.stroke_.getLineCap()??fl,s=this.stroke_.getMiterLimit()??Ua);const d=this.calculateLineJoinSize_(n,h,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:l,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let l=this.fill_.getColor();l===null&&(l=Ke),n.fillStyle=Qn(l),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),l=0;typeof s=="string"&&(s=hl(s)),s===null?l=1:Array.isArray(s)&&(l=s.length===4?s[3]:1),l===0&&(n=ce(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const l=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=o+h*c,_=h%2===0?s:l;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Ke,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class oc extends ac{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new oc({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class Ws{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Ws({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=gg(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Et.IDLE&&n.load(),n.getImageState()===Et.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?It(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:hl(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function ep(r,t,n,s){return n!==void 0&&s!==void 0?[n/r,s/t]:n!==void 0?n/r:s!==void 0?s/t:1}class uc extends lc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,l=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:l,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;zt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||It(c)),zt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),zt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=Et.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?Et.LOADED:Et.IDLE:d=Et.LOADING:d=Et.LOADED),this.color_=t.color!==void 0?hl(t.color):null,this.iconImage_=gg(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)_=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const E=()=>{if(this.unlistenImageChange(E),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(ep(x[0],x[1],t.width,t.height))};this.listenImageChange(E);return}}_!==void 0&&this.setScale(ep(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new uc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const l=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!l)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=l[0]),this.anchorYUnits_=="fraction"&&(t[1]*=l[1])}if(this.anchorOrigin_!="top-left"){if(!l)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+l[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+l[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(mt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(mt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class cc{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new cc({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class Ci{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=np,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Ci({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=np,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function VR(r){let t;if(typeof r=="function")t=r;else{let n;Array.isArray(r)?n=r:(zt(typeof r.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[r]),t=function(){return n}}return t}let $f=null;function GE(r,t){if(!$f){const n=new Ws({color:"rgba(255,255,255,0.4)"}),s=new cc({color:"#3399CC",width:1.25});$f=[new Ci({image:new oc({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return $f}function np(r){return r.getGeometry()}const WR="#333";class _g{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Ve(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ws({color:WR}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new _g({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ve(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function QR(r){return!0}function JR(r){const t=OE(),n=$R(r,t),s=LE();return function(l,o){if(s.properties=l.getPropertiesInternal(),s.resolution=o,t.featureId){const c=l.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=DE(l.getGeometry())),n(s)}}function ip(r){const t=OE(),n=r.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=bd(r[c],t);const l=LE(),o=new Array(n);return function(c,h){if(l.properties=c.getPropertiesInternal(),l.resolution=h,t.featureId){const _=c.getId();_!==void 0?l.featureId=_:l.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](l);m&&(o[d]=m,d+=1)}return o.length=d,o}}function $R(r,t){const n=r.length,s=new Array(n);for(let l=0;l<n;++l){const o=r[l],c="filter"in o?Di(o.filter,Ge,t):QR;let h;if(Array.isArray(o.style)){const d=o.style.length;h=new Array(d);for(let _=0;_<d;++_)h[_]=bd(o.style[_],t)}else h=[bd(o.style,t)];s[l]={filter:c,styles:h}}return function(l){const o=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(l)&&!(r[h].else&&c)){c=!0;for(const _ of s[h].styles){const m=_(l);m&&o.push(m)}}}return o}}function bd(r,t){const n=Ba(r,"",t),s=Pa(r,"",t),l=tC(r,t),o=eC(r,t),c=qe(r,"z-index",t);if(!n&&!s&&!l&&!o&&!ol(r))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(r));const h=new Ci;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),h.setFill(m)}if(s){const m=s(d);m&&(_=!1),h.setStroke(m)}if(l){const m=l(d);m&&(_=!1),h.setText(m)}if(o){const m=o(d);m&&(_=!1),h.setImage(m)}return c&&h.setZIndex(c(d)),_?null:h}}function Ba(r,t,n){let s;if(t+"fill-pattern-src"in r)s=rC(r,t+"fill-",n);else{if(r[t+"fill-color"]==="none")return o=>null;s=mg(r,t+"fill-color",n)}if(!s)return null;const l=new Ws;return function(o){const c=s(o);return c===cg?null:(l.setColor(c),l)}}function Pa(r,t,n){const s=qe(r,t+"stroke-width",n),l=mg(r,t+"stroke-color",n);if(!s&&!l)return null;const o=Si(r,t+"stroke-line-cap",n),c=Si(r,t+"stroke-line-join",n),h=UE(r,t+"stroke-line-dash",n),d=qe(r,t+"stroke-line-dash-offset",n),_=qe(r,t+"stroke-miter-limit",n),m=new cc;return function(y){if(l){const E=l(y);if(E===cg)return null;m.setColor(E)}if(s&&m.setWidth(s(y)),o){const E=o(y);if(E!=="butt"&&E!=="round"&&E!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(E)}if(c){const E=c(y);if(E!=="bevel"&&E!=="round"&&E!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(E)}return h&&m.setLineDash(h(y)),d&&m.setLineDashOffset(d(y)),_&&m.setMiterLimit(_(y)),m}}function tC(r,t){const n="text-",s=Si(r,n+"value",t);if(!s)return null;const l=Ba(r,n,t),o=Ba(r,n+"background-",t),c=Pa(r,n,t),h=Pa(r,n+"background-",t),d=Si(r,n+"font",t),_=qe(r,n+"max-angle",t),m=qe(r,n+"offset-x",t),y=qe(r,n+"offset-y",t),E=rl(r,n+"overflow",t),x=Si(r,n+"placement",t),S=qe(r,n+"repeat",t),R=hc(r,n+"scale",t),T=rl(r,n+"rotate-with-view",t),C=qe(r,n+"rotation",t),O=Si(r,n+"align",t),L=Si(r,n+"justify",t),A=Si(r,n+"baseline",t),M=rl(r,n+"keep-upright",t),F=UE(r,n+"padding",t),k=fc(r,n+"declutter-mode"),B=new _g({declutterMode:k});return function(V){if(B.setText(s(V)),l&&B.setFill(l(V)),o&&B.setBackgroundFill(o(V)),c&&B.setStroke(c(V)),h&&B.setBackgroundStroke(h(V)),d&&B.setFont(d(V)),_&&B.setMaxAngle(_(V)),m&&B.setOffsetX(m(V)),y&&B.setOffsetY(y(V)),E&&B.setOverflow(E(V)),x){const J=x(V);if(J!=="point"&&J!=="line")throw new Error("Expected point or line for text-placement");B.setPlacement(J)}if(S&&B.setRepeat(S(V)),R&&B.setScale(R(V)),T&&B.setRotateWithView(T(V)),C&&B.setRotation(C(V)),O){const J=O(V);if(J!=="left"&&J!=="center"&&J!=="right"&&J!=="end"&&J!=="start")throw new Error("Expected left, right, center, start, or end for text-align");B.setTextAlign(J)}if(L){const J=L(V);if(J!=="left"&&J!=="right"&&J!=="center")throw new Error("Expected left, right, or center for text-justify");B.setJustify(J)}if(A){const J=A(V);if(J!=="bottom"&&J!=="top"&&J!=="middle"&&J!=="alphabetic"&&J!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");B.setTextBaseline(J)}return F&&B.setPadding(F(V)),M&&B.setKeepUpright(M(V)),B}}function eC(r,t){return"icon-src"in r?nC(r,t):"shape-points"in r?iC(r,t):"circle-radius"in r?sC(r,t):null}function nC(r,t){const n="icon-",s=n+"src",l=XE(r[s],s),o=Nu(r,n+"anchor",t),c=hc(r,n+"scale",t),h=qe(r,n+"opacity",t),d=Nu(r,n+"displacement",t),_=qe(r,n+"rotation",t),m=rl(r,n+"rotate-with-view",t),y=rp(r,n+"anchor-origin"),E=lp(r,n+"anchor-x-units"),x=lp(r,n+"anchor-y-units"),S=uC(r,n+"color"),R=aC(r,n+"cross-origin"),T=oC(r,n+"offset"),C=rp(r,n+"offset-origin"),O=zu(r,n+"width"),L=zu(r,n+"height"),A=lC(r,n+"size"),M=fc(r,n+"declutter-mode"),F=new uc({src:l,anchorOrigin:y,anchorXUnits:E,anchorYUnits:x,color:S,crossOrigin:R,offset:T,offsetOrigin:C,height:L,width:O,size:A,declutterMode:M});return function(k){return h&&F.setOpacity(h(k)),d&&F.setDisplacement(d(k)),_&&F.setRotation(_(k)),m&&F.setRotateWithView(m(k)),c&&F.setScale(c(k)),o&&F.setAnchor(o(k)),F}}function iC(r,t){const n="shape-",s=n+"points",l=n+"radius",o=wd(r[s],s),c=wd(r[l],l),h=Ba(r,n,t),d=Pa(r,n,t),_=hc(r,n+"scale",t),m=Nu(r,n+"displacement",t),y=qe(r,n+"rotation",t),E=rl(r,n+"rotate-with-view",t),x=zu(r,n+"radius2"),S=zu(r,n+"angle"),R=fc(r,n+"declutter-mode"),T=new ac({points:o,radius:c,radius2:x,angle:S,declutterMode:R});return function(C){return h&&T.setFill(h(C)),d&&T.setStroke(d(C)),m&&T.setDisplacement(m(C)),y&&T.setRotation(y(C)),E&&T.setRotateWithView(E(C)),_&&T.setScale(_(C)),T}}function sC(r,t){const n="circle-",s=Ba(r,n,t),l=Pa(r,n,t),o=qe(r,n+"radius",t),c=hc(r,n+"scale",t),h=Nu(r,n+"displacement",t),d=qe(r,n+"rotation",t),_=rl(r,n+"rotate-with-view",t),m=fc(r,n+"declutter-mode"),y=new oc({radius:5,declutterMode:m});return function(E){return o&&y.setRadius(o(E)),s&&y.setFill(s(E)),l&&y.setStroke(l(E)),h&&y.setDisplacement(h(E)),d&&y.setRotation(d(E)),_&&y.setRotateWithView(_(E)),c&&y.setScale(c(E)),y}}function qe(r,t,n){if(!(t in r))return;const s=Di(r[t],bt,n);return function(l){return wd(s(l),t)}}function Si(r,t,n){if(!(t in r))return null;const s=Di(r[t],je,n);return function(l){return XE(s(l),t)}}function rC(r,t,n){const s=Si(r,t+"pattern-src",n),l=sp(r,t+"pattern-offset",n),o=sp(r,t+"pattern-size",n),c=mg(r,t+"color",n);return function(h){return{src:s(h),offset:l&&l(h),size:o&&o(h),color:c&&c(h)}}}function rl(r,t,n){if(!(t in r))return null;const s=Di(r[t],Ge,n);return function(l){const o=s(l);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function mg(r,t,n){if(!(t in r))return null;const s=Di(r[t],Nn,n);return function(l){return YE(s(l),t)}}function UE(r,t,n){if(!(t in r))return null;const s=Di(r[t],Vs,n);return function(l){return Wa(s(l),t)}}function Nu(r,t,n){if(!(t in r))return null;const s=Di(r[t],Vs,n);return function(l){const o=Wa(s(l),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function sp(r,t,n){if(!(t in r))return null;const s=Di(r[t],Vs,n);return function(l){return FE(s(l),t)}}function hc(r,t,n){if(!(t in r))return null;const s=Di(r[t],Vs|bt,n);return function(l){return cC(s(l),t)}}function zu(r,t){const n=r[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function lC(r,t){const n=r[t];if(n!==void 0){if(typeof n=="number")return Ve(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function aC(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function rp(r,t){const n=r[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function lp(r,t){const n=r[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function oC(r,t){const n=r[t];if(n!==void 0)return Wa(n,t)}function fc(r,t){const n=r[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function uC(r,t){const n=r[t];if(n!==void 0)return YE(n,t)}function Wa(r,t){if(!Array.isArray(r))throw new Error(`Expected an array for ${t}`);const n=r.length;for(let s=0;s<n;++s)if(typeof r[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return r}function XE(r,t){if(typeof r!="string")throw new Error(`Expected a string for ${t}`);return r}function wd(r,t){if(typeof r!="number")throw new Error(`Expected a number for ${t}`);return r}function YE(r,t){if(typeof r=="string")return r;const n=Wa(r,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function FE(r,t){const n=Wa(r,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function cC(r,t){return typeof r=="number"?r:FE(r,t)}const ap={RENDER_ORDER:"renderOrder"};class BE extends rc{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(ap.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new AE(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(ap.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?GE:t;const n=hC(t);this.styleFunction_=t===null?void 0:VR(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function hC(r){if(r===void 0)return GE;if(!r)return null;if(typeof r=="function"||r instanceof Ci)return r;if(!Array.isArray(r))return ip([r]);if(r.length===0)return[];const t=r.length,n=r[0];if(n instanceof Ci){const l=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!(c instanceof Ci))throw new Error("Expected a list of style instances");l[o]=c}return l}if("style"in n){const l=new Array(t);for(let o=0;o<t;++o){const c=r[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");l[o]=c}return JR(l)}return ip(r)}class PE extends Oi{constructor(t,n,s,l){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=l}}class fC extends Zu{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Ot()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,l=t.pixelToCoordinateTransform;Ai(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),cE(l,s)}forEachFeatureAtCoordinate(t,n,s,l,o,c,h,d){let _;const m=n.viewState;function y(A,M,F,k){return o.call(c,M,A?F:null,k)}const E=m.projection,x=tE(t.slice(),E),S=[[0,0]];if(E.canWrapX()&&l){const A=E.getExtent(),M=Yt(A);S.push([-M,0],[M,0])}const R=n.layerStatesArray,T=R.length,C=[],O=[];for(let A=0;A<S.length;A++)for(let M=T-1;M>=0;--M){const F=R[M],k=F.layer;if(k.hasRenderer()&&ug(F,m)&&h.call(d,k)){const B=k.getRenderer(),V=k.getSource();if(B&&V){const J=V.getWrapX()?x:t,it=y.bind(null,F.managed);O[0]=J[0]+S[A][0],O[1]=J[1]+S[A][1],_=B.forEachFeatureAtCoordinate(O,n,s,it,C)}if(_)return _}}if(C.length===0)return;const L=1/C.length;return C.forEach((A,M)=>A.distanceSq+=M*L),C.sort((A,M)=>A.distanceSq-M.distanceSq),C.some(A=>_=A.callback(A.feature,A.layer,A.geometry)),_}hasFeatureAtCoordinate(t,n,s,l,o,c){return this.forEachFeatureAtCoordinate(t,n,s,l,Da,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){Ot()}scheduleExpireIconCache(t){xn.canExpireCache()&&t.postRenderFunctions.push(dC)}}function dC(r,t){xn.expire()}class gC extends fC{constructor(t){super(t),this.fontChangeListenerKey_=At(Ei,al.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=ic+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const l=new PE(t,void 0,n);s.dispatchEvent(l)}}disposeInternal(){Kt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Sn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof BE&&h.layer.getDeclutter())&&(t.declutter={});const l=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,d=n.length;h<d;++h){const _=n[h];t.layerIndex=h;const m=_.layer,y=m.getSourceState();if(!ug(_,l)||y!="ready"&&y!="undefined"){m.unrender();continue}const E=m.render(t,c);E&&(E!==c&&(this.children_.push(E),c=E),o.push(_))}this.declutter(t,o),AT(this.element_,this.children_),this.dispatchRenderEvent(Sn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const l=n[s],o=l.layer;o.getDeclutter()&&o.renderDeclutter(t,l)}n.forEach(s=>s.layer.renderDeferred(t))}}}function kE(r){if(r instanceof rc){r.setMapInternal(null);return}r instanceof ml&&r.getLayers().forEach(kE)}function HE(r,t){if(r instanceof rc){r.setMapInternal(t);return}if(r instanceof ml){const n=r.getLayers().getArray();for(let s=0,l=n.length;s<l;++s)HE(n[s],t)}}let _C=class extends Xn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=mC(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:JS,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Gn(),this.pixelToCoordinateTransform_=Gn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||LT(),this.interactions=n.interactions||JT({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new ex(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Le.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Le.VIEW,this.handleViewChanged_),this.addChangeListener(Le.SIZE,this.handleSizeChanged_),this.addChangeListener(Le.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof qn)&&t.view.then(function(l){s.setView(new qn(l))}),this.controls.addEventListener(Ze.ADD,l=>{l.element.setMap(this)}),this.controls.addEventListener(Ze.REMOVE,l=>{l.element.setMap(null)}),this.interactions.addEventListener(Ze.ADD,l=>{l.element.setMap(this)}),this.interactions.addEventListener(Ze.REMOVE,l=>{l.element.setMap(null)}),this.overlays_.addEventListener(Ze.ADD,l=>{this.addOverlayInternal_(l.element)}),this.overlays_.addEventListener(Ze.REMOVE,l=>{const o=l.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],l.element.setMap(null)}),this.controls.forEach(l=>{l.setMap(this)}),this.interactions.forEach(l=>{l.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){HE(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const l=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Da,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(l,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(l){s.push(l)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(l){l instanceof ml?n(l.getLayers()):t.push(l)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const l=n.layerFilter!==void 0?n.layerFilter:Da,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,l,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),l=this.getSize(),o=s.width/l[0],c=s.height/l[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(Le.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return xd(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?pe(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Le.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Wn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const l=t[n];if(!l.visible)continue;const o=l.layer.getRenderer();if(o&&!o.ready)return!0;const c=l.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=pi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?pe(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Le.SIZE)}getView(){return this.get(Le.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,l){return nx(this.frameState_,t,n,s,l)}handleBrowserEvent(t,n){n=n||t.type;const s=new hs(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===gd.POINTERDOWN||s===mt.WHEEL||s===mt.KEYDOWN){const l=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():l,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===l?l.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const l=this.getInteractions().getArray().slice();for(let o=l.length-1;o>=0;o--){const c=l[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let l=this.maxTilesLoading_,o=l;if(t){const c=t.viewHints;if(c[Ie.ANIMATING]||c[Ie.INTERACTING]){const h=Date.now()-t.time>8;l=h?0:8,o=h?0:2}}n.getTilesLoading()<l&&(n.reprioritize(),n.loadMoreTiles(l,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Sn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Sn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new qr(vi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new qr(vi.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let l=0,o=s.length;l<o;++l)s[l](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,l=this.targetChangeHandlerKeys_.length;s<l;++s)Kt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(mt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(mt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new gC(this)),this.mapBrowserEventHandler_=new $S(this,this.moveTolerance_);for(const o in te)this.mapBrowserEventHandler_.addEventListener(te[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(mt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(mt.WHEEL,this.boundHandleBrowserEvent_,Zp?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const o=n.getRootNode();s=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[At(s,mt.KEYDOWN,this.handleBrowserEvent,this),At(s,mt.KEYPRESS,this.handleBrowserEvent,this)];const l=n.getRootNode();l instanceof ShadowRoot&&this.resizeObserver_.observe(l.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Kt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Kt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=At(t,al.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=At(t,mt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Kt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new fs("addlayer",t)),this.layerGroupPropertyListenerKeys_=[At(t,al.PROPERTYCHANGE,this.render,this),At(t,mt.CHANGE,this.render,this),At(t,"addlayer",this.handleLayerAdd_,this),At(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const l=t[n].layer;l.hasRenderer()&&l.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){kE(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),l=this.frameState_;let o=null;if(n!==void 0&&W0(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:pd(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:It(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=pd(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),l&&(!this.previousExtent_||!$u(this.previousExtent_)&&!Ia(o.extent,this.previousExtent_))&&(this.dispatchEvent(new qr(vi.MOVESTART,this,l)),this.previousExtent_=Vu(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Ie.ANIMATING]&&!o.viewHints[Ie.INTERACTING]&&!Ia(o.extent,this.previousExtent_)&&(this.dispatchEvent(new qr(vi.MOVEEND,this,o)),jp(o.extent,this.previousExtent_))),this.dispatchEvent(new qr(vi.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(vi.LOADSTART)||this.hasListener(vi.LOADEND)||this.hasListener(Sn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new fs("removelayer",n)),this.set(Le.LAYERGROUP,t)}setSize(t){this.set(Le.SIZE,t)}setTarget(t){this.set(Le.TARGET,t)}setView(t){if(!t||t instanceof qn){this.set(Le.VIEW,t);return}this.set(Le.VIEW,new qn);const n=this;t.then(function(s){n.setView(new qn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const l=getComputedStyle(t),o=t.offsetWidth-parseFloat(l.borderLeftWidth)-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight)-parseFloat(l.borderRightWidth),c=t.offsetHeight-parseFloat(l.borderTopWidth)-parseFloat(l.paddingTop)-parseFloat(l.paddingBottom)-parseFloat(l.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(n=[Math.max(0,o),Math.max(0,c)],!W0(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&nE("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!ps(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function mC(r){let t=null;r.keyboardEventTarget!==void 0&&(t=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const n={},s=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new ml({layers:r.layers});n[Le.LAYERGROUP]=s,n[Le.TARGET]=r.target,n[Le.VIEW]=r.view instanceof qn?r.view:new qn;let l;r.controls!==void 0&&(Array.isArray(r.controls)?l=new Wn(r.controls.slice()):(zt(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),l=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new Wn(r.interactions.slice()):(zt(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=r.interactions));let c;return r.overlays!==void 0?Array.isArray(r.overlays)?c=new Wn(r.overlays.slice()):(zt(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=r.overlays):c=new Wn,{controls:l,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class yg extends Ku{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(mt.CHANGE)}release(){this.setState(ht.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ht.EMPTY){if(this.state!==ht.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Ot()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const l=n-s+1e3/60;return l>=this.transition_?1:eE(l/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Ad(r){return r instanceof Image||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageBitmap?r:null}const yC=new Error("disposed"),pC=[256,256];class op extends yg{constructor(t){const n=ht.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=Ad(this.data_);return t?[t.width,t.height]:pC}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ht.IDLE&&this.state!==ht.ERROR)return;this.state=ht.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ht.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ht.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(yC),this.controller_=null),super.disposeInternal()}}class ZE extends yg{constructor(t,n,s,l,o,c){super(t,n,c),this.crossOrigin_=l,this.src_=s,this.key=s,this.image_=new Image,l!==null&&(this.image_.crossOrigin=l),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ht.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ht.ERROR,this.unlistenImage_(),this.image_=EC(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ht.LOADED:this.state=ht.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ht.ERROR&&(this.state=ht.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ht.IDLE&&(this.state=ht.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=YR(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function EC(){const r=ce(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class pg{constructor(t,n,s,l){this.minX=t,this.maxX=n,this.minY=s,this.maxY=l}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Zr(r,t,n,s,l){return l!==void 0?(l.minX=r,l.maxX=t,l.minY=n,l.maxY=s,l):new pg(r,t,n,s)}let td;const ll=[];function up(r,t,n,s,l){r.beginPath(),r.moveTo(0,0),r.lineTo(t,n),r.lineTo(s,l),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,s)+1,Math.max(n,l)),r.restore()}function ed(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function vC(){if(td===void 0){const r=ce(6,6,ll);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",up(r,4,5,4,0),up(r,4,5,0,5);const t=r.getImageData(0,0,3,3).data;td=ed(t,0)||ed(t,4)||ed(t,8),sc(r),ll.push(r.canvas)}return td}function cp(r,t,n,s){const l=Vd(n,t,r);let o=I0(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=r.getMetersPerUnit();h!==void 0&&(o/=h);const d=r.getExtent();if(!d||ul(d,l)){const _=I0(r,o,l)/o;isFinite(_)&&_>0&&(o/=_)}return o}function SC(r,t,n,s){const l=qs(n);let o=cp(r,t,l,s);return(!isFinite(o)||o<=0)&&Fd(n,function(c){return o=cp(r,t,c,s),isFinite(o)&&o>0}),o}function xC(r,t,n,s,l,o,c,h,d,_,m,y,E,x){const S=ce(Math.round(n*r),Math.round(n*t),ll);if(y||(S.imageSmoothingEnabled=!1),d.length===0)return S.canvas;S.scale(n,n);function R(M){return Math.round(M*n)/n}S.globalCompositeOperation="lighter";const T=Rn();d.forEach(function(M,F,k){lx(T,M.extent)});let C;const O=n/s,L=(y?1:1+Math.pow(2,-24))/O;C=ce(Math.round(Yt(T)*O),Math.round(Xe(T)*O),ll),y||(C.imageSmoothingEnabled=!1),d.forEach(function(M,F,k){if(M.image.width>0&&M.image.height>0){if(M.clipExtent){C.save();const $=(M.clipExtent[0]-T[0])*O,tt=-(M.clipExtent[3]-T[3])*O,rt=Yt(M.clipExtent)*O,ot=Xe(M.clipExtent)*O;C.rect(y?$:Math.round($),y?tt:Math.round(tt),y?rt:Math.round($+rt)-Math.round($),y?ot:Math.round(tt+ot)-Math.round(tt)),C.clip()}const B=(M.extent[0]-T[0])*O,V=-(M.extent[3]-T[3])*O,J=Yt(M.extent)*O,it=Xe(M.extent)*O;C.drawImage(M.image,_,_,M.image.width-2*_,M.image.height-2*_,y?B:Math.round(B),y?V:Math.round(V),y?J:Math.round(B+J)-Math.round(B),y?it:Math.round(V+it)-Math.round(V)),M.clipExtent&&C.restore()}});const A=$s(c);return h.getTriangles().forEach(function(M,F,k){const B=M.source,V=M.target;let J=B[0][0],it=B[0][1],$=B[1][0],tt=B[1][1],rt=B[2][0],ot=B[2][1];const N=R((V[0][0]-A[0])/o),K=R(-(V[0][1]-A[1])/o),W=R((V[1][0]-A[0])/o),et=R(-(V[1][1]-A[1])/o),b=R((V[2][0]-A[0])/o),P=R(-(V[2][1]-A[1])/o),U=J,Q=it;J=0,it=0,$-=U,tt-=Q,rt-=U,ot-=Q;const nt=[[$,tt,0,0,W-N],[rt,ot,0,0,b-N],[0,0,$,tt,et-K],[0,0,rt,ot,P-K]],ut=sx(nt);if(!ut)return;if(S.save(),S.beginPath(),vC()||!y){S.moveTo(W,et);const Nt=4,Ct=N-W,se=K-et;for(let Ee=0;Ee<Nt;Ee++)S.lineTo(W+R((Ee+1)*Ct/Nt),et+R(Ee*se/(Nt-1))),Ee!=Nt-1&&S.lineTo(W+R((Ee+1)*Ct/Nt),et+R((Ee+1)*se/(Nt-1)));S.lineTo(b,P)}else S.moveTo(W,et),S.lineTo(N,K),S.lineTo(b,P);S.clip(),S.transform(ut[0],ut[2],ut[1],ut[3],N,K),S.translate(T[0]-U,T[3]-Q);let lt;if(C)lt=C.canvas,S.scale(L,-L);else{const Nt=d[0],Ct=Nt.extent;lt=Nt.image,S.scale(Yt(Ct)/lt.width,-Xe(Ct)/lt.height)}S.drawImage(lt,0,0),S.restore()}),C&&(sc(C),ll.push(C.canvas)),m&&(S.save(),S.globalCompositeOperation="source-over",S.strokeStyle="black",S.lineWidth=1,h.getTriangles().forEach(function(M,F,k){const B=M.target,V=(B[0][0]-A[0])/o,J=-(B[0][1]-A[1])/o,it=(B[1][0]-A[0])/o,$=-(B[1][1]-A[1])/o,tt=(B[2][0]-A[0])/o,rt=-(B[2][1]-A[1])/o;S.beginPath(),S.moveTo(it,$),S.lineTo(V,J),S.lineTo(tt,rt),S.closePath(),S.stroke()}),S.restore()),S.canvas}const TC=10,hp=.25;class RC{constructor(t,n,s,l,o,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const _=h?kx(L=>pe(h,Vd(L,this.targetProj_,this.sourceProj_))):Mu(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const A=L[0]+"/"+L[1];return d[A]||(d[A]=_(L)),d[A]},this.maxSourceExtent_=l,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!l&&!!this.sourceProj_.getExtent()&&Yt(l)>=Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const m=$s(s),y=Ju(s),E=Qu(s),x=Wu(s),S=this.transformInv_(m),R=this.transformInv_(y),T=this.transformInv_(E),C=this.transformInv_(x),O=TC+(c?Math.max(0,Math.ceil(Math.log2(yd(s)/(c*c*256*256)))):0);if(this.addQuad_(m,y,E,x,S,R,T,C,O),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(A,M,F){L=Math.min(L,A.source[0][0],A.source[1][0],A.source[2][0])}),this.triangles_.forEach(A=>{if(Math.max(A.source[0][0],A.source[1][0],A.source[2][0])-L>this.sourceWorldWidth_/2){const M=[[A.source[0][0],A.source[0][1]],[A.source[1][0],A.source[1][1]],[A.source[2][0],A.source[2][1]]];M[0][0]-L>this.sourceWorldWidth_/2&&(M[0][0]-=this.sourceWorldWidth_),M[1][0]-L>this.sourceWorldWidth_/2&&(M[1][0]-=this.sourceWorldWidth_),M[2][0]-L>this.sourceWorldWidth_/2&&(M[2][0]-=this.sourceWorldWidth_);const F=Math.min(M[0][0],M[1][0],M[2][0]);Math.max(M[0][0],M[1][0],M[2][0])-F<this.sourceWorldWidth_/2&&(A.source=M)}})}d={}}addTriangle_(t,n,s,l,o,c){this.triangles_.push({source:[l,o,c],target:[t,n,s]})}addQuad_(t,n,s,l,o,c,h,d,_){const m=R0([o,c,h,d]),y=this.sourceWorldWidth_?Yt(m)/this.sourceWorldWidth_:null,E=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let S=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const T=R0([t,n,s,l]);S=Yt(T)/this.targetWorldWidth_>hp||S}!x&&this.sourceProj_.isGlobal()&&y&&(S=y>hp||S)}if(!S&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Ue(m,this.maxSourceExtent_))return;let R=0;if(!S&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)S=!0;else if(R=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),R!=1&&R!=2&&R!=4&&R!=8)return}if(_>0){if(!S){const T=[(t[0]+s[0])/2,(t[1]+s[1])/2],C=this.transformInv_(T);let O;x?O=(il(o[0],E)+il(h[0],E))/2-il(C[0],E):O=(o[0]+h[0])/2-C[0];const L=(o[1]+h[1])/2-C[1];S=O*O+L*L>this.errorThresholdSquared_}if(S){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const T=[(n[0]+s[0])/2,(n[1]+s[1])/2],C=this.transformInv_(T),O=[(l[0]+t[0])/2,(l[1]+t[1])/2],L=this.transformInv_(O);this.addQuad_(t,n,T,O,o,c,C,L,_-1),this.addQuad_(O,T,s,l,L,C,h,d,_-1)}else{const T=[(t[0]+n[0])/2,(t[1]+n[1])/2],C=this.transformInv_(T),O=[(s[0]+l[0])/2,(s[1]+l[1])/2],L=this.transformInv_(O);this.addQuad_(t,T,O,l,o,C,L,d,_-1),this.addQuad_(T,n,s,O,C,c,h,L,_-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(R&11)==0&&this.addTriangle_(t,s,l,o,h,d),(R&14)==0&&this.addTriangle_(t,s,n,o,h,c),R&&((R&13)==0&&this.addTriangle_(n,l,t,c,d,o),(R&7)==0&&this.addTriangle_(n,l,s,c,d,h))}calculateSourceExtent(){const t=Rn();return this.triangles_.forEach(function(n,s,l){const o=n.source;Aa(t,o[0]),Aa(t,o[1]),Aa(t,o[2])}),t}getTriangles(){return this.triangles_}}const CC=.5;class jE extends yg{constructor(t,n,s,l,o,c,h,d,_,m,y,E){super(o,ht.IDLE,E),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=l,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const x=l.getTileCoordExtent(this.wrappedTileCoord_),S=this.targetTileGrid_.getExtent();let R=this.sourceTileGrid_.getExtent();const T=S?js(x,S):x;if(yd(T)===0){this.state=ht.EMPTY;return}const C=t.getExtent();C&&(R?R=js(R,C):R=C);const O=l.getResolution(this.wrappedTileCoord_[0]),L=SC(t,s,T,O);if(!isFinite(L)||L<=0){this.state=ht.EMPTY;return}const A=m!==void 0?m:CC;if(this.triangulation_=new RC(t,s,T,R,L*A,O),this.triangulation_.getTriangles().length===0){this.state=ht.EMPTY;return}this.sourceZ_=n.getZForResolution(L);let M=this.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(M[1]=Wt(M[1],R[1],R[3]),M[3]=Wt(M[3],R[1],R[3])):M=js(M,R)),!yd(M))this.state=ht.EMPTY;else{let F=0,k=0;t.canWrapX()&&(F=Yt(C),k=Math.floor((M[0]-C[0])/F)),$p(M.slice(),t,!0).forEach(V=>{const J=n.getTileRangeForExtentAndZ(V,this.sourceZ_);for(let it=J.minX;it<=J.maxX;it++)for(let $=J.minY;$<=J.maxY;$++){const tt=_(this.sourceZ_,it,$,h);if(tt){const rt=k*F;this.sourceTiles_.push({tile:tt,offset:rt})}}++k}),this.sourceTiles_.length===0&&(this.state=ht.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var l;const s=n.tile;if(s&&s.getState()==ht.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);o[0]+=n.offset,o[2]+=n.offset;const c=(l=this.clipExtent_)==null?void 0:l.slice();c&&(c[0]+=n.offset,c[2]+=n.offset),t.push({extent:o,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ht.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),l=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=xC(l,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ht.LOADED}this.changed()}load(){if(this.state==ht.IDLE){this.state=ht.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ht.IDLE||s==ht.LOADING){t++;const l=At(n,mt.CHANGE,o=>{const c=n.getState();(c==ht.LOADED||c==ht.ERROR||c==ht.EMPTY)&&(Kt(l),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(l)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,l){n.getState()==ht.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Kt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(sc(this.canvas_.getContext("2d")),ll.push(this.canvas_),this.canvas_=null),super.release()}}class bC{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Zu&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return zt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return zt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){zt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Gu(r,t,n,s){return s!==void 0?(s[0]=r,s[1]=t,s[2]=n,s):[r,t,n]}function wC(r,t,n){return r+"/"+t+"/"+n}function AC(r){return MC(r[0],r[1],r[2])}function MC(r,t,n){return(t<<r)+n}function OC(r,t){const n=r[0],s=r[1],l=r[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,l):!0}class KE{constructor(){u0(this,"pushMethodArgs_",(...t)=>(this.push_(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Du(),{get:(t,n)=>{if(typeof Du()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,l=n.length;s<l;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const DC=5;class LC extends ja{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=DC}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Ot()}getData(t){return null}prepareFrame(t){return Ot()}renderFrame(t,n){return Ot()}forEachFeatureAtCoordinate(t,n,s,l,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Et.LOADED||n.getState()===Et.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Et.LOADED&&n!=Et.ERROR&&t.addEventListener(mt.CHANGE,this.boundHandleImageChange_),n==Et.IDLE&&(t.load(),n=t.getState()),n==Et.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const fp=[];let Qr=null;function IC(){Qr=ce(1,1,void 0,{willReadFrequently:!0})}class qE extends LC{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Gn(),this.pixelTransform=Gn(),this.inversePixelTransform=Gn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Qr||IC(),Qr.clearRect(0,0,1,1);let l;try{Qr.drawImage(t,n,s,1,1,0,0,1,1),l=Qr.getImageData(0,0,1,1).data}catch{return Qr=null,null}return l}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const l=this.getLayer().getClassName();let o,c;if(t&&t.className===l&&(!s||t&&t.style.backgroundColor&&ps(hl(t.style.backgroundColor),hl(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&Vx(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=l;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=ce();const d=c.canvas;o.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const l=$s(s),o=Ju(s),c=Qu(s),h=Wu(s);pe(n.coordinateToPixelTransform,l),pe(n.coordinateToPixelTransform,o),pe(n.coordinateToPixelTransform,c),pe(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;pe(d,l),pe(d,o),pe(d,c),pe(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(l[0]),Math.round(l[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,l=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Yt(s)/l*c),d=Math.round(Xe(s)/l*c);Ai(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-d/2),cE(this.inversePixelTransform,this.pixelTransform);const _=qx(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=d?(m.width=h,m.height=d):this.context.clearRect(0,0,h,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const l=this.getLayer();if(l.hasListener(t)){const o=new PE(t,this.inversePixelTransform,s,n);l.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Sn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Sn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new KE),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Sn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Sn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,l,o,c,h){const d=o/2,_=c/2,m=l/n,y=-m,E=-t[0]+h,x=-t[1];return Ai(this.tempTransform,d,_,m,y,-s,E,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function nd(r,t,n,s){return`${r},${wC(t,n,s)}`}function id(r,t,n){if(!(n in r))return r[n]=new Set([t]),!0;const s=r[n],l=s.has(t);return l||s.add(t),!l}function NC(r,t,n){const s=r[n];return s?s.delete(t):!1}function dp(r,t){const n=r.layerStatesArray[r.layerIndex];n.extent&&(t=js(t,ds(n.extent,r.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const l=s.getTileGridForProjection(r.viewState.projection).getExtent();l&&(t=js(t,l))}return t}class zC extends qE{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new pg(0,0,0,0),this.tempTileCoord_=Gu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new bC(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,l){const o=this.tileCache_,h=this.getLayer().getSource(),d=nd(h.getKey(),t,n,s);let _;if(o.containsKey(d))_=o.get(d);else{if(_=h.getTile(t,n,s,l.pixelRatio,l.viewState.projection),!_)return null;o.set(d,_)}return _}getTile(t,n,s,l){const o=this.getOrCreateTile(t,n,s,l);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),l=pe(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!ul(o,l))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const y=d.getTileCoordForCoordAndZ(l,m),E=this.getTile(m,y[1],y[2],n);if(!E||E.getState()!==ht.LOADED)continue;const x=d.getOrigin(m),S=Ve(d.getTileSize(m)),R=d.getResolution(m);let T;if(E instanceof ZE||E instanceof jE)T=E.getImage();else if(E instanceof op){if(T=Ad(E.getData()),!T)continue}else continue;const C=Math.floor(_*((l[0]-x[0])/R-y[1]*S[0])),O=Math.floor(_*((x[1]-l[1])/R-y[2]*S[1])),L=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(T,C+L,O+L)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(t,n,s,l,o){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=It(d);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],E=h.getMapInternal(),x=Math.max(s-o,_.getMinZoom(),_.getZForResolution(Math.min(h.getMaxResolution(),E?E.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),S=c.rotation,R=S?Qp(c.center,c.resolution,S,t.size):void 0;for(let T=s;T>=x;--T){const C=_.getTileRangeForExtentAndZ(n,T,this.tempTileRange_),O=_.getResolution(T);for(let L=C.minX;L<=C.maxX;++L)for(let A=C.minY;A<=C.maxY;++A){if(S&&!_.tileCoordIntersectsViewport([T,L,A],R))continue;const M=this.getTile(T,L,A,t);if(!M||!id(l,M,T))continue;const k=M.getKey();if(y[k]=!0,M.getState()===ht.IDLE&&!t.tileQueue.isKeyQueued(k)){const B=Gu(T,L,A,this.tempTileCoord_);t.tileQueue.enqueue([M,m,_.getTileCoordCenter(B),O])}}}}findStaleTile_(t,n){const s=this.tileCache_,l=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const _=nd(h[d],l,o,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===ht.LOADED)return m.endTransition(It(this)),id(n,m,l),!0}}return!1}findAltTiles_(t,n,s,l){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,_=this.getLayer().getRenderSource().getKey();for(let m=o.minX;m<=o.maxX;++m)for(let y=o.minY;y<=o.maxY;++y){const E=nd(_,s,m,y);let x=!1;if(h.containsKey(E)){const S=h.peek(E);S.getState()===ht.LOADED&&(id(l,S,s),x=!0)}x||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],l=t.viewState,o=l.projection,c=l.resolution,h=l.center,d=t.pixelRatio,_=this.getLayer(),m=_.getSource(),y=m.getTileGridForProjection(o),E=y.getZForResolution(c,m.zDirection),x=y.getResolution(E),S=m.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==S&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=S):this.renderedSourceKey_=S;let R=t.extent;const T=m.getTilePixelRatio(d);this.prepareContainer(t,n);const C=this.context.canvas.width,O=this.context.canvas.height,L=s.extent&&ds(s.extent);L&&(R=js(R,ds(s.extent)));const A=x*C/2/T,M=x*O/2/T,F=[h[0]-A,h[1]-M,h[0]+A,h[1]+M],k={};this.renderedTiles.length=0;const B=_.getPreload();if(t.nextExtent){const W=y.getZForResolution(l.nextResolution,m.zDirection),et=dp(t,t.nextExtent);this.enqueueTiles(t,et,W,k,B)}const V=dp(t,R);if(this.enqueueTiles(t,V,E,k,0),B>0&&setTimeout(()=>{this.enqueueTiles(t,V,E-1,k,B-1)},0),!(E in k))return this.container;const J=It(this),it=t.time;for(const W of k[E]){const et=W.getState();if(et===ht.EMPTY)continue;const b=W.tileCoord;if(et===ht.LOADED&&W.getAlpha(J,it)===1){W.endTransition(J);continue}if(et!==ht.ERROR&&(this.renderComplete=!1),this.findStaleTile_(b,k)){NC(k,W,E),t.animate=!0;continue}if(this.findAltTiles_(y,b,E+1,k))continue;const Q=y.getMinZoom();for(let nt=E-1;nt>=Q&&!this.findAltTiles_(y,b,nt,k);--nt);}const $=x/c*d/T,tt=this.getRenderContext(t);Ai(this.tempTransform,C/2,O/2,$,$,0,-C/2,-O/2),s.extent&&this.clipUnrotated(tt,t,L),m.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const rt=Object.keys(k).map(Number);rt.sort(xi);let ot;const N=[],K=[];for(let W=rt.length-1;W>=0;--W){const et=rt[W],b=m.getTilePixelSize(et,d,o),U=y.getResolution(et)/x,Q=b[0]*U*$,nt=b[1]*U*$,ut=y.getTileCoordForCoordAndZ($s(F),et),lt=y.getTileCoordExtent(ut),Nt=pe(this.tempTransform,[T*(lt[0]-F[0])/x,T*(F[3]-lt[3])/x]),Ct=T*m.getGutterForProjection(o);for(const se of k[et]){if(se.getState()!==ht.LOADED)continue;const Ee=se.tileCoord,Jn=ut[1]-Ee[1],Es=Math.round(Nt[0]-(Jn-1)*Q),$n=ut[2]-Ee[2],Cn=Math.round(Nt[1]-($n-1)*nt),Ye=Math.round(Nt[0]-Jn*Q),un=Math.round(Nt[1]-$n*nt),ve=Es-Ye,Li=Cn-un,Ii=rt.length===1;let Yn=!1;ot=[Ye,un,Ye+ve,un,Ye+ve,un+Li,Ye,un+Li];for(let bn=0,Ni=N.length;bn<Ni;++bn)if(!Ii&&et<K[bn]){const ee=N[bn];Ue([Ye,un,Ye+ve,un+Li],[ee[0],ee[3],ee[4],ee[7]])&&(Yn||(tt.save(),Yn=!0),tt.beginPath(),tt.moveTo(ot[0],ot[1]),tt.lineTo(ot[2],ot[3]),tt.lineTo(ot[4],ot[5]),tt.lineTo(ot[6],ot[7]),tt.moveTo(ee[6],ee[7]),tt.lineTo(ee[4],ee[5]),tt.lineTo(ee[2],ee[3]),tt.lineTo(ee[0],ee[1]),tt.clip())}N.push(ot),K.push(et),this.drawTile(se,t,Ye,un,ve,Li,Ct,Ii),Yn&&tt.restore(),this.renderedTiles.unshift(se),this.updateUsedTiles(t.usedTiles,m,se)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Ia(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const W=(et,b)=>{const P=It(m),U=b.wantedTiles[P],Q=U?Object.keys(U).length:0;this.updateCacheSize(Q),this.tileCache_.expireCache()};t.postRenderFunctions.push(W)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,l,o,c,h,d){let _;if(t instanceof op){if(_=Ad(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),y=It(this),E=n.layerStatesArray[n.layerIndex],x=E.opacity*(d?t.getAlpha(y,n.time):1),S=x!==m.globalAlpha;S&&(m.save(),m.globalAlpha=x),m.drawImage(_,h,h,_.width-2*h,_.height-2*h,s,l,o,c),S&&m.restore(),x!==E.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const l=It(n);l in t||(t[l]={}),t[l][s.getKey()]=!0}}const Su={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class GC extends rc{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Su.PRELOAD)}setPreload(t){this.set(Su.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Su.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Su.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class UC extends GC{constructor(t){super(t)}createRenderer(){return new zC(this,{cacheSize:this.getCacheSize()})}}class VE{drawCustom(t,n,s,l,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const ct={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},xu=[ct.FILL],gs=[ct.STROKE],Zs=[ct.BEGIN_PATH],gp=[ct.CLOSE_PATH];class Qa extends VE{constructor(t,n,s,l){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=l,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),l=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,d=t.length;h<d;h+=n)l[0]=t[h],l[1]=t[h+1],ul(s,l)&&(o[c++]=l[0],o[c++]=l[1]);return c}appendFlatLineCoordinates(t,n,s,l,o,c){const h=this.coordinates;let d=h.length;const _=this.getBufferedMaxExtent();c&&(n+=l);let m=t[n],y=t[n+1];const E=this.tmpCoordinate_;let x=!0,S,R,T;for(S=n+l;S<s;S+=l)E[0]=t[S],E[1]=t[S+1],T=md(_,E),T!==R?(x&&(h[d++]=m,h[d++]=y,x=!1),h[d++]=E[0],h[d++]=E[1]):T===ye.INTERSECTING?(h[d++]=E[0],h[d++]=E[1],x=!1):x=!0,m=E[0],y=E[1],R=T;return(o&&x||S===n+l)&&(h[d++]=m,h[d++]=y),d}drawCustomCoordinates_(t,n,s,l,o){for(let c=0,h=s.length;c<h;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,l,!1,!1);o.push(_),n=d}return n}drawCustom(t,n,s,l,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let _,m,y,E,x;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),E=[];const S=t.getEndss();x=0;for(let R=0,T=S.length;R<T;++R){const C=[];x=this.drawCustomCoordinates_(_,x,S[R],h,C),E.push(C)}this.instructions.push([ct.CUSTOM,d,E,t,s,Y0,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,E,t,l||s,Y0,o]);break;case"Polygon":case"MultiLineString":y=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),x=this.drawCustomCoordinates_(_,0,t.getEnds(),h,y),this.instructions.push([ct.CUSTOM,d,y,t,s,Ou,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,y,t,l||s,Ou,o]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([ct.CUSTOM,d,m,t,s,tl,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,l||s,tl,o]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,h),m>d&&(this.instructions.push([ct.CUSTOM,d,m,t,s,tl,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,l||s,tl,o]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([ct.CUSTOM,d,m,t,s,void 0,o]),this.hitDetectionInstructions.push([ct.CUSTOM,d,m,t,l||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ct.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let l,o,c=-1;for(n=0;n<s;++n)l=t[n],o=l[0],o==ct.END_GEOMETRY?c=n:o==ct.BEGIN_GEOMETRY&&(l[2]=n,ZS(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=Qn(s||Ke)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=Qn(s||Xa);const l=t.getLineCap();n.lineCap=l!==void 0?l:fl;const o=t.getLineDash();n.lineDash=o?o.slice():Ti;const c=t.getLineDashOffset();n.lineDashOffset=c||Ri;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:dl;const d=t.getWidth();n.lineWidth=d!==void 0?d:Fa;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:Ua,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ct.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ct.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(s!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,l=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=l||o!=t.currentLineDash&&!ps(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(s!==void 0&&n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=l,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ct.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=jp(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Xd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class XC extends Qa{constructor(t,n,s,l){super(t,n,s,l),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!ul(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const l=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(l,o);this.instructions.push([ct.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const l=t.getFlatCoordinates(),o=[];for(let d=0,_=l.length;d<_;d+=t.getStride())(!this.maxExtent||ul(this.maxExtent,l.slice(d,d+2)))&&o.push(l[d],l[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ct.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),l=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=l[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=l[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class YC extends Qa{constructor(t,n,s,l){super(t,n,s,l)}drawFlatCoordinates_(t,n,s,l){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,l,!1,!1),h=[ct.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const l=this.state,o=l.strokeStyle,c=l.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(l,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,Ti,Ri],Zs);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(gs),this.endGeometry(n)}drawMultiLineString(t,n,s){const l=this.state,o=l.strokeStyle,c=l.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(l,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,Ti,Ri],Zs);const h=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=h.length;y<E;++y)m=this.drawFlatCoordinates_(d,m,h[y],_);this.hitDetectionInstructions.push(gs),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(gs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(gs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Zs)}}class _p extends Qa{constructor(t,n,s,l){super(t,n,s,l)}drawFlatCoordinatess_(t,n,s,l){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,d=s.length;this.instructions.push(Zs),this.hitDetectionInstructions.push(Zs);for(let _=0;_<d;++_){const m=s[_],y=this.coordinates.length,E=this.appendFlatLineCoordinates(t,n,m,l,!0,!h),x=[ct.MOVE_TO_LINE_TO,y,E];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(gp),this.hitDetectionInstructions.push(gp)),n=m}return c&&(this.instructions.push(xu),this.hitDetectionInstructions.push(xu)),h&&(this.instructions.push(gs),this.hitDetectionInstructions.push(gs)),n}drawCircle(t,n,s){const l=this.state,o=l.fillStyle,c=l.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),l.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Ke]),l.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,Ti,Ri]);const h=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const m=[ct.CIRCLE,_];this.instructions.push(Zs,m),this.hitDetectionInstructions.push(Zs,m),l.fillStyle!==void 0&&(this.instructions.push(xu),this.hitDetectionInstructions.push(xu)),l.strokeStyle!==void 0&&(this.instructions.push(gs),this.hitDetectionInstructions.push(gs)),this.endGeometry(n)}drawPolygon(t,n,s){const l=this.state,o=l.fillStyle,c=l.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),l.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Ke]),l.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,Ti,Ri]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,h,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const l=this.state,o=l.fillStyle,c=l.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),l.fillStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_FILL_STYLE,Ke]),l.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ct.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,Ti,Ri]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,E=h.length;y<E;++y)m=this.drawFlatCoordinatess_(d,m,h[y],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,l=n.length;s<l;++s)n[s]=Fs(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function FC(r,t,n,s,l){const o=[];let c=n,h=0,d=t.slice(n,2);for(;h<r&&c+l<s;){const[_,m]=d.slice(-2),y=t[c+l],E=t[c+l+1],x=Math.sqrt((y-_)*(y-_)+(E-m)*(E-m));if(h+=x,h>=r){const S=(r-h+x)/x,R=vn(_,y,S),T=vn(m,E,S);d.push(R,T),o.push(d),d=[R,T],h==r&&(c+=l),h=0}else if(h<r)d.push(t[c+l],t[c+l+1]),c+=l;else{const S=x-h,R=vn(_,y,S/x),T=vn(m,E,S/x);d.push(R,T),o.push(d),d=[R,T],h=0,c+=l}}return h>0&&o.push(d),o}function BC(r,t,n,s,l){let o=n,c=n,h=0,d=0,_=n,m,y,E,x,S,R,T,C,O,L;for(y=n;y<s;y+=l){const A=t[y],M=t[y+1];S!==void 0&&(O=A-S,L=M-R,x=Math.sqrt(O*O+L*L),T!==void 0&&(d+=E,m=Math.acos((T*O+C*L)/(E*x)),m>r&&(d>h&&(h=d,o=_,c=y),d=0,_=y-l)),E=x,T=O,C=L),S=A,R=M}return d+=x,d>h?[_,y]:[o,c]}const Uu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class PC extends Qa{constructor(t,n,s,l){super(t,n,s,l),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ke]={fillStyle:Ke},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const l=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!l&&!o)return;const h=this.coordinates;let d=h.length;const _=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!Ue(this.maxExtent,t.getExtent()))return;let E;if(m=t.getFlatCoordinates(),_=="LineString")E=[m.length];else if(_=="MultiLineString")E=t.getEnds();else if(_=="Polygon")E=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const T=t.getEndss();E=[];for(let C=0,O=T.length;C<O;++C)E.push(T[C][0])}this.beginGeometry(t,n,s);const x=c.repeat,S=x?void 0:c.textAlign;let R=0;for(let T=0,C=E.length;T<C;++T){let O;x?O=FC(x*this.resolution,m,R,E[T],y):O=[m.slice(R,E[T])];for(let L=0,A=O.length;L<A;++L){const M=O[L];let F=0,k=M.length;if(S==null){const V=BC(c.maxAngle,M,0,M.length,2);F=V[0],k=V[1]}for(let V=F;V<k;V+=y)h.push(M[V],M[V+1]);const B=h.length;R=E[T],this.drawChars_(d,B),d=B}}this.endGeometry(n)}else{let E=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||E.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const A=t.getFlatInteriorPoints();m=[];for(let M=0,F=A.length;M<F;M+=3)c.overflow||E.push(A[M+2]/this.resolution),m.push(A[M],A[M+1]);if(m.length===0)return;y=2;break}const x=this.appendFlatPointCoordinates(m,y);if(x===d)return;if(E&&(x-d)/2!==m.length/y){let A=d/2;E=E.filter((M,F)=>{const k=h[(A+F)*2]===m[F*y]&&h[(A+F)*2+1]===m[F*y+1];return k||--A,k})}this.saveTextStates_();const S=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,R=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let T=c.padding;if(T!=Hs&&(c.scale[0]<0||c.scale[1]<0)){let A=c.padding[0],M=c.padding[1],F=c.padding[2],k=c.padding[3];c.scale[0]<0&&(M=-M,k=-k),c.scale[1]<0&&(A=-A,F=-F),T=[A,M,F,k]}const C=this.pixelRatio;this.instructions.push([ct.DRAW_IMAGE,d,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,T==Hs?Hs:T.map(function(A){return A*C}),S,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]);const O=1/C,L=S?S.slice(0):null;L&&(L[1]=Ke),this.hitDetectionInstructions.push([ct.DRAW_IMAGE,d,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[O,O],NaN,this.declutterMode_,this.declutterImageWithText_,T,L,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ke:this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,l=this.strokeKey_;t&&(l in this.strokeStates||(this.strokeStates[l]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Ya,justify:n.justify,textBaseline:n.textBaseline||Lu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,l=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=Uu[l.textBaseline],m=this.textOffsetY_*d,y=this.text_,E=s?s.lineWidth*Math.abs(l.scale[0])/2:0;this.instructions.push([ct.DRAW_CHARS,t,n,_,l.overflow,h,l.maxAngle,d,m,o,E*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ct.DRAW_CHARS,t,n,_,l.overflow,h&&Ke,l.maxAngle,d,m,o,E*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,l,o;if(!t)this.text_="";else{const c=t.getFill();c?(l=this.textFillState_,l||(l={},this.textFillState_=l),l.fillStyle=Qn(c.getColor()||Ke)):(l=null,this.textFillState_=l);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const R=h.getLineDash(),T=h.getLineDashOffset(),C=h.getWidth(),O=h.getMiterLimit();o.lineCap=h.getLineCap()||fl,o.lineDash=R?R.slice():Ti,o.lineDashOffset=T===void 0?Ri:T,o.lineJoin=h.getLineJoin()||dl,o.lineWidth=C===void 0?Fa:C,o.miterLimit=O===void 0?Ua:O,o.strokeStyle=Qn(h.getColor()||Xa)}s=this.textState_;const d=t.getFont()||NE;HR(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Lu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Hs,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),y=t.getOffsetY(),E=t.getRotateWithView(),x=t.getKeepUpright(),S=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=E===void 0?!1:E,this.textKeepUpright_=x===void 0?!0:x,this.textRotation_=S===void 0?0:S,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:It(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=l&&l.fillStyle?typeof l.fillStyle=="string"?l.fillStyle:"|"+It(l.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const kC={Circle:_p,Default:Qa,Image:XC,LineString:YC,Polygon:_p,Text:PC};class HC{constructor(t,n,s,l){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=l,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const l in s){const o=s[l].finish();t[n][l]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let l=this.buildersByZIndex_[s];l===void 0&&(l={},this.buildersByZIndex_[s]=l);let o=l[n];if(o===void 0){const c=kC[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),l[n]=o}return o}}function ZC(r,t,n,s){let l=r[t],o=r[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=r[h],_=r[h+1];c+=Math.sqrt((d-l)*(d-l)+(_-o)*(_-o)),l=d,o=_}return c}function jC(r,t,n,s,l,o,c,h,d,_,m,y,E=!0){let x=r[t],S=r[t+1],R=0,T=0,C=0,O=0;function L(){R=x,T=S,t+=s,x=r[t],S=r[t+1],O+=C,C=Math.sqrt((x-R)*(x-R)+(S-T)*(S-T))}do L();while(t<n-s&&O+C<o);let A=C===0?0:(o-O)/C;const M=vn(R,x,A),F=vn(T,S,A),k=t-s,B=O,V=o+h*d(_,l,m);for(;t<n-s&&O+C<V;)L();A=C===0?0:(V-O)/C;const J=vn(R,x,A),it=vn(T,S,A);let $=!1;if(E)if(y){const K=[M,F,J,it];Wd(K,0,4,2,y,K,K),$=K[0]>K[2]}else $=M>J;const tt=Math.PI,rt=[],ot=k+s===t;t=k,C=0,O=B,x=r[t],S=r[t+1];let N;if(ot){L(),N=Math.atan2(S-T,x-R),$&&(N+=N>0?-tt:tt);const K=(J+M)/2,W=(it+F)/2;return rt[0]=[K,W,(V-o)/2,N,l],rt}l=l.replace(/\n/g," ");for(let K=0,W=l.length;K<W;){L();let et=Math.atan2(S-T,x-R);if($&&(et+=et>0?-tt:tt),N!==void 0){let ut=et-N;if(ut+=ut>tt?-2*tt:ut<-tt?2*tt:0,Math.abs(ut)>c)return null}N=et;const b=K;let P=0;for(;K<W;++K){const ut=$?W-K-1:K,lt=h*d(_,l[ut],m);if(t+s<n&&O+C<o+P+lt/2)break;P+=lt}if(K===b)continue;const U=$?l.substring(W-b,W-K):l.substring(b,K);A=C===0?0:(o+P/2-O)/C;const Q=vn(R,x,A),nt=vn(T,S,A);rt.push([Q,nt,P/2,et,U]),o+=P}return rt}const jr=Rn(),as=[],mi=[],yi=[],os=[];function mp(r){return r[3].declutterBox}const yp=new RegExp("[-----]");function sd(r,t){return t==="start"?t=yp.test(r)?"right":"left":t==="end"&&(t=yp.test(r)?"left":"right"),Uu[t]}function KC(r,t,n){return n>0&&r.push(`
`,""),r.push(t,""),r}function qC(r,t,n){return n%2===0&&(r+=t),r}class VC{constructor(t,n,s,l,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=l.instructions,this.coordinates=l.coordinates,this.coordinateCache_={},this.renderedTransform_=Gn(),this.hitDetectionInstructions=l.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=l.fillStates||{},this.strokeStates=l.strokeStates||{},this.textStates=l.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new KE:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,l){const o=t+n+s+l;if(this.labels_[o])return this.labels_[o];const c=l?this.strokeStates[l]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],y=d.justify?Uu[d.justify]:sd(Array.isArray(t)?t[0]:t,d.textAlign||Ya),E=l&&c.lineWidth?c.lineWidth:0,x=Array.isArray(t)?t:String(t).split(`
`).reduce(KC,[]),{width:S,height:R,widths:T,heights:C,lineWidths:O}=jR(d,x),L=S+E,A=[],M=(L+2)*m[0],F=(R+E)*m[1],k={width:M<0?Math.floor(M):Math.ceil(M),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:A};(m[0]!=1||m[1]!=1)&&A.push("scale",m),l&&(A.push("strokeStyle",c.strokeStyle),A.push("lineWidth",E),A.push("lineCap",c.lineCap),A.push("lineJoin",c.lineJoin),A.push("miterLimit",c.miterLimit),A.push("setLineDash",[c.lineDash]),A.push("lineDashOffset",c.lineDashOffset)),s&&A.push("fillStyle",h.fillStyle),A.push("textBaseline","middle"),A.push("textAlign","center");const B=.5-y;let V=y*L+B*E;const J=[],it=[];let $=0,tt=0,rt=0,ot=0,N;for(let K=0,W=x.length;K<W;K+=2){const et=x[K];if(et===`
`){tt+=$,$=0,V=y*L+B*E,++ot;continue}const b=x[K+1]||d.font;b!==N&&(l&&J.push("font",b),s&&it.push("font",b),N=b),$=Math.max($,C[rt]);const P=[et,V+B*T[rt]+y*(T[rt]-O[ot]),.5*(E+$)+tt];V+=T[rt],l&&J.push("strokeText",P),s&&it.push("fillText",P),++rt}return Array.prototype.push.apply(A,J),Array.prototype.push.apply(A,it),this.labels_[o]=k,k}replayTextBackground_(t,n,s,l,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,l),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,l,o,c,h,d,_,m,y,E,x,S,R,T){h*=E[0],d*=E[1];let C=s-h,O=l-d;const L=o+_>t?t-_:o,A=c+m>n?n-m:c,M=S[3]+L*E[0]+S[1],F=S[0]+A*E[1]+S[2],k=C-S[3],B=O-S[0];(R||y!==0)&&(as[0]=k,os[0]=k,as[1]=B,mi[1]=B,mi[0]=k+M,yi[0]=mi[0],yi[1]=B+F,os[1]=yi[1]);let V;return y!==0?(V=Ai(Gn(),s,l,1,1,y,-s,-l),pe(V,as),pe(V,mi),pe(V,yi),pe(V,os),wi(Math.min(as[0],mi[0],yi[0],os[0]),Math.min(as[1],mi[1],yi[1],os[1]),Math.max(as[0],mi[0],yi[0],os[0]),Math.max(as[1],mi[1],yi[1],os[1]),jr)):wi(Math.min(k,k+M),Math.min(B,B+F),Math.max(k,k+M),Math.max(B,B+F),jr),x&&(C=Math.round(C),O=Math.round(O)),{drawImageX:C,drawImageY:O,drawImageW:L,drawImageH:A,originX:_,originY:m,declutterBox:{minX:jr[0],minY:jr[1],maxX:jr[2],maxY:jr[3],value:T},canvasTransform:V,scale:E}}replayImageOrLabel_(t,n,s,l,o,c,h){const d=!!(c||h),_=l.declutterBox,m=h?h[2]*l.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,as,mi,yi,os,c,h),KR(t,l.canvasTransform,o,s,l.originX,l.originY,l.drawImageW,l.drawImageH,l.drawImageX,l.drawImageY,l.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=pe(this.renderedTransform_,[0,0]),l=512*this.pixelRatio;t.save(),t.translate(s[0]%l,s[1]%l),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,s,l){const o=this.textStates[n],c=this.createLabel(t,n,l,s),h=this.strokeStates[s],d=this.pixelRatio,_=sd(Array.isArray(t)?t[0]:t,o.textAlign||Ya),m=Uu[o.textBaseline||Lu],y=h&&h.lineWidth?h.lineWidth:0,E=c.width/d-2*o.scale[0],x=_*E+2*(.5-_)*y,S=m*c.height/d+2*(.5-m)*y;return{label:c,anchorX:x,anchorY:S}}execute_(t,n,s,l,o,c,h,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&ps(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=ms(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),Zx(this.renderedTransform_,s));let y=0;const E=l.length;let x=0,S,R,T,C,O,L,A,M,F,k,B,V,J,it=0,$=0;const tt=this.coordinateCache_,rt=this.viewRotation_,ot=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,N={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:rt},K=this.instructions!=l||this.overlaps?0:200;let W,et,b,P;for(;y<E;){const U=l[y];switch(U[0]){case ct.BEGIN_GEOMETRY:W=U[1],P=U[3],W.getGeometry()?h!==void 0&&!Ue(h,P.getExtent())?y=U[2]+1:++y:y=U[2],_&&(_.zIndex=U[4]);break;case ct.BEGIN_PATH:it>K&&(this.fill_(t),it=0),$>K&&(t.stroke(),$=0),!it&&!$&&(t.beginPath(),O=NaN,L=NaN),++y;break;case ct.CIRCLE:x=U[1];const nt=m[x],ut=m[x+1],lt=m[x+2],Nt=m[x+3],Ct=lt-nt,se=Nt-ut,Ee=Math.sqrt(Ct*Ct+se*se);t.moveTo(nt+Ee,ut),t.arc(nt,ut,Ee,0,2*Math.PI,!0),++y;break;case ct.CLOSE_PATH:t.closePath(),++y;break;case ct.CUSTOM:x=U[1],S=U[2];const Jn=U[3],Es=U[4],$n=U[5];N.geometry=Jn,N.feature=W,y in tt||(tt[y]=[]);const Cn=tt[y];$n?$n(m,x,S,2,Cn):(Cn[0]=m[x],Cn[1]=m[x+1],Cn.length=2),_&&(_.zIndex=U[6]),Es(Cn,N),++y;break;case ct.DRAW_IMAGE:x=U[1],S=U[2],F=U[3],R=U[4],T=U[5];let Ye=U[6];const un=U[7],ve=U[8],Li=U[9],Ii=U[10];let Yn=U[11];const bn=U[12];let Ni=U[13];C=U[14]||"declutter";const ee=U[15];if(!F&&U.length>=20){k=U[19],B=U[20],V=U[21],J=U[22];const Ne=this.drawLabelWithPointPlacement_(k,B,V,J);F=Ne.label,U[3]=F;const An=U[23];R=(Ne.anchorX-An)*this.pixelRatio,U[4]=R;const Ae=U[24];T=(Ne.anchorY-Ae)*this.pixelRatio,U[5]=T,Ye=F.height,U[6]=Ye,Ni=F.width,U[13]=Ni}let yl;U.length>25&&(yl=U[25]);let pl,Fn,he;U.length>17?(pl=U[16],Fn=U[17],he=U[18]):(pl=Hs,Fn=null,he=null),Ii&&ot?Yn+=rt:!Ii&&!ot&&(Yn-=rt);let Bn=0;for(;x<S;x+=2){if(yl&&yl[Bn++]<Ni/this.pixelRatio)continue;const Ne=this.calculateImageOrLabelDimensions_(F.width,F.height,m[x],m[x+1],Ni,Ye,R,T,ve,Li,Yn,bn,o,pl,!!Fn||!!he,W),An=[t,n,F,Ne,un,Fn,he];if(d){let Ae,Qe,Fe;if(ee){const xt=S-x;if(!ee[xt]){ee[xt]={args:An,declutterMode:C};continue}const Qt=ee[xt];Ae=Qt.args,Qe=Qt.declutterMode,delete ee[xt],Fe=mp(Ae)}let fe,Ht;if(Ae&&(Qe!=="declutter"||!d.collides(Fe))&&(fe=!0),(C!=="declutter"||!d.collides(Ne.declutterBox))&&(Ht=!0),Qe==="declutter"&&C==="declutter"){const xt=fe&&Ht;fe=xt,Ht=xt}fe&&(Qe!=="none"&&d.insert(Fe),this.replayImageOrLabel_.apply(this,Ae)),Ht&&(C!=="none"&&d.insert(Ne.declutterBox),this.replayImageOrLabel_.apply(this,An))}else this.replayImageOrLabel_.apply(this,An)}++y;break;case ct.DRAW_CHARS:const we=U[1],Ja=U[2],El=U[3],yc=U[4];J=U[5];const er=U[6],vs=U[7],Pn=U[8];V=U[9];const zi=U[10];k=U[11],Array.isArray(k)&&(k=k.reduce(qC,"")),B=U[12];const Gi=[U[13],U[13]];C=U[14]||"declutter";const pc=U[15],nr=this.textStates[B],Ui=nr.font,ti=[nr.scale[0]*vs,nr.scale[1]*vs];let wn;Ui in this.widths_?wn=this.widths_[Ui]:(wn={},this.widths_[Ui]=wn);const $a=ZC(m,we,Ja,2),vl=Math.abs(ti[0])*tp(Ui,k,wn);if(yc||vl<=$a){const Ne=this.textStates[B].textAlign,An=($a-vl)*sd(k,Ne),Ae=jC(m,we,Ja,2,k,An,er,Math.abs(ti[0]),tp,Ui,wn,ot?0:this.viewRotation_,pc);t:if(Ae){const Qe=[];let Fe,fe,Ht,xt,Qt;if(V)for(Fe=0,fe=Ae.length;Fe<fe;++Fe){Qt=Ae[Fe],Ht=Qt[4],xt=this.createLabel(Ht,B,"",V),R=Qt[2]+(ti[0]<0?-zi:zi),T=El*xt.height+(.5-El)*2*zi*ti[1]/ti[0]-Pn;const Je=this.calculateImageOrLabelDimensions_(xt.width,xt.height,Qt[0],Qt[1],xt.width,xt.height,R,T,0,0,Qt[3],Gi,!1,Hs,!1,W);if(d&&C==="declutter"&&d.collides(Je.declutterBox))break t;Qe.push([t,n,xt,Je,1,null,null])}if(J)for(Fe=0,fe=Ae.length;Fe<fe;++Fe){Qt=Ae[Fe],Ht=Qt[4],xt=this.createLabel(Ht,B,J,""),R=Qt[2],T=El*xt.height-Pn;const Je=this.calculateImageOrLabelDimensions_(xt.width,xt.height,Qt[0],Qt[1],xt.width,xt.height,R,T,0,0,Qt[3],Gi,!1,Hs,!1,W);if(d&&C==="declutter"&&d.collides(Je.declutterBox))break t;Qe.push([t,n,xt,Je,1,null,null])}d&&C!=="none"&&d.load(Qe.map(mp));for(let Je=0,Ec=Qe.length;Je<Ec;++Je)this.replayImageOrLabel_.apply(this,Qe[Je])}}++y;break;case ct.END_GEOMETRY:if(c!==void 0){W=U[1];const Ne=c(W,P,C);if(Ne)return Ne}++y;break;case ct.FILL:K?it++:this.fill_(t),++y;break;case ct.MOVE_TO_LINE_TO:for(x=U[1],S=U[2],et=m[x],b=m[x+1],t.moveTo(et,b),O=et+.5|0,L=b+.5|0,x+=2;x<S;x+=2)et=m[x],b=m[x+1],A=et+.5|0,M=b+.5|0,(x==S-2||A!==O||M!==L)&&(t.lineTo(et,b),O=A,L=M);++y;break;case ct.SET_FILL_STYLE:this.alignAndScaleFill_=U[2],it&&(this.fill_(t),it=0,$&&(t.stroke(),$=0)),t.fillStyle=U[1],++y;break;case ct.SET_STROKE_STYLE:$&&(t.stroke(),$=0),this.setStrokeStyle_(t,U),++y;break;case ct.STROKE:K?$++:t.stroke(),++y;break;default:++y;break}}it&&this.fill_(t),$&&t.stroke()}execute(t,n,s,l,o,c){this.viewRotation_=l,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,l,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,l,o)}}const el=["Polygon","Circle","LineString","Image","Text","Default"],WE=["Image","Text"],WC=el.filter(r=>!WE.includes(r));class QC{constructor(t,n,s,l,o,c,h){this.maxExtent_=t,this.overlaps_=l,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Gn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let l=this.executorsByZIndex_[s];l===void 0&&(l={},this.executorsByZIndex_[s]=l);const o=t[s];for(const c in o){const h=o[c];l[c]=new VC(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let l=0,o=t.length;l<o;++l)if(t[l]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,l,o,c){l=Math.round(l);const h=l*2+1,d=Ai(this.hitDetectionTransform_,l+.5,l+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=ce(h,h));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):_||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Rn(),Aa(y,t),Xd(y,n*(this.renderBuffer_+l),y));const E=JC(l);let x;function S(M,F,k){const B=m.getImageData(0,0,h,h).data;for(let V=0,J=E.length;V<J;V++)if(B[E[V]]>0){if(!c||k==="none"||x!=="Image"&&x!=="Text"||c.includes(M)){const it=(E[V]-3)/4,$=l-it%h,tt=l-(it/h|0),rt=o(M,F,$*$+tt*tt);if(rt)return rt}m.clearRect(0,0,h,h);break}}const R=Object.keys(this.executorsByZIndex_).map(Number);R.sort(xi);let T,C,O,L,A;for(T=R.length-1;T>=0;--T){const M=R[T].toString();for(O=this.executorsByZIndex_[M],C=el.length-1;C>=0;--C)if(x=el[C],L=O[x],L!==void 0&&(A=L.executeHitDetection(m,d,s,S,y),A))return A}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],l=n[1],o=n[2],c=n[3],h=[s,l,s,c,o,c,o,l];return ms(h,0,8,2,t,h),h}isEmpty(){return ol(this.executorsByZIndex_)}execute(t,n,s,l,o,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?HS:xi),c=c||el;const _=el.length;for(let m=0,y=d.length;m<y;++m){const E=d[m].toString(),x=this.executorsByZIndex_[E];for(let S=0,R=c.length;S<R;++S){const T=c[S],C=x[T];if(C!==void 0){const O=h===null?void 0:C.getZIndexContext(),L=O?O.getContext():t,A=this.maxExtent_&&T!=="Image"&&T!=="Text";if(A&&(L.save(),this.clip(L,s)),!O||T==="Text"||T==="Image"?C.execute(L,n,s,l,o,h):O.pushFunction(M=>C.execute(M,n,s,l,o,h)),A&&L.restore(),O){O.offset();const M=d[m]*_+S;this.deferredZIndexContexts_[M]||(this.deferredZIndexContexts_[M]=[]),this.deferredZIndexContexts_[M].push(O)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(xi);for(let s=0,l=n.length;s<l;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const rd={};function JC(r){if(rd[r]!==void 0)return rd[r];const t=r*2+1,n=r*r,s=new Array(n+1);for(let o=0;o<=r;++o)for(let c=0;c<=r;++c){const h=o*o+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((r+o)*t+(r+c))*4+3),o>0&&d.push(((r-o)*t+(r+c))*4+3),c>0&&(d.push(((r+o)*t+(r-c))*4+3),o>0&&d.push(((r-o)*t+(r-c))*4+3))}const l=[];for(let o=0,c=s.length;o<c;++o)s[o]&&l.push(...s[o]);return rd[r]=l,l}class $C extends VE{constructor(t,n,s,l,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=l,this.transformRotation_=l?qu(Math.atan2(l[1],l[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Gn()}drawImages_(t,n,s,l){if(!this.image_)return;const o=ms(t,n,s,l,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const E=o[m]-this.imageAnchorX_,x=o[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const S=E+this.imageAnchorX_,R=x+this.imageAnchorY_;Ai(h,S,R,1,1,_,-S,-R),c.save(),c.transform.apply(c,h),c.translate(S,R),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,E,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,l){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=ms(t,n,s,l,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=l){const d=o[n]+this.textOffsetX_,_=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,l,o){const c=this.context_,h=ms(t,n,s,l,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;o&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(h[_],h[_+1]);return o&&c.closePath(),s}drawRings_(t,n,s,l){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],l,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ue(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=eT(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],l=n[3]-n[1],o=Math.sqrt(s*s+l*l),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,l=n.length;s<l;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ue(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Ue(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,l=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)o=this.moveToLineTo_(l,o,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ue(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ue(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let l=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=o.length;h<d;++h){const _=o[h];l=this.drawRings_(s,l,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),ps(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,l=t.textAlign?t.textAlign:Ya;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=l&&(s.textAlign=l,n.textAlign=l),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=l,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:l,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:Qn(s||Ke)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),l=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=o||Ti;this.strokeState_={lineCap:l!==void 0?l:fl,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Ri)*this.pixelRatio_,lineJoin:h!==void 0?h:dl,lineWidth:(d!==void 0?d:Fa)*this.pixelRatio_,miterLimit:_!==void 0?_:Ua,strokeStyle:Qn(s||Xa)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),l=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=l[0]*s,this.imageAnchorY_=l[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const x=n.getColor();this.textFillState_={fillStyle:Qn(x||Ke)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const x=s.getColor(),S=s.getLineCap(),R=s.getLineDash(),T=s.getLineDashOffset(),C=s.getLineJoin(),O=s.getWidth(),L=s.getMiterLimit();this.textStrokeState_={lineCap:S!==void 0?S:fl,lineDash:R||Ti,lineDashOffset:T||Ri,lineJoin:C!==void 0?C:dl,lineWidth:O!==void 0?O:Fa,miterLimit:L!==void 0?L:Ua,strokeStyle:Qn(x||Xa)}}const l=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:l!==void 0?l:NE,textAlign:y!==void 0?y:Ya,textBaseline:E!==void 0?E:Lu},this.text_=m!==void 0?Array.isArray(m)?m.reduce((x,S,R)=>x+=R%2?" ":S,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const Vn=.5;function tb(r,t,n,s,l,o,c,h,d){const _=l,m=r[0]*Vn,y=r[1]*Vn,E=ce(m,y);E.imageSmoothingEnabled=!1;const x=E.canvas,S=new $C(E,Vn,l,null,c,h,null),R=n.length,T=Math.floor((256*256*256-1)/R),C={};for(let L=1;L<=R;++L){const A=n[L-1],M=A.getStyleFunction()||s;if(!M)continue;let F=M(A,o);if(!F)continue;Array.isArray(F)||(F=[F]);const B=(L*T).toString(16).padStart(7,"#00000");for(let V=0,J=F.length;V<J;++V){const it=F[V],$=it.getGeometryFunction()(A);if(!$||!Ue(_,$.getExtent()))continue;const tt=it.clone(),rt=tt.getFill();rt&&rt.setColor(B);const ot=tt.getStroke();ot&&(ot.setColor(B),ot.setLineDash(null)),tt.setText(void 0);const N=it.getImage();if(N){const b=N.getImageSize();if(!b)continue;const P=ce(b[0],b[1],void 0,{alpha:!1}),U=P.canvas;P.fillStyle=B,P.fillRect(0,0,U.width,U.height),tt.setImage(new uc({img:U,anchor:N.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:N.getOrigin(),opacity:1,size:N.getSize(),scale:N.getScale(),rotation:N.getRotation(),rotateWithView:N.getRotateWithView()}))}const K=tt.getZIndex()||0;let W=C[K];W||(W={},C[K]=W,W.Polygon=[],W.Circle=[],W.LineString=[],W.Point=[]);const et=$.getType();if(et==="GeometryCollection"){const b=$.getGeometriesArrayRecursive();for(let P=0,U=b.length;P<U;++P){const Q=b[P];W[Q.getType().replace("Multi","")].push(Q,tt)}}else W[et.replace("Multi","")].push($,tt)}}const O=Object.keys(C).map(Number).sort(xi);for(let L=0,A=O.length;L<A;++L){const M=C[O[L]];for(const F in M){const k=M[F];for(let B=0,V=k.length;B<V;B+=2){S.setStyle(k[B+1]);for(let J=0,it=t.length;J<it;++J)S.setTransform(t[J]),S.drawGeometry(k[B])}}}return E.getImageData(0,0,x.width,x.height)}function eb(r,t,n){const s=[];if(n){const l=Math.floor(Math.round(r[0])*Vn),o=Math.floor(Math.round(r[1])*Vn),c=(Wt(l,0,n.width-1)+Wt(o,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&s.push(t[m/y-1])}return s}const nb=.5,QE={Point:cb,LineString:ab,Polygon:fb,MultiPoint:hb,MultiLineString:ob,MultiPolygon:ub,GeometryCollection:lb,Circle:sb};function ib(r,t){return parseInt(It(r),10)-parseInt(It(t),10)}function pp(r,t){const n=JE(r,t);return n*n}function JE(r,t){return nb*r/t}function sb(r,t,n,s,l){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(o,c),d.drawCircle(t,s,l)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function Ep(r,t,n,s,l,o,c,h){const d=[],_=n.getImage();if(_){let E=!0;const x=_.getImageState();x==Et.LOADED||x==Et.ERROR?E=!1:x==Et.IDLE&&_.load(),E&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>l(null)),rb(r,t,n,s,o,c,h),y}function rb(r,t,n,s,l,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,l);if(n.getRenderer())$E(r,d,n,t,c);else{const m=QE[d.getType()];m(r,d,n,t,c,o)}}function $E(r,t,n,s,l){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)$E(r,c[h],n,s,l);return}r.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),l)}function lb(r,t,n,s,l,o){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const _=QE[c[h].getType()];_(r,c[h],n,s,l,o)}}function ab(r,t,n,s,l){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,l)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,l)}}function ob(r,t,n,s,l){const o=n.getStroke();if(o){const h=r.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,l)}const c=n.getText();if(c&&c.getText()){const h=r.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,l)}}function ub(r,t,n,s,l){const o=n.getFill(),c=n.getStroke();if(c||o){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawMultiPolygon(t,s,l)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,l)}}function cb(r,t,n,s,l,o){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),_=o&&c&&d?{}:void 0;if(c){if(c.getImageState()!=Et.LOADED)return;const m=r.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,l)}if(d){const m=r.getBuilder(n.getZIndex(),"Text");m.setTextStyle(h,_),m.drawText(t,s,l)}}function hb(r,t,n,s,l,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=o&&h&&_?{}:void 0;if(h){if(c.getImageState()!=Et.LOADED)return;const y=r.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,s,l)}if(_){const y=r.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,m),y.drawText(t,s,l)}}function fb(r,t,n,s,l){const o=n.getFill(),c=n.getStroke();if(o||c){const d=r.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawPolygon(t,s,l)}const h=n.getText();if(h&&h.getText()){const d=r.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,l)}}class db extends qE{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Rn(),this.wrappedRenderedExtent_=Rn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const l=n.extent,o=n.viewState,c=o.center,h=o.resolution,d=o.projection,_=o.rotation,m=d.getExtent(),y=this.getLayer().getSource(),E=this.getLayer().getDeclutter(),x=n.pixelRatio,S=n.viewHints,R=!(S[Ie.ANIMATING]||S[Ie.INTERACTING]),T=this.context,C=Math.round(Yt(l)/h*x),O=Math.round(Xe(l)/h*x),L=y.getWrapX()&&d.canWrapX(),A=L?Yt(m):null,M=L?Math.ceil((l[2]-m[2])/A)+1:1;let F=L?Math.floor((l[0]-m[0])/A):0;do{let k=this.getRenderTransform(c,h,0,x,C,O,F*A);n.declutter&&(k=k.slice(0)),t.execute(T,[T.canvas.width,T.canvas.height],k,_,R,s===void 0?el:s?WE:WC,s?E&&n.declutter[E]:void 0)}while(++F<M)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ce(this.context.canvas.width,this.context.canvas.height,fp))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,sc(this.context),fp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const l=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Sn.PRERENDER)||this.getLayer().hasListener(Sn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,t),l.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=ds(s.extent);h=Ue(d,t.extent),this.clipped_=h&&!Jr(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==l.rotation&&(this.renderedRotation_=l.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),l=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],y=s[0]*Vn,E=s[1]*Vn;m.push(this.getRenderTransform(l,o,c,Vn,y,E,0).slice());const x=_.getSource(),S=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!Jr(S,d)){let R=d[0];const T=Yt(S);let C=0,O;for(;R<S[0];)--C,O=T*C,m.push(this.getRenderTransform(l,o,c,Vn,y,E,O).slice()),R+=T;for(C=0,R=d[2];R>S[2];)++C,O=T*C,m.push(this.getRenderTransform(l,o,c,Vn,y,E,O).slice()),R-=T}this.hitDetectionImageData_=tb(s,m,this.renderedFeatures_,_.getStyleFunction(),d,o,c,pp(o,this.renderedPixelRatio_))}n(eb(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,l,o){var E,x;if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),_={},m=function(S,R,T){const C=It(S),O=_[C];if(O){if(O!==!0&&T<O.distanceSq){if(T===0)return _[C]=!0,o.splice(o.lastIndexOf(O),1),l(S,d,R);O.geometry=R,O.distanceSq=T}}else{if(T===0)return _[C]=!0,l(S,d,R);o.push(_[C]={feature:S,layer:d,geometry:R,distanceSq:T,callback:l})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,m,y?(x=(E=n.declutter)==null?void 0:E[y])==null?void 0:x.all().map(S=>S.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const l=t.viewHints[Ie.ANIMATING],o=t.viewHints[Ie.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&l||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,y=_.resolution,E=t.pixelRatio,x=n.getRevision(),S=n.getRenderBuffer();let R=n.getRenderOrder();R===void 0&&(R=ib);const T=_.center.slice(),C=Xd(d,S*y),O=C.slice(),L=[C.slice()],A=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!Jr(A,t.extent)){const rt=Yt(A),ot=Math.max(Yt(C)/2,rt);C[0]=A[0]-ot,C[2]=A[2]+ot,tE(T,m);const N=Jp(L[0],m);N[0]<A[0]&&N[2]<A[2]?L.push([N[0]+rt,N[1],N[2]+rt,N[3]]):N[0]>A[0]&&N[2]>A[2]&&L.push([N[0]-rt,N[1],N[2]-rt,N[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==x&&this.renderedRenderOrder_==R&&this.renderedFrameDeclutter_===!!t.declutter&&Jr(this.wrappedRenderedExtent_,C))return ps(this.renderedExtent_,O)||(this.hitDetectionImageData_=null,this.renderedExtent_=O),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const M=new HC(JE(y,E),C,y,E);let F;for(let rt=0,ot=L.length;rt<ot;++rt)s.loadFeatures(L[rt],y,m);const k=pp(y,E);let B=!0;const V=(rt,ot)=>{let N;const K=rt.getStyleFunction()||n.getStyleFunction();if(K&&(N=K(rt,y)),N){const W=this.renderFeature(rt,k,N,M,F,this.getLayer().getDeclutter(),ot);B=B&&!W}},J=uE(C),it=s.getFeaturesInExtent(J);R&&it.sort(R);for(let rt=0,ot=it.length;rt<ot;++rt)V(it[rt],rt);this.renderedFeatures_=it,this.ready=B;const $=M.finish(),tt=new QC(C,y,E,s.getOverlaps(),$,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=x,this.renderedRenderOrder_=R,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=O,this.wrappedRenderedExtent_=C,this.renderedCenter_=T,this.renderedProjection_=m,this.renderedPixelRatio_=E,this.replayGroup_=tt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,l,o,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=Ep(l,t,s[_],n,this.boundHandleStyleImageChange_,o,c,h)||d;else d=Ep(l,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return d}}class vp extends BE{constructor(t){super(t)}createRenderer(){return new db(this)}}let gb=!1;function _b(r,t,n,s,l,o,c){const h=new XMLHttpRequest;h.open("GET",typeof r=="function"?r(n,s,l):r,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=gb,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=h.responseText:_=="xml"?m=h.responseXML||h.responseText:_=="arraybuffer"&&(m=h.response),m?o(t.readFeatures(m,{extent:n,featureProjection:l}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function Sp(r,t){return function(n,s,l,o,c){_b(r,t,n,s,l,(h,d)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),c!==void 0&&c()})}}function mb(r,t){return[[-1/0,-1/0,1/0,1/0]]}class Xu extends Xn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Xu(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Kt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=At(t,mt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?yb(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function yb(r){if(typeof r=="function")return r;let t;return Array.isArray(r)?t=r:(zt(typeof r.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[r]),function(){return t}}function pb(r,t,n,s){const l=[];let o=Rn();for(let c=0,h=n.length;c<h;++c){const d=n[c];o=Yd(r,t,d[0],s),l.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=d[d.length-1]}return l}function xp(r,t,n,s,l,o,c){let h,d;const _=(n-t)/s;if(_===1)h=t;else if(_===2)h=t,d=l;else if(_!==0){let m=r[t],y=r[t+1],E=0;const x=[0];for(let T=t+s;T<n;T+=s){const C=r[T],O=r[T+1];E+=Math.sqrt((C-m)*(C-m)+(O-y)*(O-y)),x.push(E),m=C,y=O}const S=l*E,R=kS(x,S);R<0?(d=(S-x[-R-2])/(x[-R-1]-x[-R-2]),h=t+(-R-2)*s):h=t+R*s}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:d===void 0?r[h+m]:vn(r[h+m],r[h+s+m],d);return o}class Oa extends nc{constructor(t,n,s){super(),s!==void 0&&n===void 0?this.setFlatCoordinates(s,t):(n=n||0,this.setCenterAndRadius(t,n,s))}clone(){const t=new Oa(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,l){const o=this.flatCoordinates,c=t-o[0],h=n-o[1],d=c*c+h*h;if(d<l){if(d===0)for(let _=0;_<this.stride;++_)s[_]=o[_];else{const _=this.getRadius()/Math.sqrt(d);s[0]=o[0]+_*c,s[1]=o[1]+_*h;for(let m=2;m<this.stride;++m)s[m]=o[m]}return s.length=this.stride,d}return l}containsXY(t,n){const s=this.flatCoordinates,l=t-s[0],o=n-s[1];return l*l+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const n=this.flatCoordinates,s=n[this.stride]-n[0];return wi(n[0]-s,n[1]-s,n[0]+s,n[1]+s,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+n*n}getType(){return"Circle"}intersectsExtent(t){const n=this.getExtent();if(Ue(t,n)){const s=this.getCenter();return t[0]<=s[0]&&t[2]>=s[0]||t[1]<=s[1]&&t[3]>=s[1]?!0:Fd(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){const n=this.stride,s=this.flatCoordinates[n]-this.flatCoordinates[0],l=t.slice();l[n]=l[0]+s;for(let o=1;o<n;++o)l[n+o]=t[o];this.setFlatCoordinates(this.layout,l),this.changed()}setCenterAndRadius(t,n,s){this.setLayout(s,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const l=this.flatCoordinates;let o=gE(l,0,t,this.stride);l[o++]=l[0]+n;for(let c=1,h=this.stride;c<h;++c)l[o++]=l[c];l.length=o,this.changed()}getCoordinates(){return null}setCoordinates(t,n){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,n){const s=this.getCenter(),l=this.getStride();this.setCenter(Wd(s,0,s.length,l,t,n,s)),this.changed()}}const Tp=Gn();class In{constructor(t,n,s,l,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=l,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Vp(this.flatCoordinates_):Yd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=qs(this.getExtent());this.flatInteriorPoints_=$d(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=gT(this.flatCoordinates_,this.ends_),n=pb(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=uT(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=xp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let l=0,o=s.length;l<o;++l){const c=s[l],h=xp(t,n,c,2,.5);Ud(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=We(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const l=Xe(s)/Xe(n);Ai(Tp,s[0],s[3],l,-l,0,0,0),ms(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Tp,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new In(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Bp((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let l;switch(this.type_){case"LineString":s.length=Qd(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),l=[s.length];break;case"MultiLineString":l=[],s.length=lT(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,l);break;case"Polygon":l=[],s.length=mE(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,l);break}return l&&(this.simplifiedGeometry_=new In(this.type_,s,l,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}In.prototype.getFlatCoordinates=In.prototype.getOrientedFlatCoordinates;class Rp{constructor(t){this.rbush_=new AE(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[It(n)]=s}load(t,n){const s=new Array(n.length);for(let l=0,o=n.length;l<o;l++){const c=t[l],h=n[l],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[l]=d,this.items_[It(h)]=d}this.rbush_.load(s)}remove(t){const n=It(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[It(n)],l=[s.minX,s.minY,s.maxX,s.maxY];Ia(l,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(l){return l.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let l=0,o=t.length;l<o;l++)if(s=n(t[l]),s)return s;return s}isEmpty(){return ol(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return wi(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class tv extends Xn{constructor(t){super(),this.projection=We(t.projection),this.attributions_=Cp(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,l){n.viewResolver=s,n.viewRejector=l})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Cp(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Cp(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),t=>r):null}const En={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class us extends Oi{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class bp extends tv{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=La,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(zt(this.format_,"`format` must be set when `url` is set"),this.loader_=Sp(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:mb;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new Rp:null,this.loadedExtentsRtree_=new Rp,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,l;Array.isArray(t.features)?l=t.features:t.features&&(s=t.features,l=s.getArray()),!n&&s===void 0&&(s=new Wn(l)),l!==void 0&&this.addFeaturesInternal(l),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=It(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const l=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(l,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new us(En.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof In||(this.featureChangeKeys_[t]=[At(n,mt.CHANGE,this.handleFeatureChange_,this),At(n,al.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const l=String(n.getId());if(!(l in this.idIndex_))this.idIndex_[l]=n;else if(n instanceof In){const o=this.idIndex_[l];o instanceof In?Array.isArray(o)?o.push(n):this.idIndex_[l]=[o,n]:s=!1}else s=!1}return s&&(zt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],l=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],d=It(h);this.addToIndex_(d,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],d=It(h);this.setupChangeEvents_(d,h);const _=h.getGeometry();if(_){const m=_.getExtent();n.push(m),l.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,l),this.hasListener(En.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new us(En.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(En.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(En.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(Ze.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(Ze.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Kt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new us(En.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(l){const o=l.getGeometry();if(o instanceof In||o.intersectsCoordinate(t))return n(l)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const l=s.getGeometry();if(l instanceof In||l.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ol(this.nullGeometryFeatures_)||Ud(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const l=$p(t,n);return[].concat(...l.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],l=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||Da,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),y=h;if(h=m instanceof In?0:m.closestPointXY(s,l,c,h),h<y){o=_;const E=Math.sqrt(h);d[0]=s-E,d[1]=l-E,d[2]=s+E,d[3]=l+E}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=It(n),l=n.getGeometry();if(!l)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=l.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new us(En.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:It(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ol(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const l=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const d=o[c];l.forEachInExtent(d,function(m){return Jr(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new us(En.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new us(En.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new us(En.FEATURESLOADERROR))}),l.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(l){if(Ia(l.extent,t))return l});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,l=t.length;s<l;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=It(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const s=this.featureChangeKeys_[n];s==null||s.forEach(Kt),delete this.featureChangeKeys_[n];const l=t.getId();if(l!==void 0){const o=l.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(En.REMOVEFEATURE)&&this.dispatchEvent(new us(En.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){zt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Sp(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const Kr=[0,0,0],cs=5;class ev{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,zt(jS(this.resolutions_,(l,o)=>o-l),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let l=0,o=this.resolutions_.length-1;l<o;++l)if(!n)n=this.resolutions_[l]/this.resolutions_[l+1];else if(this.resolutions_[l]/this.resolutions_[l+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,zt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=$s(s)),zt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,zt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:sg,zt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((l,o)=>{const c=new pg(Math.min(0,l[0]),Math.max(l[0]-1,-1),Math.min(0,l[1]),Math.max(l[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const l=this.getTileRangeForExtentAndZ(t,n);for(let o=l.minX,c=l.maxX;o<=c;++o)for(let h=l.minY,d=l.maxY;h<=d;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,l){let o,c,h,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,l);_>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=Zr(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(d,_,s),n(_,o))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return Zr(o,o+1,c,c+1,n)}const l=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const l=t[0],o=t[1],c=t[2];if(n===l)return Zr(o,c,o,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-l),_=Math.floor(o*d),m=Math.floor(c*d);if(n<l)return Zr(_,_,m,m,s);const y=Math.floor(d*(o+1))-1,E=Math.floor(d*(c+1))-1;return Zr(_,y,m,E,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Kr);const l=Kr[1],o=Kr[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Kr);const c=Kr[1],h=Kr[2];return Zr(l,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),l=Ve(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*l[0]*s,n[1]-(t[2]+.5)*l[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),l=this.getResolution(t[0]),o=Ve(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*l,h=s[1]-(t[2]+1)*o[1]*l,d=c+o[0]*l,_=h+o[1]*l;return wi(c,h,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,l,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),_=Ve(this.getTileSize(c),this.tmpSize_);let m=h*(t-d[0])/s/_[0],y=h*(d[1]-n)/s/_[1];return l?(m=du(m,cs)-1,y=du(y,cs)-1):(m=fu(m,cs),y=fu(y,cs)),Gu(c,m,y,o)}getTileCoordForXYAndZ_(t,n,s,l,o){const c=this.getOrigin(s),h=this.getResolution(s),d=Ve(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/h/d[0],m=(c[1]-n)/h/d[1];return l?(_=du(_,cs)-1,m=du(m,cs)-1):(_=fu(_,cs),m=fu(m,cs)),Gu(s,_,m,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=Gd(this.resolutions_,t,n||0);return Wt(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return EE(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let l=this.minZoom;l<n;++l)s[l]=this.getTileRangeForExtentAndZ(t,l);this.fullTileRanges_=s}}function nv(r){let t=r.getDefaultTileGrid();return t||(t=xb(r),r.setDefaultTileGrid(t)),t}function Eb(r,t,n){const s=t[0],l=r.getTileCoordCenter(t),o=Eg(n);if(!ul(o,l)){const c=Yt(o),h=Math.ceil((o[0]-l[0])/c);return l[0]+=c*h,r.getTileCoordForCoordAndZ(l,s)}return t}function vb(r,t,n,s){s=s!==void 0?s:"top-left";const l=iv(r,t,n);return new ev({extent:r,origin:ox(r,s),resolutions:l,tileSize:n})}function Sb(r){const t=r||{},n=t.extent||We("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:iv(n,t.maxZoom,t.tileSize,t.maxResolution)};return new ev(s)}function iv(r,t,n,s){t=t!==void 0?t:ET,n=Ve(n!==void 0?n:sg);const l=Xe(r),o=Yt(r);s=s>0?s:Math.max(o/n[0],l/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function xb(r,t,n,s){const l=Eg(r);return vb(l,t,n,s)}function Eg(r){r=We(r);let t=r.getExtent();if(!t){const n=180*Pd.degrees/r.getMetersPerUnit();t=wi(-n,-n,n,n)}return t}const Tb=/\{z\}/g,Rb=/\{x\}/g,Cb=/\{y\}/g,bb=/\{-y\}/g;function wb(r,t,n,s,l){return r.replace(Tb,t.toString()).replace(Rb,n.toString()).replace(Cb,s.toString()).replace(bb,function(){if(l===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(l-s).toString()})}function Ab(r){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(r);if(n){const s=n[1].charCodeAt(0),l=n[2].charCodeAt(0);let o;for(o=s;o<=l;++o)t.push(r.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(r),n){const s=parseInt(n[2],10);for(let l=parseInt(n[1],10);l<=s;l++)t.push(r.replace(n[0],l.toString()));return t}return t.push(r),t}function Mb(r,t){return function(n,s,l){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return wb(r,c,n[1],n[2],o)}}function Ob(r,t){const n=r.length,s=new Array(n);for(let l=0;l<n;++l)s[l]=Mb(r[l],t);return Db(s)}function Db(r){return r.length===1?r[0]:function(t,n,s){if(!t)return;const l=AC(t),o=il(l,r.length);return r[o](t,n,s)}}class Lb extends tv{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&Ve(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||It(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,l,o){return Ot()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:nv(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const l=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=Ve(l.getTileSize(t),this.tmpSize);return o==1?c:gR(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),l=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=Eb(l,t,s)),OC(t,l)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class Ib extends Oi{constructor(t,n){super(t),this.tile=n}}const ld={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class vg extends Lb{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===vg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=It(n),l=n.getState();let o;l==ht.LOADING?(this.tileLoadingKeys_[s]=!0,o=ld.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=l==ht.ERROR?ld.TILELOADERROR:l==ht.LOADED?ld.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Ib(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=Ab(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ob(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class Nb extends vg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:zb,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:ZE,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Gf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Gf(n,t)))return this.tileGrid;const s=It(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=nv(t)),this.tileGridForProjection[s]}createTile_(t,n,s,l,o,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,o),_=d?this.tileUrlFunction(d,l,o):void 0,m=new this.tileClass(h,_!==void 0?ht.IDLE:ht.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(mt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,l,o){const c=this.getProjection();if(!c||!o||Gf(c,o))return this.getTileInternal(t,n,s,l,c||o);const h=[t,n,s],d=this.getKey(),_=this.getTileGridForProjection(c),m=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),E=new jE(c,_,o,m,h,y,this.getTilePixelRatio(l),this.getGutter(),(x,S,R,T)=>this.getTileInternal(x,S,R,T,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return E.key=d,E}getTileInternal(t,n,s,l,o){const c=this.getKey();return this.createTile_(t,n,s,l,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=We(t);if(s){const l=It(s);l in this.tileGridForProjection||(this.tileGridForProjection[l]=n)}}}function zb(r,t){r.getImage().src=t}class Gb extends Nb{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:Sb({extent:Eg(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const Ub='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Xb extends Gb{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[Ub];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",l=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:l,wrapX:t.wrapX,zDirection:t.zDirection})}}const De={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Yb extends Xn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+RT,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(De.ELEMENT,this.handleElementChanged),this.addChangeListener(De.MAP,this.handleMapChanged),this.addChangeListener(De.OFFSET,this.handleOffsetChanged),this.addChangeListener(De.POSITION,this.handlePositionChanged),this.addChangeListener(De.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(De.ELEMENT)}getId(){return this.id}getMap(){return this.get(De.MAP)||null}getOffset(){return this.get(De.OFFSET)}getPosition(){return this.get(De.POSITION)}getPositioning(){return this.get(De.POSITIONING)}handleElementChanged(){SE(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){var n;this.mapPostrenderListenerKey&&((n=this.element)==null||n.remove(),Kt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=At(t,vi.POSTRENDER,this.render,this),this.updatePixelPosition();const s=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?s.insertBefore(this.element,s.childNodes[0]||null):s.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(De.ELEMENT,t)}setMap(t){this.set(De.MAP,t)}setOffset(t){this.set(De.OFFSET,t)}setPosition(t){this.set(De.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(De.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),l=this.getElement(),o=this.getRect(l,[bT(l),wT(l)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!Jr(s,o)){const h=o[0]-s[0],d=s[2]-o[2],_=o[1]-s[1],m=s[3]-o[3],y=[0,0];if(h<0?y[0]=h-c:d<0&&(y[0]=Math.abs(d)+c),_<0?y[1]=_-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const E=n.getView().getCenterInternal(),x=n.getPixelFromCoordinateInternal(E);if(!x)return;const S=[x[0]+y[0],x[1]+y[1]],R=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(S),duration:R.duration,easing:R.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),l=s.left+window.pageXOffset,o=s.top+window.pageYOffset;return[l,o,l+n[0],o+n[1]]}setPositioning(t){this.set(De.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),l=t.getSize();this.updateRenderedPosition(s,l)}updateRenderedPosition(t,n){const s=this.element.style,l=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=Math.round(t[0]+l[0])+"px",h=Math.round(t[1]+l[1])+"px";let d="0%",_="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?d="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(d="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?_="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(_="-50%");const m=`translate(${d}, ${_}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,s.transform=m)}getOptions(){return this.options}}var ad={exports:{}},od={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function Fb(){if(wp)return od;wp=1;var r=Hu();function t(d,_){return d===_&&(d!==0||1/d===1/_)||d!==d&&_!==_}var n=typeof Object.is=="function"?Object.is:t,s=r.useSyncExternalStore,l=r.useRef,o=r.useEffect,c=r.useMemo,h=r.useDebugValue;return od.useSyncExternalStoreWithSelector=function(d,_,m,y,E){var x=l(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function T(M){if(!C){if(C=!0,O=M,M=y(M),E!==void 0&&S.hasValue){var F=S.value;if(E(F,M))return L=F}return L=M}if(F=L,n(O,M))return F;var k=y(M);return E!==void 0&&E(F,k)?(O=M,F):(O=M,L=k)}var C=!1,O,L,A=m===void 0?null:m;return[function(){return T(_())},A===null?void 0:function(){return T(A())}]},[_,m,y,E]);var R=s(d,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=R},[R]),h(R),R},od}var Ap;function Bb(){return Ap||(Ap=1,ad.exports=Fb()),ad.exports}var Pb=Bb();function kb(r){r()}function Hb(){let r=null,t=null;return{clear(){r=null,t=null},notify(){kb(()=>{let n=r;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=r;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:r=l,function(){!s||r===null||(s=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:r=l.next)}}}}var Mp={notify(){},get:()=>[]};function Zb(r,t){let n,s=Mp,l=0,o=!1;function c(R){m();const T=s.subscribe(R);let C=!1;return()=>{C||(C=!0,T(),y())}}function h(){s.notify()}function d(){S.onStateChange&&S.onStateChange()}function _(){return o}function m(){l++,n||(n=r.subscribe(d),s=Hb())}function y(){l--,n&&l===0&&(n(),n=void 0,s.clear(),s=Mp)}function E(){o||(o=!0,m())}function x(){o&&(o=!1,y())}const S={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:_,trySubscribe:E,tryUnsubscribe:x,getListeners:()=>s};return S}var jb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kb=jb(),qb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vb=qb(),Wb=()=>Kb||Vb?jt.useLayoutEffect:jt.useEffect,Qb=Wb(),ud=Symbol.for("react-redux-context"),cd=typeof globalThis<"u"?globalThis:{};function Jb(){if(!jt.createContext)return{};const r=cd[ud]??(cd[ud]=new Map);let t=r.get(jt.createContext);return t||(t=jt.createContext(null),r.set(jt.createContext,t)),t}var ys=Jb();function $b(r){const{children:t,context:n,serverState:s,store:l}=r,o=jt.useMemo(()=>{const d=Zb(l);return{store:l,subscription:d,getServerState:s?()=>s:void 0}},[l,s]),c=jt.useMemo(()=>l.getState(),[l]);Qb(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==l.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,c]);const h=n||ys;return jt.createElement(h.Provider,{value:o},t)}var tw=$b;function Sg(r=ys){return function(){return jt.useContext(r)}}var sv=Sg();function rv(r=ys){const t=r===ys?sv:Sg(r),n=()=>{const{store:s}=t();return s};return Object.assign(n,{withTypes:()=>n}),n}var ew=rv();function nw(r=ys){const t=r===ys?ew:rv(r),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var iw=nw(),sw=(r,t)=>r===t;function rw(r=ys){const t=r===ys?sv:Sg(r),n=(s,l={})=>{const{equalityFn:o=sw}=typeof l=="function"?{equalityFn:l}:l,c=t(),{store:h,subscription:d,getServerState:_}=c;jt.useRef(!0);const m=jt.useCallback({[s.name](E){return s(E)}}[s.name],[s]),y=Pb.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,_||h.getState,m,o);return jt.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var Md=rw();const lw=({pulseRedPoints:r=!0})=>{const t=Md(S=>S.timeline.year),n=Md(S=>S.sidebar.activeSets),s=jt.useRef(null),l=jt.useRef(null),o=jt.useRef(null),c=jt.useRef({}),[h,d]=jt.useState(null),_={yellow:"#F1C40F",red:"#E74C3C",violet:"#9B59B6"},m={red:[{lon:3.0333,lat:43.1833,sizeKm:50,opacity:.4,label:"Zone rouge : Ste"},{lon:-1.9336,lat:46.7075,sizeKm:100,opacity:.4,label:"Zone rouge : La Rochelle"}],violet:[{lon:-4.4944,lat:48.3904,sizeKm:200,opacity:.4}]};jt.useEffect(()=>{if(!s.current)return;const S=new _C({target:s.current,layers:[new UC({source:new Xb})],view:new qn({center:zf([2.35,46.5]),zoom:6})});if(d(S),l.current){const R=new Yb({element:l.current,positioning:"bottom-center",stopEvent:!1,offset:[0,-15]});S.addOverlay(R),o.current=R}return()=>S.setTarget(void 0)},[]),jt.useEffect(()=>{if(h){if(Object.values(c.current).forEach(S=>{h.removeLayer(S)}),c.current={},n.forEach(S=>{if(S==="yellow")return;const R=m[S];if(!R)return;const T=R.map(({lon:L,lat:A,sizeKm:M,opacity:F,label:k})=>{const B=zf([L,A]),V=M*1e3,J=new Oa(B,V),it=new Xu(J);return it.setStyle(new Ci({fill:new Ws({color:E(_[S],F)})})),k&&it.set("label",k),it}),C=new bp({features:T}),O=new vp({source:C});S==="red"&&r&&O.on("postrender",L=>{const A=L.frameState,M=(A==null?void 0:A.time)??0%1e3,F=1+.05*Math.sin(M/1e3*2*Math.PI);C.getFeatures().forEach(k=>{const B=k.getGeometry();if(B instanceof Oa){const V=k.get("originalRadius")||B.getRadius();B.setRadius(V*F),k.set("originalRadius",V)}}),h.render()}),c.current[S]=O,h.addLayer(O)}),n.includes("yellow")){const S=new vp({source:new bp});c.current.yellow=S,S.setOpacity(0),h.addLayer(S),y(t)}h.on("pointermove",function(S){if(!o.current||!l.current)return;const R=h.getEventPixel(S.originalEvent),T=h.forEachFeatureAtPixel(R,function(C){return C});if(T&&T.get("label")){const C=S.coordinate;l.current.innerHTML=T.get("label"),o.current.setPosition(C),l.current.style.display="block"}else l.current.style.display="none"})}},[n,h,r]),jt.useEffect(()=>{h&&c.current.yellow&&y(t)},[t,h]);async function y(S){const R=c.current.yellow;if(!R)return;const T=R.getSource();if(T){T.clear();try{const O=x(S).map(({lon:M,lat:F,sizeKm:k})=>{const B=zf([M,F]),V=new Oa(B,k*1e3),J=new Xu(V);return J.setStyle(new Ci({fill:new Ws({color:E(_.yellow,1)})})),J});T.addFeatures(O),R.setOpacity(0);let L=0;const A=setInterval(()=>{L+=.1,R.setOpacity(L),L>=1&&clearInterval(A)},30)}catch(C){console.error("Erreur lors de la gnration des points jaunes:",C)}}}function E(S,R){const T=S.replace("#",""),C=parseInt(T,16),O=C>>16&255,L=C>>8&255,A=C&255;return`rgba(${O}, ${L}, ${A}, ${R})`}function x(S){const R=10+Math.floor((S-1800)/10);return Array.from({length:R}).map(()=>({lon:-5+Math.random()*10,lat:43+Math.random()*5,sizeKm:5+Math.random()*20,opacity:1}))}return Ce.jsxs("div",{className:"w-full flex-1 relative",children:[Ce.jsx("div",{ref:s,style:{width:"100%",height:"100%"}}),Ce.jsx("div",{ref:l,style:{backgroundColor:"white",border:"1px solid black",padding:"4px 8px",borderRadius:"4px",position:"absolute",bottom:"12px",left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",display:"none",pointerEvents:"none",fontSize:"0.8rem"}})]})};function Re(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var aw=typeof Symbol=="function"&&Symbol.observable||"@@observable",Op=aw,hd=()=>Math.random().toString(36).substring(7).split("").join("."),ow={INIT:`@@redux/INIT${hd()}`,REPLACE:`@@redux/REPLACE${hd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hd()}`},Yu=ow;function xg(r){if(typeof r!="object"||r===null)return!1;let t=r;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t||Object.getPrototypeOf(r)===null}function lv(r,t,n){if(typeof r!="function")throw new Error(Re(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Re(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Re(1));return n(lv)(r,t)}let s=r,l=t,o=new Map,c=o,h=0,d=!1;function _(){c===o&&(c=new Map,o.forEach((T,C)=>{c.set(C,T)}))}function m(){if(d)throw new Error(Re(3));return l}function y(T){if(typeof T!="function")throw new Error(Re(4));if(d)throw new Error(Re(5));let C=!0;_();const O=h++;return c.set(O,T),function(){if(C){if(d)throw new Error(Re(6));C=!1,_(),c.delete(O),o=null}}}function E(T){if(!xg(T))throw new Error(Re(7));if(typeof T.type>"u")throw new Error(Re(8));if(typeof T.type!="string")throw new Error(Re(17));if(d)throw new Error(Re(9));try{d=!0,l=s(l,T)}finally{d=!1}return(o=c).forEach(O=>{O()}),T}function x(T){if(typeof T!="function")throw new Error(Re(10));s=T,E({type:Yu.REPLACE})}function S(){const T=y;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Re(11));function O(){const A=C;A.next&&A.next(m())}return O(),{unsubscribe:T(O)}},[Op](){return this}}}return E({type:Yu.INIT}),{dispatch:E,subscribe:y,getState:m,replaceReducer:x,[Op]:S}}function uw(r){Object.keys(r).forEach(t=>{const n=r[t];if(typeof n(void 0,{type:Yu.INIT})>"u")throw new Error(Re(12));if(typeof n(void 0,{type:Yu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Re(13))})}function cw(r){const t=Object.keys(r),n={};for(let o=0;o<t.length;o++){const c=t[o];typeof r[c]=="function"&&(n[c]=r[c])}const s=Object.keys(n);let l;try{uw(n)}catch(o){l=o}return function(c={},h){if(l)throw l;let d=!1;const _={};for(let m=0;m<s.length;m++){const y=s[m],E=n[y],x=c[y],S=E(x,h);if(typeof S>"u")throw h&&h.type,new Error(Re(14));_[y]=S,d=d||S!==x}return d=d||s.length!==Object.keys(c).length,d?_:c}}function Fu(...r){return r.length===0?t=>t:r.length===1?r[0]:r.reduce((t,n)=>(...s)=>t(n(...s)))}function hw(...r){return t=>(n,s)=>{const l=t(n,s);let o=()=>{throw new Error(Re(15))};const c={getState:l.getState,dispatch:(d,..._)=>o(d,..._)},h=r.map(d=>d(c));return o=Fu(...h)(l.dispatch),{...l,dispatch:o}}}function fw(r){return xg(r)&&"type"in r&&typeof r.type=="string"}var av=Symbol.for("immer-nothing"),Dp=Symbol.for("immer-draftable"),an=Symbol.for("immer-state");function zn(r,...t){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var gl=Object.getPrototypeOf;function Qs(r){return!!r&&!!r[an]}function Mi(r){var t;return r?ov(r)||Array.isArray(r)||!!r[Dp]||!!((t=r.constructor)!=null&&t[Dp])||gc(r)||_c(r):!1}var dw=Object.prototype.constructor.toString();function ov(r){if(!r||typeof r!="object")return!1;const t=gl(r);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dw}function Bu(r,t){dc(r)===0?Reflect.ownKeys(r).forEach(n=>{t(n,r[n],r)}):r.forEach((n,s)=>t(s,n,r))}function dc(r){const t=r[an];return t?t.type_:Array.isArray(r)?1:gc(r)?2:_c(r)?3:0}function Od(r,t){return dc(r)===2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)}function uv(r,t,n){const s=dc(r);s===2?r.set(t,n):s===3?r.add(n):r[t]=n}function gw(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t}function gc(r){return r instanceof Map}function _c(r){return r instanceof Set}function Bs(r){return r.copy_||r.base_}function Dd(r,t){if(gc(r))return new Map(r);if(_c(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=ov(r);if(t===!0||t==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(r);delete s[an];let l=Reflect.ownKeys(s);for(let o=0;o<l.length;o++){const c=l[o],h=s[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:r[c]})}return Object.create(gl(r),s)}else{const s=gl(r);if(s!==null&&n)return{...r};const l=Object.create(s);return Object.assign(l,r)}}function Tg(r,t=!1){return mc(r)||Qs(r)||!Mi(r)||(dc(r)>1&&(r.set=r.add=r.clear=r.delete=_w),Object.freeze(r),t&&Object.entries(r).forEach(([n,s])=>Tg(s,!0))),r}function _w(){zn(2)}function mc(r){return Object.isFrozen(r)}var mw={};function Js(r){const t=mw[r];return t||zn(0,r),t}var ka;function cv(){return ka}function yw(r,t){return{drafts_:[],parent_:r,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lp(r,t){t&&(Js("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=t)}function Ld(r){Id(r),r.drafts_.forEach(pw),r.drafts_=null}function Id(r){r===ka&&(ka=r.parent_)}function Ip(r){return ka=yw(ka,r)}function pw(r){const t=r[an];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Np(r,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return r!==void 0&&r!==n?(n[an].modified_&&(Ld(t),zn(4)),Mi(r)&&(r=Pu(t,r),t.parent_||ku(t,r)),t.patches_&&Js("Patches").generateReplacementPatches_(n[an].base_,r,t.patches_,t.inversePatches_)):r=Pu(t,n,[]),Ld(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),r!==av?r:void 0}function Pu(r,t,n){if(mc(t))return t;const s=t[an];if(!s)return Bu(t,(l,o)=>zp(r,s,t,l,o,n)),t;if(s.scope_!==r)return t;if(!s.modified_)return ku(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let o=l,c=!1;s.type_===3&&(o=new Set(l),l.clear(),c=!0),Bu(o,(h,d)=>zp(r,s,l,h,d,n,c)),ku(r,l,!1),n&&r.patches_&&Js("Patches").generatePatches_(s,n,r.patches_,r.inversePatches_)}return s.copy_}function zp(r,t,n,s,l,o,c){if(Qs(l)){const h=o&&t&&t.type_!==3&&!Od(t.assigned_,s)?o.concat(s):void 0,d=Pu(r,l,h);if(uv(n,s,d),Qs(d))r.canAutoFreeze_=!1;else return}else c&&n.add(l);if(Mi(l)&&!mc(l)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Pu(r,l),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&ku(r,l)}}function ku(r,t,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Tg(t,n)}function Ew(r,t){const n=Array.isArray(r),s={type_:n?1:0,scope_:t?t.scope_:cv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,o=Rg;n&&(l=[s],o=Ha);const{revoke:c,proxy:h}=Proxy.revocable(l,o);return s.draft_=h,s.revoke_=c,h}var Rg={get(r,t){if(t===an)return r;const n=Bs(r);if(!Od(n,t))return vw(r,n,t);const s=n[t];return r.finalized_||!Mi(s)?s:s===fd(r.base_,t)?(dd(r),r.copy_[t]=zd(s,r)):s},has(r,t){return t in Bs(r)},ownKeys(r){return Reflect.ownKeys(Bs(r))},set(r,t,n){const s=hv(Bs(r),t);if(s!=null&&s.set)return s.set.call(r.draft_,n),!0;if(!r.modified_){const l=fd(Bs(r),t),o=l==null?void 0:l[an];if(o&&o.base_===n)return r.copy_[t]=n,r.assigned_[t]=!1,!0;if(gw(n,l)&&(n!==void 0||Od(r.base_,t)))return!0;dd(r),Nd(r)}return r.copy_[t]===n&&(n!==void 0||t in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[t])||(r.copy_[t]=n,r.assigned_[t]=!0),!0},deleteProperty(r,t){return fd(r.base_,t)!==void 0||t in r.base_?(r.assigned_[t]=!1,dd(r),Nd(r)):delete r.assigned_[t],r.copy_&&delete r.copy_[t],!0},getOwnPropertyDescriptor(r,t){const n=Bs(r),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{writable:!0,configurable:r.type_!==1||t!=="length",enumerable:s.enumerable,value:n[t]}},defineProperty(){zn(11)},getPrototypeOf(r){return gl(r.base_)},setPrototypeOf(){zn(12)}},Ha={};Bu(Rg,(r,t)=>{Ha[r]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ha.deleteProperty=function(r,t){return Ha.set.call(this,r,t,void 0)};Ha.set=function(r,t,n){return Rg.set.call(this,r[0],t,n,r[0])};function fd(r,t){const n=r[an];return(n?Bs(n):r)[t]}function vw(r,t,n){var l;const s=hv(t,n);return s?"value"in s?s.value:(l=s.get)==null?void 0:l.call(r.draft_):void 0}function hv(r,t){if(!(t in r))return;let n=gl(r);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=gl(n)}}function Nd(r){r.modified_||(r.modified_=!0,r.parent_&&Nd(r.parent_))}function dd(r){r.copy_||(r.copy_=Dd(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Sw=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,s)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const c=this;return function(d=o,..._){return c.produce(d,m=>n.call(this,m,..._))}}typeof n!="function"&&zn(6),s!==void 0&&typeof s!="function"&&zn(7);let l;if(Mi(t)){const o=Ip(this),c=zd(t,void 0);let h=!0;try{l=n(c),h=!1}finally{h?Ld(o):Id(o)}return Lp(o,s),Np(l,o)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===av&&(l=void 0),this.autoFreeze_&&Tg(l,!0),s){const o=[],c=[];Js("Patches").generateReplacementPatches_(t,l,o,c),s(o,c)}return l}else zn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,d=>t(d,...h));let s,l;return[this.produce(t,n,(c,h)=>{s=c,l=h}),s,l]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Mi(r)||zn(8),Qs(r)&&(r=xw(r));const t=Ip(this),n=zd(r,void 0);return n[an].isManual_=!0,Id(t),n}finishDraft(r,t){const n=r&&r[an];(!n||!n.isManual_)&&zn(9);const{scope_:s}=n;return Lp(s,t),Np(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){r=l.value;break}}n>-1&&(t=t.slice(n+1));const s=Js("Patches").applyPatches_;return Qs(r)?s(r,t):this.produce(r,l=>s(l,t))}};function zd(r,t){const n=gc(r)?Js("MapSet").proxyMap_(r,t):_c(r)?Js("MapSet").proxySet_(r,t):Ew(r,t);return(t?t.scope_:cv()).drafts_.push(n),n}function xw(r){return Qs(r)||zn(10,r),fv(r)}function fv(r){if(!Mi(r)||mc(r))return r;const t=r[an];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Dd(r,t.scope_.immer_.useStrictShallowCopy_)}else n=Dd(r,!0);return Bu(n,(s,l)=>{uv(n,s,fv(l))}),t&&(t.finalized_=!1),n}var on=new Sw,dv=on.produce;on.produceWithPatches.bind(on);on.setAutoFreeze.bind(on);on.setUseStrictShallowCopy.bind(on);on.applyPatches.bind(on);on.createDraft.bind(on);on.finishDraft.bind(on);function gv(r){return({dispatch:n,getState:s})=>l=>o=>typeof o=="function"?o(n,s,r):l(o)}var Tw=gv(),Rw=gv,Cw=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fu:Fu.apply(null,arguments)};function Gp(r,t){function n(...s){if(t){let l=t(...s);if(!l)throw new Error(bi(0));return{type:r,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:r,payload:s[0]}}return n.toString=()=>`${r}`,n.type=r,n.match=s=>fw(s)&&s.type===r,n}var _v=class wa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wa.prototype)}static get[Symbol.species](){return wa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wa(...t[0].concat(this)):new wa(...t.concat(this))}};function Up(r){return Mi(r)?dv(r,()=>{}):r}function Xp(r,t,n){return r.has(t)?r.get(t):r.set(t,n(t)).get(t)}function bw(r){return typeof r=="boolean"}var ww=()=>function(t){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let c=new _v;return n&&(bw(n)?c.push(Tw):c.push(Rw(n.extraArgument))),c},Aw="RTK_autoBatch",Yp=r=>t=>{setTimeout(t,r)},Mw=(r={type:"raf"})=>t=>(...n)=>{const s=t(...n);let l=!0,o=!1,c=!1;const h=new Set,d=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yp(10):r.type==="callback"?r.queueNotification:Yp(r.timeout),_=()=>{c=!1,o&&(o=!1,h.forEach(m=>m()))};return Object.assign({},s,{subscribe(m){const y=()=>l&&m(),E=s.subscribe(y);return h.add(m),()=>{E(),h.delete(m)}},dispatch(m){var y;try{return l=!((y=m==null?void 0:m.meta)!=null&&y[Aw]),o=!l,o&&(c||(c=!0,d(_))),s.dispatch(m)}finally{l=!0}}})},Ow=r=>function(n){const{autoBatch:s=!0}=n??{};let l=new _v(r);return s&&l.push(Mw(typeof s=="object"?s:void 0)),l};function Dw(r){const t=ww(),{reducer:n=void 0,middleware:s,devTools:l=!0,preloadedState:o=void 0,enhancers:c=void 0}=r||{};let h;if(typeof n=="function")h=n;else if(xg(n))h=cw(n);else throw new Error(bi(1));let d;typeof s=="function"?d=s(t):d=t();let _=Fu;l&&(_=Cw({trace:!1,...typeof l=="object"&&l}));const m=hw(...d),y=Ow(m);let E=typeof c=="function"?c(y):y();const x=_(...E);return lv(h,o,x)}function mv(r){const t={},n=[];let s;const l={addCase(o,c){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(bi(28));if(h in t)throw new Error(bi(29));return t[h]=c,l},addMatcher(o,c){return n.push({matcher:o,reducer:c}),l},addDefaultCase(o){return s=o,l}};return r(l),[t,n,s]}function Lw(r){return typeof r=="function"}function Iw(r,t){let[n,s,l]=mv(t),o;if(Lw(r))o=()=>Up(r());else{const h=Up(r);o=()=>h}function c(h=o(),d){let _=[n[d.type],...s.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return _.filter(m=>!!m).length===0&&(_=[l]),_.reduce((m,y)=>{if(y)if(Qs(m)){const x=y(m,d);return x===void 0?m:x}else{if(Mi(m))return dv(m,E=>y(E,d));{const E=y(m,d);if(E===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return m},h)}return c.getInitialState=o,c}var Nw=Symbol.for("rtk-slice-createasyncthunk");function zw(r,t){return`${r}/${t}`}function Gw({creators:r}={}){var n;const t=(n=r==null?void 0:r.asyncThunk)==null?void 0:n[Nw];return function(l){const{name:o,reducerPath:c=o}=l;if(!o)throw new Error(bi(11));const h=(typeof l.reducers=="function"?l.reducers(Xw()):l.reducers)||{},d=Object.keys(h),_={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(L,A){const M=typeof L=="string"?L:L.type;if(!M)throw new Error(bi(12));if(M in _.sliceCaseReducersByType)throw new Error(bi(13));return _.sliceCaseReducersByType[M]=A,m},addMatcher(L,A){return _.sliceMatchers.push({matcher:L,reducer:A}),m},exposeAction(L,A){return _.actionCreators[L]=A,m},exposeCaseReducer(L,A){return _.sliceCaseReducersByName[L]=A,m}};d.forEach(L=>{const A=h[L],M={reducerName:L,type:zw(o,L),createNotation:typeof l.reducers=="function"};Fw(A)?Pw(M,A,m,t):Yw(M,A,m)});function y(){const[L={},A=[],M=void 0]=typeof l.extraReducers=="function"?mv(l.extraReducers):[l.extraReducers],F={...L,..._.sliceCaseReducersByType};return Iw(l.initialState,k=>{for(let B in F)k.addCase(B,F[B]);for(let B of _.sliceMatchers)k.addMatcher(B.matcher,B.reducer);for(let B of A)k.addMatcher(B.matcher,B.reducer);M&&k.addDefaultCase(M)})}const E=L=>L,x=new Map;let S;function R(L,A){return S||(S=y()),S(L,A)}function T(){return S||(S=y()),S.getInitialState()}function C(L,A=!1){function M(k){let B=k[L];return typeof B>"u"&&A&&(B=T()),B}function F(k=E){const B=Xp(x,A,()=>new WeakMap);return Xp(B,k,()=>{const V={};for(const[J,it]of Object.entries(l.selectors??{}))V[J]=Uw(it,k,T,A);return V})}return{reducerPath:L,getSelectors:F,get selectors(){return F(M)},selectSlice:M}}const O={name:o,reducer:R,actions:_.actionCreators,caseReducers:_.sliceCaseReducersByName,getInitialState:T,...C(c),injectInto(L,{reducerPath:A,...M}={}){const F=A??c;return L.inject({reducerPath:F,reducer:R},M),{...O,...C(F,!0)}}};return O}}function Uw(r,t,n,s){function l(o,...c){let h=t(o);return typeof h>"u"&&s&&(h=n()),r(h,...c)}return l.unwrapped=r,l}var yv=Gw();function Xw(){function r(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return r.withTypes=()=>r,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:r}}function Yw({type:r,reducerName:t,createNotation:n},s,l){let o,c;if("reducer"in s){if(n&&!Bw(s))throw new Error(bi(17));o=s.reducer,c=s.prepare}else o=s;l.addCase(r,o).exposeCaseReducer(t,o).exposeAction(t,c?Gp(r,c):Gp(r))}function Fw(r){return r._reducerDefinitionType==="asyncThunk"}function Bw(r){return r._reducerDefinitionType==="reducerWithPrepare"}function Pw({type:r,reducerName:t},n,s,l){if(!l)throw new Error(bi(18));const{payloadCreator:o,fulfilled:c,pending:h,rejected:d,settled:_,options:m}=n,y=l(r,o,m);s.exposeAction(t,y),c&&s.addCase(y.fulfilled,c),h&&s.addCase(y.pending,h),d&&s.addCase(y.rejected,d),_&&s.addMatcher(y.settled,_),s.exposeCaseReducer(t,{fulfilled:c||Tu,pending:h||Tu,rejected:d||Tu,settled:_||Tu})}function Tu(){}function bi(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const pv=yv({name:"timeline",initialState:{year:"..."},reducers:{setYear:(r,t)=>{r.year=t.payload}}}),{setYear:kw}=pv.actions,Hw=pv.reducer;function Zw(){const r=iw(),t=Md(T=>T.timeline.year),n=T=>{r(kw(T))},s=jt.useRef(null),l=jt.useRef(null),[o,c]=jt.useState(!1),h=1900,d=2025,_=()=>{const T=m(),{containerStartX:C,containerEndX:O,draggableCenterX:L}=T,A=(L-C)/(O-C);return Math.round(A*(d-h)+h)};jt.useEffect(()=>{n(_())},[]);const m=()=>{const T=l.current.getBoundingClientRect(),C=s.current.getBoundingClientRect(),O=T.left,L=T.right,A=C.left,M=C.right,F=A+(M-A)/2;return{containerStartX:O,containerEndX:L,draggableStartX:A,draggableEndX:M,draggableCenterX:F}},y=T=>{const C=T.clientX;x(C)},E=T=>{const C=T.touches[0].clientX;x(C)},x=T=>{if(!o)return;const C=m(),{containerStartX:O,containerEndX:L,draggableStartX:A,draggableEndX:M}=C,k=T-O-(M-A)/2;console.log(k);const B=L-O;k<0||k>B||(s.current.style.left=`${k}px`,n(_()))},S=()=>{c(!0)},R=()=>{c(!1);const T=_();n(T)};return Ce.jsx("div",{className:"w-full bg-primary h-22 bottom-0 left-0 flex items-center justify-center p-2",ref:l,onMouseMove:y,onTouchMove:E,onMouseLeave:R,onTouchEnd:R,children:Ce.jsxs("div",{className:"w-full h-12 bg-timeline-bg flex items-center rounded-full relative",children:[Ce.jsx("p",{className:"absolute left-4 top-1/4 text-white",children:h}),Ce.jsx("div",{className:"w-14 h-14 absolute left-0 bg-timeline-round z-10 border-white border-2 rounded-full flex items-center justify-center text-md text-white cursor-pointer select-none",ref:s,onMouseDown:S,onTouchStart:S,children:t}),Ce.jsx("p",{className:"absolute right-4 top-1/4 text-white",children:d})]})})}function jw({children:r}){return Ce.jsx("div",{className:"min-h-screen w-screen",children:Ce.jsx("div",{className:"flex w-full",children:r})})}const Kw=()=>Ce.jsx(jw,{children:Ce.jsxs("main",{className:"w-full h-full flex flex-col ",children:[Ce.jsx(lw,{}),Ce.jsx(Zw,{})]})}),Ev=yv({name:"sidebar",initialState:{activeSets:["yellow"]},reducers:{handleItemClick:(r,t)=>{t.payload==="global"?r.activeSets=["yellow","red","violet"]:r.activeSets=[t.payload]},setActiveSets:(r,t)=>{r.activeSets=t.payload}}}),{handleItemClick:$w,setActiveSets:t2}=Ev.actions,qw=Ev.reducer,Vw=Dw({reducer:{sidebar:qw,timeline:Hw}});PS.createRoot(document.getElementById("root")).render(Ce.jsx(NS.StrictMode,{children:Ce.jsx(tw,{store:Vw,children:Ce.jsx(Kw,{})})}));
